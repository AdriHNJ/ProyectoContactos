(this["webpackJsonpmain-app"]=this["webpackJsonpmain-app"]||[]).push([[0],{1084:function(e,t,n){},1311:function(e,t,n){},1354:function(e,t,n){},1421:function(e,t){},1423:function(e,t){},1454:function(e,t){},1456:function(e,t){},1496:function(e,t){},1498:function(e,t){},1620:function(e,t){},1622:function(e,t){},1623:function(e,t){},1628:function(e,t){},1630:function(e,t){},1636:function(e,t){},1638:function(e,t){},1657:function(e,t){},1669:function(e,t){},1672:function(e,t){},1717:function(e,t,n){},2218:function(e,t,n){},2219:function(e,t,n){},2220:function(e,t,n){},2223:function(e,t,n){},2224:function(e,t,n){},2225:function(e,t,n){},2226:function(e,t,n){},2227:function(e,t,n){},2228:function(e,t,n){},2229:function(e,t,n){},2230:function(e,t,n){},2231:function(e,t,n){},2232:function(e,t,n){},2233:function(e,t,n){},2237:function(e,t,n){},2238:function(e,t,n){},2239:function(e,t,n){},2804:function(e,t,n){},2806:function(e,t,n){},2807:function(e,t,n){},2810:function(e,t,n){},2811:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(118),i=n.n(o),c=(n(1311),n(765),n(20)),l=n(410),s=n(1271),u=n(1272),d=n(13),b="SHOW_LOADER",p="HIDE_LOADER",j={visibleLoader:!1},m="@todo/ADD_USERS",h="@todo/ADD_EXPEDIENTE",O="@todo/CLEAR_EXPEDIENTE",f="@todo/ADD_COSTE",v="@todo/ADD_COSTES",g="@todo/ADD_VEHICULO",x="@todo/ADD_TAREASPENDIENTES",y="@todo/ADD_DOCUMENTOS",C={expedientes:void 0,expediente:void 0,coste:void 0,costes:void 0,vehiculo:void 0,tareasPendientes:void 0,documentos:void 0},w="LEGAL_ADMINISTRACION",I="EMAIL_ADMINISTRACION",S={legal:void 0},E="LOGIN_SUCCESS",N="LOGIN_FAIL",P="LOGIN_ISALREADYLOGGED",T="LOGIN_RESETPASSWORD",k={isLoggedIn:!1,user:void 0},R={Usuario:"",Permitir:!1,Mensaje:"",Auth:""},L="OPEN_POPUPEXPEDIENTES",D="OPEN_POPUPSUJETOS",M="ADD_DATAFORMCHANGE",A={openPopupExpediente:void 0,isOpenPopup:void 0,popupRef:void 0,isChanged:void 0},F={email:void 0},J="@todo/ADD_SUJETOS",z="@todo/ADD_SUJETO",U="@todo/CLEAR_SUJETO",V={sujeto:void 0,sujetos:void 0},_="ADD_COMPANIES",G="ADD_COMPANY",B="@todo/CLEAR_COMPANY",W="ADD_COMPANY_MODULO",q="CLEAR_COMPANY_MODULO",H="ADD_COMPANY_MODULO_SELECTED",Z="ADD_PARENT_COMPANY",K="ADD_COMPANY_MODULO_PARENT",X={company:void 0,companies:void 0,companyModulos:void 0,companyModulosSelected:void 0,parentCompany:void 0,parentCompanyModulos:void 0},Y="@todo/ADD_MODULOS",Q="@todo/ADD_MODULO",$="@todo/CLEAR_MODULO",ee={modulo:void 0,modulos:void 0},te="@todo/ADD_COMPONENTES",ne="@todo/ADD_COMPONENTE",ae="@todo/CLEAR_COMPONENTE",re={componente:void 0,componentes:void 0},oe="ADD_USUARIOS",ie="ADD_USUARIO",ce="@todo/CLEAR_USUARIO",le="ADD_ROLES",se={usuario:void 0,usuarios:void 0,roles:void 0},ue="ADD_DATOS_USUARIOS",de="ADD_DATO_USUARIO",be="CLEAR_DATO_USUARIO",pe={datoUsuario:void 0,datosUsuarios:void 0},je="@todo/ADD_MODULO_COMPONENTES",me="@todo/ADD_MODULO_COMPONENTE",he="@todo/CLEAR_MODULO_COMPONENTE",Oe={moduloComponente:void 0,moduloComponentes:void 0},fe="ADD_CALCULADORA_TRANSFERENCIAS",ve="@todo/CLEAR_CALCULADORA_TRANSFERENCIAS",ge={calculadoraTransferencias:void 0},xe="ADD_EMAIL",ye="@todo/CLEAR_EMAIL",Ce={email:void 0},we="ADD_ENLACE",Ie="ADD_ENLACES",Se="ADD_PARENT_ENLACES",Ee="@todo/CLEAR_ENLACE",Ne={enlace:void 0,enlaces:void 0,parentEnlaces:void 0},Pe="@todo/ADD_PERFILES",Te="@todo/ADD_PERFIL",ke="@todo/CLEAR_PERFIL",Re={perfil:void 0,perfiles:void 0},Le="@todo/ADD_PLANTILLA",De="@todo/ADD_PLANTILLA_CAMPOS",Me={plantilla:void 0,plantillaCampos:void 0},Ae=Object(l.combineReducers)({expediente:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(d.a)(Object(d.a)({},e),{},{expedientes:t.payload});case h:case O:return Object(d.a)(Object(d.a)({},e),{},{expediente:t.payload});case f:return Object(d.a)(Object(d.a)({},e),{},{coste:t.payload});case v:return Object(d.a)(Object(d.a)({},e),{},{costes:t.payload});case g:return Object(d.a)(Object(d.a)({},e),{},{vehiculo:t.payload});case x:return Object(d.a)(Object(d.a)({},e),{},{tareasPendientes:t.payload});case y:return Object(d.a)(Object(d.a)({},e),{},{documentos:t.payload});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:case P:return Object(d.a)(Object(d.a)({},e),{},{isLoggedIn:!0,user:t.payload});case N:return Object(d.a)(Object(d.a)({},e),{},{isLoggedIn:!1,user:t.payload});default:return e}},config:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:case p:return Object(d.a)(Object(d.a)({},e),{},{visibleLoader:t.payload});default:return e}},resetPasswd:function(){var e,t,n,a,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,o=arguments.length>1?arguments[1]:void 0;return o.type===T?Object(d.a)(Object(d.a)({},r),{},{Usuario:null===(e=o.payload)||void 0===e?void 0:e.Usuario,Permitir:null===(t=o.payload)||void 0===t?void 0:t.Permitir,Mensaje:null===(n=o.payload)||void 0===n?void 0:n.Mensaje,Auth:null===(a=o.payload)||void 0===a?void 0:a.Auth}):r},administracionLegal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;return t.type===w?Object(d.a)(Object(d.a)({},e),{},{legal:t.payload}):e},administracionEmail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;return t.type===I?Object(d.a)(Object(d.a)({},e),{},{email:t.payload}):e},sharedUtils:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(d.a)(Object(d.a)({},e),{},{openPopupExpediente:t.payload});case D:return Object(d.a)(Object(d.a)({},e),{},{isOpenPopup:t.payload.isOpenPopup,popupRef:t.payload.popupRef});case M:return Object(d.a)(Object(d.a)({},e),{},{isChanged:t.payload});default:return e}},sujeto:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:case U:return Object(d.a)(Object(d.a)({},e),{},{sujeto:t.payload});case J:return Object(d.a)(Object(d.a)({},e),{},{sujetos:t.payload});default:return e}},company:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(d.a)(Object(d.a)({},e),{},{companies:t.payload});case G:case B:return Object(d.a)(Object(d.a)({},e),{},{company:t.payload});case Z:return Object(d.a)(Object(d.a)({},e),{},{parentCompany:t.payload});case W:case q:return Object(d.a)(Object(d.a)({},e),{},{companyModulos:t.payload});case H:return Object(d.a)(Object(d.a)({},e),{},{companyModulosSelected:t.payload});case K:return Object(d.a)(Object(d.a)({},e),{},{parentCompanyModulos:t.payload});default:return e}},modulo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:case $:return Object(d.a)(Object(d.a)({},e),{},{modulo:t.payload});case Y:return Object(d.a)(Object(d.a)({},e),{},{modulos:t.payload});default:return e}},componente:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:case ae:return Object(d.a)(Object(d.a)({},e),{},{componente:t.payload});case te:return Object(d.a)(Object(d.a)({},e),{},{componentes:t.payload});default:return e}},usuario:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe:return Object(d.a)(Object(d.a)({},e),{},{usuarios:t.payload});case ie:case ce:return Object(d.a)(Object(d.a)({},e),{},{usuario:t.payload});case le:return Object(d.a)(Object(d.a)({},e),{},{roles:t.payload});default:return e}},datoUsuario:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue:return Object(d.a)(Object(d.a)({},e),{},{datosUsuarios:t.payload});case de:case be:return Object(d.a)(Object(d.a)({},e),{},{datoUsuario:t.payload});default:return e}},moduloComponente:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case me:case he:return Object(d.a)(Object(d.a)({},e),{},{moduloComponente:t.payload});case je:return Object(d.a)(Object(d.a)({},e),{},{moduloComponentes:t.payload});default:return e}},calculadoraTransferencias:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe:case ve:return Object(d.a)(Object(d.a)({},e),{},{calculadoraTransferencias:t.payload});default:return e}},email:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xe:case ye:return Object(d.a)(Object(d.a)({},e),{},{email:t.payload});default:return e}},enlace:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case we:case Ee:return Object(d.a)(Object(d.a)({},e),{},{enlace:t.payload});case Ie:return Object(d.a)(Object(d.a)({},e),{},{enlaces:t.payload});case Se:return Object(d.a)(Object(d.a)({},e),{},{parentEnlaces:t.payload});default:return e}},perfil:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Te:case ke:return Object(d.a)(Object(d.a)({},e),{},{perfil:t.payload});case Pe:return Object(d.a)(Object(d.a)({},e),{},{perfiles:t.payload});default:return e}},plantilla:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le:return Object(d.a)(Object(d.a)({},e),{},{plantilla:t.payload});case De:return Object(d.a)(Object(d.a)({},e),{},{plantillaCampos:t.payload});default:return e}}}),Fe=Ae,Je=[u.a],ze=Object(l.createStore)(Fe,Object(s.composeWithDevTools)(l.applyMiddleware.apply(void 0,Je))),Ue=n(53),Ve=n.n(Ue),_e=n(117),Ge=n(24),Be=(n(1354),n(180)),We=n(2),qe=n(72),He=function(e){return{type:E,payload:e}};function Ze(e,t,n){if(localStorage.getItem("user")){var a=new We.JsonConvert;a.valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL;var r=a.deserializeObject(JSON.parse(localStorage.getItem("user")),qe.UserModel);return n({type:P,payload:r}),!0}return!1}var Ke,Xe,Ye,Qe,$e,et,tt,nt,at,rt,ot,it,ct,lt,st,ut,dt,bt,pt,jt,mt,ht,Ot,ft,vt,gt,xt,yt=n(11),Ct=n(41),wt=n(12),It=(n(103),Ke=Object(We.JsonObject)("CompanyModuloModel"),Xe=Object(We.JsonProperty)("IdCompany",Number),Ye=Object(We.JsonProperty)("IdModulo",Number),Qe=Object(We.JsonProperty)("Nombre",String),Ke((et=function e(){Object(Ct.a)(this,e),Object(yt.a)(this,"IdCompany",tt,this),Object(yt.a)(this,"IdModulo",nt,this),Object(yt.a)(this,"Nombre",at,this)},tt=Object(wt.a)(et.prototype,"IdCompany",[Xe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),nt=Object(wt.a)(et.prototype,"IdModulo",[Ye],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),at=Object(wt.a)(et.prototype,"Nombre",[Qe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),$e=et))||$e),St=n(5),Et=n.n(St),Nt=n(21),Pt=n(753),Tt=n.n(Pt),kt=function(e){return{type:_,payload:e}},Rt=function(e){return{type:G,payload:e}},Lt=function(e){return{type:Z,payload:e}},Dt=function(e){return{type:W,payload:e}},Mt=function(e){return{type:K,payload:e}},At=n(40),Ft=n.n(At),Jt=n(66),zt=n(8),Ut=(rt=Object(We.JsonObject)("SujetoModel"),ot=Object(We.JsonProperty)("Id",Number,0),it=Object(We.JsonProperty)("NIF",String),ct=Object(We.JsonProperty)("Nombre",String),lt=Object(We.JsonProperty)("IdCompany",Number),rt((ut=function e(){Object(Ct.a)(this,e),Object(yt.a)(this,"Id",dt,this),Object(yt.a)(this,"NIF",bt,this),Object(yt.a)(this,"Nombre",pt,this),Object(yt.a)(this,"IdCompany",jt,this)},dt=Object(wt.a)(ut.prototype,"Id",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),bt=Object(wt.a)(ut.prototype,"NIF",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),pt=Object(wt.a)(ut.prototype,"Nombre",[ct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),jt=Object(wt.a)(ut.prototype,"IdCompany",[lt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),st=ut))||st),Vt=(mt=Object(We.JsonObject)("SujetosCampoDatoModel"),ht=Object(We.JsonProperty)("Campos",[qe.ColumnModel]||!1),Ot=Object(We.JsonProperty)("Datos",[Ut]||!1),mt((vt=function e(){Object(Ct.a)(this,e),Object(yt.a)(this,"Campos",gt,this),Object(yt.a)(this,"Datos",xt,this)},gt=Object(wt.a)(vt.prototype,"Campos",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),xt=Object(wt.a)(vt.prototype,"Datos",[Ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ft=vt))||ft),_t="authService",Gt=function(){var e=Object(Nt.a)(Et.a.mark((function e(t){var n,a,r;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(n=new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,a="".concat("http://localhost:9606","/sujeto"),r=new Vt,e.next=7,Ft()({url:a,method:"GET",headers:Object(Jt.authHeader)(t)}).then((function(e){r=n.deserializeObject(e.data,Vt)})).catch((function(e){Wr("No se han podido obtener los sujetos.",Gr.error,5e3)}));case 7:return e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();function Bt(e,t){return Wt.apply(this,arguments)}function Wt(){return(Wt=Object(Nt.a)(Et.a.mark((function e(t,n){var a,r,o;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,r="".concat("http://localhost:9606","/Sujeto/").concat(n),o=new Ut,e.next=6,Ft()({url:r,method:zt.methodsEndPointType.GET,headers:Object(Jt.authHeader)(t)}).then((function(e){Object(zt.checkStatusCode)(e.status),o=a.deserializeObject(e.data.Datos[0],Ut)})).catch((function(e){return Object(zt.customLog)(null,zt.logType.ERROR,_t,Bt.name,zt.methodsEndPointType.GET),{}}));case 6:return e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qt(e,t){return Ht.apply(this,arguments)}function Ht(){return(Ht=Object(Nt.a)(Et.a.mark((function e(t,n){var a,r;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,a="".concat("http://localhost:9606","/Sujeto"),r={Authorization:"Bearer my-token","My-Custom-Header":"foobar"},e.next=7,Ft.a.post(a,n,{headers:r}).then((function(e){Object(zt.checkStatusCode)(e.status),Object(zt.customLog)("sujeto creado ".concat(e.data.Id),zt.logType.INFO,_t,Zt.name,zt.methodsEndPointType.POST),Wr("Compa\xf1ia creada",Gr.success,5e3)}));case 7:return e.abrupt("return",!0);case 10:return e.prev=10,e.t0=e.catch(0),Object(zt.customLog)("Error al crear Sujeto => ".concat(e.t0.message),zt.logType.ERROR,_t,qt.name,zt.methodsEndPointType.POST),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function Zt(e,t){return Kt.apply(this,arguments)}function Kt(){return(Kt=Object(Nt.a)(Et.a.mark((function e(t,n){var a,r;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,a="".concat("http://localhost:9606","/Sujeto"),r={Authorization:"Bearer my-token","My-Custom-Header":"foobar"},e.next=7,Ft.a.put(a,n,{headers:r}).then((function(e){Object(zt.checkStatusCode)(e.status),Object(zt.customLog)("sujeto modificado ".concat(n.Id),zt.logType.INFO,_t,Zt.name,zt.methodsEndPointType.PUT),Wr("Compa\xf1ia editada",Gr.success,5e3)})).catch((function(e){Object(zt.customLog)("Error al editar Sujeto => ".concat(e.message),zt.logType.ERROR,_t,Zt.name,zt.methodsEndPointType.PUT)}));case 7:return e.abrupt("return",!0);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function Xt(e){return Yt.apply(this,arguments)}function Yt(){return(Yt=Object(Nt.a)(Et.a.mark((function e(t){var n,a,r;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,a="".concat("http://localhost:9606","/Sujeto/Structure"),r=new Vt,e.next=6,Ft()({url:a,method:zt.methodsEndPointType.GET}).then((function(e){Object(zt.checkStatusCode)(e.status),r=n.deserializeObject(e.data,Vt)})).catch((function(e){return Object(zt.customLog)(null,zt.logType.ERROR,_t,Xt.name,zt.methodsEndPointType.GET),{}}));case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qt(e){var t=new We.JsonConvert;return t.valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,t.deserializeObject(e,Ut)}var $t,en,tn,nn,an,rn,on,cn,ln,sn,un,dn,bn,pn,jn,mn,hn,On,fn,vn,gn,xn,yn,Cn,wn,In,Sn,En,Nn,Pn,Tn,kn,Rn,Ln,Dn,Mn,An,Fn,Jn,zn,Un,Vn,_n,Gn,Bn,Wn,qn,Hn,Zn,Kn,Xn,Yn,Qn,$n,ea,ta,na,aa,ra,oa,ia,ca,la,sa,ua,da,ba,pa,ja,ma,ha,Oa,fa,va,ga,xa,ya,Ca,wa,Ia,Sa,Ea,Na,Pa,Ta,ka,Ra,La,Da,Ma,Aa,Fa,Ja,za,Ua,Va,_a,Ga=($t=Object(We.JsonObject)("CompanyModel"),en=Object(We.JsonProperty)("Id",Number),tn=Object(We.JsonProperty)("Name",String),nn=Object(We.JsonProperty)("Slogan",String),an=Object(We.JsonProperty)("IdentificationNumber",String),rn=Object(We.JsonProperty)("ContactInformation",String),on=Object(We.JsonProperty)("PrincipalLogo",String),cn=Object(We.JsonProperty)("SecondaryLogo",String),ln=Object(We.JsonProperty)("NotificationsEmail",String),sn=Object(We.JsonProperty)("Enabled",Boolean),$t((dn=function e(){Object(Ct.a)(this,e),Object(yt.a)(this,"Id",bn,this),Object(yt.a)(this,"Name",pn,this),Object(yt.a)(this,"Slogan",jn,this),Object(yt.a)(this,"IdentificationNumber",mn,this),Object(yt.a)(this,"ContactInformation",hn,this),Object(yt.a)(this,"PrincipalLogo",On,this),Object(yt.a)(this,"SecondaryLogo",fn,this),Object(yt.a)(this,"NotificationsEmail",vn,this),Object(yt.a)(this,"Enabled",gn,this)},bn=Object(wt.a)(dn.prototype,"Id",[en],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),pn=Object(wt.a)(dn.prototype,"Name",[tn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),jn=Object(wt.a)(dn.prototype,"Slogan",[nn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),mn=Object(wt.a)(dn.prototype,"IdentificationNumber",[an],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),hn=Object(wt.a)(dn.prototype,"ContactInformation",[rn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),On=Object(wt.a)(dn.prototype,"PrincipalLogo",[on],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),fn=Object(wt.a)(dn.prototype,"SecondaryLogo",[cn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),vn=Object(wt.a)(dn.prototype,"NotificationsEmail",[ln],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),gn=Object(wt.a)(dn.prototype,"Enabled",[sn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),un=dn))||un),Ba=(xn=Object(We.JsonObject)("CompanyGridModel"),yn=Object(We.JsonProperty)("Id",Number),Cn=Object(We.JsonProperty)("Name",String),wn=Object(We.JsonProperty)("Slogan",String),In=Object(We.JsonProperty)("IdentificationNumber",String),Sn=Object(We.JsonProperty)("ContactInformation",String),En=Object(We.JsonProperty)("NotificationsEmail",String),xn((Pn=function e(){Object(Ct.a)(this,e),Object(yt.a)(this,"Id",Tn,this),Object(yt.a)(this,"Name",kn,this),Object(yt.a)(this,"Slogan",Rn,this),Object(yt.a)(this,"IdentificationNumber",Ln,this),Object(yt.a)(this,"ContactInformation",Dn,this),Object(yt.a)(this,"NotificationsEmail",Mn,this)},Tn=Object(wt.a)(Pn.prototype,"Id",[yn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),kn=Object(wt.a)(Pn.prototype,"Name",[Cn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Rn=Object(wt.a)(Pn.prototype,"Slogan",[wn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ln=Object(wt.a)(Pn.prototype,"IdentificationNumber",[In],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Dn=Object(wt.a)(Pn.prototype,"ContactInformation",[Sn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Mn=Object(wt.a)(Pn.prototype,"NotificationsEmail",[En],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Nn=Pn))||Nn),Wa=(An=Object(We.JsonObject)("CompanyCampoDatoModel"),Fn=Object(We.JsonProperty)("Campos",[qe.ColumnModel]||!1),Jn=Object(We.JsonProperty)("Datos",[Ga]||!1),An((Un=function e(){Object(Ct.a)(this,e),Object(yt.a)(this,"Campos",Vn,this),Object(yt.a)(this,"Datos",_n,this)},Vn=Object(wt.a)(Un.prototype,"Campos",[Fn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_n=Object(wt.a)(Un.prototype,"Datos",[Jn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),zn=Un))||zn),qa=(Gn=Object(We.JsonObject)("CompanyCampoDatoGridModel"),Bn=Object(We.JsonProperty)("Campos",[qe.ColumnModel]||!1),Wn=Object(We.JsonProperty)("Datos",[Ba]||!1),Gn((Hn=function e(){Object(Ct.a)(this,e),Object(yt.a)(this,"Campos",Zn,this),Object(yt.a)(this,"Datos",Kn,this)},Zn=Object(wt.a)(Hn.prototype,"Campos",[Bn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Kn=Object(wt.a)(Hn.prototype,"Datos",[Wn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),qn=Hn))||qn),Ha=n(1273),Za="authService",Ka=function(){var e=Object(Nt.a)(Et.a.mark((function e(t,n){var a,r,o;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,"https://portaldespachosapi-desarrollo.azurewebsites.net/api/Usuarios/authenticate",a="".concat("http://localhost:9606","/Account/login"),{},o={Authorization:"Bearer my-token","My-Custom-Header":"foobar"},e.next=9,Ft.a.post(a,{Username:t,Password:n},{headers:o}).then(function(){var e=Object(Nt.a)(Et.a.mark((function e(t){return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(zt.checkStatusCode)(t.status),r=Qa(t.data.access_token),Object(zt.customLog)("Usuario logueado ".concat(t.data.Id),zt.logType.INFO,Za,Ka.name,zt.methodsEndPointType.POST),Wr("Usuario creado",Gr.success,5e3),localStorage.setItem("user",JSON.stringify(r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){Wr(e.response.data,Gr.error,5e3),Object(zt.customLog)("Error loguin usuario  => ".concat(e.message),zt.logType.ERROR,Za,Ka.name,zt.methodsEndPointType.PUT)}));case 9:return e.abrupt("return",r);case 12:e.prev=12,e.t0=e.catch(0),Object(zt.customLog)(e.t0.message,zt.logType.ERROR,Za,Ka.name,zt.methodsEndPointType.GET),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n){return e.apply(this,arguments)}}(),Xa=function(){var e=Object(Nt.a)(Et.a.mark((function e(t){var n,a,r;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,n="".concat("http://localhost:9606","/Account/forgotPassword"),r={Authorization:"Bearer ","My-Custom-Header":"foobar"},e.next=7,Ft.a.post(n,{Username:t},{headers:r}).then(function(){var e=Object(Nt.a)(Et.a.mark((function e(t){return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Wr("Se le ha enviado un correo con los pasos para poder recuperar su contrase\xf1a.",Gr.success,5e3);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){Wr("No tiene permisos para recuperar la contrase\xf1a, pongase en contacto con su gestor\xeda",Gr.info,5e3)}));case 7:return a=e.sent,e.abrupt("return",a);case 11:e.prev=11,e.t0=e.catch(0),Object(zt.customLog)(e.t0.message,zt.logType.ERROR,Za,Ka.name,zt.methodsEndPointType.GET),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),Ya=function(){var e=Object(Nt.a)(Et.a.mark((function e(t,n,a){var r,o,i;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,r="".concat("http://localhost:9606","/Account/ResetPassword"),o=JSON.stringify({username:t,password:n,code:decodeURIComponent(a).replace(" ","+")}),e.next=7,Ft.a.post(r,o,{headers:{"Content-Type":"application/json"}});case 7:return"OK"==(i=e.sent).statusText&&200==i.status&&Wr("\xa1Enhorabuena! su contrase\xf1a se ha cambiado correctamente",Gr.success,5e3),e.abrupt("return",i.statusText);case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n,a){return e.apply(this,arguments)}}(),Qa=function(e){var t=new qe.UserModel;try{var n=new We.JsonConvert;n.valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL;var a=Object(Ha.a)(e);t=n.deserializeObject(Object(d.a)(Object(d.a)({},a),{},{Token:e,Expedientes:void 0!=a.Expedientes?a.Expedientes:[],Administracion:void 0!=a.Administracion?a.Administracion:[],Calculadora:void 0!=a.Calculadora?a.Calculadora:[]}),qe.UserModel)}catch(r){console.error(r)}return t},$a=function(e){return{Authorization:"Bearer "+e.Token}},er=(Xn=Object(We.JsonObject)("CalculadoraTransferenciaModel"),Yn=Object(We.JsonProperty)("Id",Number),Qn=Object(We.JsonProperty)("IdCompany",Number),$n=Object(We.JsonProperty)("CuotaTurismos",Number),ea=Object(We.JsonProperty)("CuotaMotocicletas",Number),ta=Object(We.JsonProperty)("Mensaje",String),Xn((aa=function e(){Object(Ct.a)(this,e),Object(yt.a)(this,"Id",ra,this),Object(yt.a)(this,"IdCompany",oa,this),Object(yt.a)(this,"CuotaTurismos",ia,this),Object(yt.a)(this,"CuotaMotocicletas",ca,this),Object(yt.a)(this,"Mensaje",la,this)},ra=Object(wt.a)(aa.prototype,"Id",[Yn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),oa=Object(wt.a)(aa.prototype,"IdCompany",[Qn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ia=Object(wt.a)(aa.prototype,"CuotaTurismos",[$n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ca=Object(wt.a)(aa.prototype,"CuotaMotocicletas",[ea],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),la=Object(wt.a)(aa.prototype,"Mensaje",[ta],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),na=aa))||na),tr="CalculadoraService",nr=function(){var e=Object(Nt.a)(Et.a.mark((function e(t,n){var a,r,o;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,r="".concat("http://localhost:9606","/CalculadoraTransferencia/GetByCompany/").concat(n),o=new er,e.next=7,Ft()({url:r,method:"GET",headers:$a(t)}).then((function(e){o=a.deserializeObject(e.data,er)})).catch((function(e){Wr("No se han podido obtener de la calculadora.",Gr.error,5e3)}));case 7:return e.abrupt("return",o);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),ar=function(){var e=Object(Nt.a)(Et.a.mark((function e(t,n,a){var r,o,i;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(r=new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,o="".concat("http://localhost:9606","/CalculadoraTransferencia"),i=new er,e.next=7,Ft()({url:o,method:"POST",headers:$a(t),data:{IdCompany:a,CuotaTurismos:null===n||void 0===n?void 0:n.CuotaTurismos,CuotaMotocicletas:null===n||void 0===n?void 0:n.CuotaMotocicletas,Mensaje:null===n||void 0===n?void 0:n.CuotaMotocicletas}}).then((function(e){console.log("Este es el Codigo de respuesta"+e.status),Object(zt.checkStatusCode)(e.status),i=r.deserializeObject(e.data,er)})).catch((function(e){Object(zt.customLog)("Error al crear Calculadora => ".concat(e.response.data),zt.logType.ERROR,tr,ar.name,zt.methodsEndPointType.POST)}));case 7:return e.abrupt("return",i);case 10:e.prev=10,e.t0=e.catch(0),Wr(e.t0.response.data,Gr.error,5e3);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,a){return e.apply(this,arguments)}}(),rr=function(){var e=Object(Nt.a)(Et.a.mark((function e(t,n,a){var r,o;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,r="".concat("http://localhost:9606","/CalculadoraTransferencia"),o=new er,{Authorization:"Bearer my-token","My-Custom-Header":"foobar"},e.next=8,Ft.a.put(r,Object(d.a)(Object(d.a)({},n),{},{IdCompany:a}),{headers:$a(t)}).then(function(){var e=Object(Nt.a)(Et.a.mark((function e(t){return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(zt.checkStatusCode)(t.status),Object(zt.customLog)("CalculadoraTransferencia guardada CalculadoraTransferencia =>".concat(t.data.Id),zt.logType.ERROR,tr,rr.name,zt.methodsEndPointType.PUT);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){Object(zt.customLog)("Error al guardar CalculadoraTransferencia => ".concat(e.message),zt.logType.ERROR,tr,rr.name,zt.methodsEndPointType.PUT)}));case 8:return e.abrupt("return",o);case 11:e.prev=11,e.t0=e.catch(0),Wr(e.t0.response.data,Gr.error,5e3);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n,a){return e.apply(this,arguments)}}(),or=(sa=Object(We.JsonObject)("ConfiguracionEnvioEmailModel"),ua=Object(We.JsonProperty)("Id",Number),da=Object(We.JsonProperty)("IdCompany",Number),ba=Object(We.JsonProperty)("ServidorSMTP",String),pa=Object(We.JsonProperty)("PuertoSMTP",Number),ja=Object(We.JsonProperty)("UsaSSL",Boolean),ma=Object(We.JsonProperty)("NombreMostrar",String),ha=Object(We.JsonProperty)("DireccionEmail",String),Oa=Object(We.JsonProperty)("UsuarioEmail",String),fa=Object(We.JsonProperty)("PasswordEmail",String),sa((ga=function e(){Object(Ct.a)(this,e),Object(yt.a)(this,"Id",xa,this),Object(yt.a)(this,"IdCompany",ya,this),Object(yt.a)(this,"ServidorSMTP",Ca,this),Object(yt.a)(this,"PuertoSMTP",wa,this),Object(yt.a)(this,"UsaSSL",Ia,this),Object(yt.a)(this,"NombreMostrar",Sa,this),Object(yt.a)(this,"DireccionEmail",Ea,this),Object(yt.a)(this,"UsuarioEmail",Na,this),Object(yt.a)(this,"PasswordEmail",Pa,this)},xa=Object(wt.a)(ga.prototype,"Id",[ua],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ya=Object(wt.a)(ga.prototype,"IdCompany",[da],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ca=Object(wt.a)(ga.prototype,"ServidorSMTP",[ba],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),wa=Object(wt.a)(ga.prototype,"PuertoSMTP",[pa],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ia=Object(wt.a)(ga.prototype,"UsaSSL",[ja],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Sa=Object(wt.a)(ga.prototype,"NombreMostrar",[ma],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ea=Object(wt.a)(ga.prototype,"DireccionEmail",[ha],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Na=Object(wt.a)(ga.prototype,"UsuarioEmail",[Oa],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Pa=Object(wt.a)(ga.prototype,"PasswordEmail",[fa],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),va=ga))||va),ir="EmailService",cr=function(){var e=Object(Nt.a)(Et.a.mark((function e(t,n){var a,r,o;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,r="".concat("http://localhost:9606","/ConfiguracionEnvioEmail/GetByCompany/")+n,o=new or,e.next=7,Ft()({url:r,method:"GET",headers:Object(Jt.authHeader)(t)}).then((function(e){o=a.deserializeObject(e.data,or)})).catch((function(e){console.log("error: ",e),Wr("No se han podido obtener la configuraci\xf3n del Email.",Gr.error,5e3)}));case 7:return e.abrupt("return",o);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),lr=function(){var e=Object(Nt.a)(Et.a.mark((function e(t,n,a){var r,o,i;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(r=new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,o="".concat("http://localhost:9606","/ConfiguracionEnvioEmail"),i=new or,e.next=7,Ft()({url:o,method:"POST",headers:Object(Jt.authHeader)(t),data:{IdCompany:a,ServidorSMTP:null===n||void 0===n?void 0:n.ServidorSMTP,PuertoSMTP:null===n||void 0===n?void 0:n.PuertoSMTP,UsaSSL:null===n||void 0===n?void 0:n.UsaSSL,NombreMostrar:null===n||void 0===n?void 0:n.NombreMostrar,DireccionEmail:null===n||void 0===n?void 0:n.DireccionEmail,UsuarioEmail:null===n||void 0===n?void 0:n.UsuarioEmail,PasswordEmail:null===n||void 0===n?void 0:n.PasswordEmail}}).then((function(e){console.log("Este es el Codigo de respuesta"+e.status),Object(zt.checkStatusCode)(e.status),i=r.deserializeObject(e.data,or)})).catch((function(e){Wr("No se han podido Guardar la configuraci\xf3n del Email.",Gr.error,5e3)}));case 7:return e.abrupt("return",i);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,a){return e.apply(this,arguments)}}(),sr=function(){var e=Object(Nt.a)(Et.a.mark((function e(t,n,a){var r,o;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,r="".concat("http://localhost:9606","/ConfiguracionEnvioEmail"),o=new or,e.next=7,Ft.a.put(r,n,{headers:Object(Jt.authHeader)(t)}).then(function(){var e=Object(Nt.a)(Et.a.mark((function e(t){return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(zt.checkStatusCode)(t.status),Object(zt.customLog)("Configuraci\xf3n de email editada =>     ".concat(t.data.Id),zt.logType.ERROR,ir,sr.name,zt.methodsEndPointType.PUT);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){Object(zt.customLog)("Error al guardar ConfiguracionEnvioEmail => ".concat(e.message),zt.logType.ERROR,ir,sr.name,zt.methodsEndPointType.PUT)}));case 7:return e.abrupt("return",o);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,a){return e.apply(this,arguments)}}(),ur=n(191),dr=(Ta=Object(We.JsonObject)("EnlaceModel"),ka=Object(We.JsonProperty)("Id",Number),Ra=Object(We.JsonProperty)("IdCompany",Number),La=Object(We.JsonProperty)("IdTipoEnlace",Number),Da=Object(We.JsonProperty)("EnlaceValue",String),Ma=Object(We.JsonProperty)("CodigoTipoEnlace",String),Ta((Fa=function e(){Object(Ct.a)(this,e),Object(yt.a)(this,"Id",Ja,this),Object(yt.a)(this,"IdCompany",za,this),Object(yt.a)(this,"IdTipoEnlace",Ua,this),Object(yt.a)(this,"EnlaceValue",Va,this),Object(yt.a)(this,"CodigoTipoEnlace",_a,this)},Ja=Object(wt.a)(Fa.prototype,"Id",[ka],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),za=Object(wt.a)(Fa.prototype,"IdCompany",[Ra],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ua=Object(wt.a)(Fa.prototype,"IdTipoEnlace",[La],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Va=Object(wt.a)(Fa.prototype,"EnlaceValue",[Da],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_a=Object(wt.a)(Fa.prototype,"CodigoTipoEnlace",[Ma],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Aa=Fa))||Aa),br="EnlaceService",pr=function(){var e=Object(Nt.a)(Et.a.mark((function e(t,n){var a,r,o;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,r="".concat("http://localhost:9606","/Enlace/GetByCompany/").concat(n),o=[],e.next=7,Ft()({url:r,method:"GET",headers:Object(Jt.authHeader)(t)}).then((function(e){Object(zt.checkStatusCode)(e.status),o=a.deserializeArray(e.data,dr)})).catch((function(e){Wr("No se han podido obtener la configuraci\xf3n Legal. => "+e,Gr.error,5e3)}));case 7:return e.abrupt("return",o);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),jr=function(){var e=Object(Nt.a)(Et.a.mark((function e(t,n,a){var r,o;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,r="".concat("http://localhost:9606","/Enlace"),o={Authorization:"Bearer my-token","My-Custom-Header":"foobar"},n=hr(n,a),e.next=8,Ft.a.post(r,n,{headers:o}).then(function(){var e=Object(Nt.a)(Et.a.mark((function e(t){return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(zt.checkStatusCode)(t.status),Object(zt.customLog)("enlaces creados ".concat(t.data.Id),zt.logType.INFO,br,jr.name,zt.methodsEndPointType.POST);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:return e.abrupt("return",!0);case 11:return e.prev=11,e.t0=e.catch(0),Object(zt.customLog)("Error al crear enlaces => ".concat(e.t0.response.data),zt.logType.ERROR,br,jr.name,zt.methodsEndPointType.POST),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n,a){return e.apply(this,arguments)}}(),mr=function(){var e=Object(Nt.a)(Et.a.mark((function e(t,n,a){var r,o;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,r="".concat("http://localhost:9606","/Enlace"),o={Authorization:"Bearer my-token","My-Custom-Header":"foobar"},n=hr(n,a),e.next=8,Ft.a.put(r,n,{headers:o}).then((function(e){Object(zt.checkStatusCode)(e.status),Object(zt.customLog)("Enlaces modificados",zt.logType.INFO,br,mr.name,zt.methodsEndPointType.PUT),Wr("Enlaces modificados",Gr.success,5e3)})).catch((function(e){Object(zt.customLog)("Error al editar enlaces",zt.logType.ERROR,br,mr.name,zt.methodsEndPointType.PUT)}));case 8:return e.abrupt("return",!0);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n,a){return e.apply(this,arguments)}}(),hr=function(e,t){var n,a=Object(ur.a)(e);try{for(a.s();!(n=a.n()).done;){n.value.IdCompany=t}}catch(r){a.e(r)}finally{a.f()}return e},Or="CompaniesService",fr=function(){var e=Object(Nt.a)(Et.a.mark((function e(t){var n,a,r;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(n=new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,a="".concat("http://localhost:9606","/companies"),r=new Wa,{headers:{Authorization:"Bearer ".concat(t.Token)}},e.next=8,Ft()({url:a,method:"GET",headers:Object(Jt.authHeader)(t)}).then((function(e){r=n.deserializeObject(e.data,Wa)})).catch((function(e){Object(zt.customLog)(null,zt.logType.ERROR,Or,fr.name,zt.methodsEndPointType.GET),Wr("No se han podido obtener las compa\xf1ias.",Gr.error,5e3),Object(zt.checkStatusCode)(e.request.status)}));case 8:return e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}();function vr(e,t){return gr.apply(this,arguments)}function gr(){return(gr=Object(Nt.a)(Et.a.mark((function e(t,n){var a,r,o;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,r="".concat("http://localhost:9606","/Companies/").concat(n),o=new Ga,e.next=6,Ft()({url:r,method:zt.methodsEndPointType.GET,headers:Object(Jt.authHeader)(t)}).then((function(e){Object(zt.checkStatusCode)(e.status),(o=a.deserializeObject(e.data,Ga)).Enabled=!o.Enabled})).catch((function(e){Object(zt.customLog)(null,zt.logType.ERROR,Or,vr.name,zt.methodsEndPointType.GET),Wr("No se ha podido obtener las compa\xf1ia.",Gr.error,5e3),Object(zt.checkStatusCode)(e.request.status)}));case 6:return e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xr(e,t,n,a,r,o){return yr.apply(this,arguments)}function yr(){return yr=Object(Nt.a)(Et.a.mark((function e(t,n,a,r,o,i){var c;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,c="".concat("http://localhost:9606","/companies"),n.Enabled=!n.Enabled,e.next=7,Ft.a.post(c,n,{headers:Object(Jt.authHeader)(t)}).then(function(){var e=Object(Nt.a)(Et.a.mark((function e(n){return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(zt.checkStatusCode)(n.status),Object(zt.customLog)("compa\xf1ia creada ".concat(n.data.Id),zt.logType.INFO,Or,Zt.name,zt.methodsEndPointType.POST),e.next=4,ar(t,a,n.data.Id);case 4:return e.next=6,jr(t,r,n.data.Id);case 6:return e.next=8,lr(t,i,n.data.Id);case 8:if(!io(t)){e.next=11;break}return e.next=11,kr(t,null===o||void 0===o?void 0:o.companyModulos,n.data.Id);case 11:Wr("Compa\xf1ia creada",Gr.success,5e3);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:return e.abrupt("return",!0);case 10:return e.prev=10,e.t0=e.catch(0),Wr(e.t0.response.data,Gr.error,5e3),Object(zt.customLog)("Error al crear Compa\xf1ia => ".concat(e.t0.response.data),zt.logType.ERROR,Or,xr.name,zt.methodsEndPointType.POST),Object(zt.checkStatusCode)(e.t0.request.status),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,10]])}))),yr.apply(this,arguments)}function Cr(e,t,n,a,r,o){return wr.apply(this,arguments)}function wr(){return wr=Object(Nt.a)(Et.a.mark((function e(t,n,a,r,o,i){var c;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,c="".concat("http://localhost:9606","/Companies"),n.Enabled=!n.Enabled,e.next=7,Ft.a.put(c,n,{headers:Object(Jt.authHeader)(t)}).then(function(){var e=Object(Nt.a)(Et.a.mark((function e(c){return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(zt.checkStatusCode)(c.status),0==(null===a||void 0===a?void 0:a.Id)){e.next=6;break}return e.next=4,rr(t,a,n.Id);case 4:e.next=8;break;case 6:return e.next=8,ar(t,a,n.Id);case 8:if(0==(null===i||void 0===i?void 0:i.Id)||void 0==(null===i||void 0===i?void 0:i.Id)){e.next=13;break}return e.next=11,sr(t,i,n.Id);case 11:e.next=15;break;case 13:return e.next=15,lr(t,i,n.Id);case 15:if(!io(t)){e.next=18;break}return e.next=18,kr(t,void 0!=(null===o||void 0===o?void 0:o.companyModulos)?o.companyModulos:[],n.Id);case 18:if(!io(t)){e.next=21;break}return e.next=21,mr(t,r,n.Id);case 21:Object(zt.customLog)("Compa\xf1ia modificada ".concat(n.Id),zt.logType.INFO,Or,Cr.name,zt.methodsEndPointType.PUT),Wr("Compa\xf1ia editada",Gr.success,5e3);case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){Object(zt.customLog)("Error al editar Compa\xf1ia => ".concat(e.message),zt.logType.ERROR,Or,Cr.name,zt.methodsEndPointType.PUT),Object(zt.checkStatusCode)(e.request.status)}));case 7:return e.abrupt("return",!0);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),wr.apply(this,arguments)}function Ir(e,t){return Sr.apply(this,arguments)}function Sr(){return(Sr=Object(Nt.a)(Et.a.mark((function e(t,n){var a;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,a="".concat("http://localhost:9606","/companies/").concat(n),e.next=6,Ft.a.delete(a,{headers:Object(Jt.authHeader)(t)}).then((function(e){Object(zt.checkStatusCode)(e.status),Object(zt.customLog)("compa\xf1ia elminada",zt.logType.INFO,Or,Zt.name,zt.methodsEndPointType.POST),Wr("Compa\xf1ia elminada",Gr.success,5e3)}));case 6:return e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e.catch(0),400==e.t0.response.status&&Wr(e.t0.response.data,Gr.error,5e3),Object(zt.customLog)("Error al crear Compa\xf1ia => ".concat(e.t0.response.data),zt.logType.ERROR,Or,xr.name,zt.methodsEndPointType.POST),Object(zt.checkStatusCode)(e.t0.request.status),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function Er(e){return Nr.apply(this,arguments)}function Nr(){return(Nr=Object(Nt.a)(Et.a.mark((function e(t){var n,a,r;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,a="".concat("http://localhost:9606","/Companies/Structure"),r=new qa,{headers:{Authorization:"Bearer ".concat(t.Token)}},e.next=7,Ft()({url:a,method:zt.methodsEndPointType.GET,headers:Object(Jt.authHeader)(t)}).then((function(e){Object(zt.checkStatusCode)(e.status),r=n.deserializeObject(e.data,qa)})).catch((function(e){return Object(zt.checkStatusCode)(e.request.status),Object(zt.customLog)(null,zt.logType.ERROR,Or,Er.name,zt.methodsEndPointType.GET),{}}));case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pr(e,t){return Tr.apply(this,arguments)}function Tr(){return(Tr=Object(Nt.a)(Et.a.mark((function e(t,n){var a,r,o;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,r="".concat("http://localhost:9606","/CompanyModulo/").concat(n),o=[],e.next=7,Ft()({url:r,method:"GET",headers:Object(Jt.authHeader)(t)}).then((function(e){o=a.deserializeArray(e.data,It)})).catch((function(e){return Wr("No se han podido obtener los modulos de la compa\xf1ia.",Gr.error,5e3),Object(zt.checkStatusCode)(e.request.status),[]}));case 7:return e.abrupt("return",o);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function kr(e,t,n){return Rr.apply(this,arguments)}function Rr(){return Rr=Object(Nt.a)(Et.a.mark((function e(t,n,a){var r;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,r="".concat("http://localhost:9606","/CompanyModulo"),(null===n||void 0===n?void 0:n.length)>0&&(null===n||void 0===n||n.map((function(e){e.IdCompany=a}))),e.next=7,Ft.a.post(r,n,{headers:Object(Jt.authHeader)(t)}).then(function(){var e=Object(Nt.a)(Et.a.mark((function e(t){return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(zt.checkStatusCode)(t.status),Object(zt.customLog)("compa\xf1ia creada ".concat(t.data.Id),zt.logType.INFO,Or,kr.name,zt.methodsEndPointType.POST);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:return e.abrupt("return",!0);case 10:return e.prev=10,e.t0=e.catch(0),Object(zt.customLog)("Error al crear modulos y sus gestorias => ".concat(e.t0.response.data),zt.logType.ERROR,Or,xr.name,zt.methodsEndPointType.POST),Object(zt.checkStatusCode)(e.t0.request.status),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[0,10]])}))),Rr.apply(this,arguments)}var Lr=function(){var e=Object(a.useState)(_r()),t=Object(Ge.a)(e,2),n=t[0],r=t[1],o=Object(a.useCallback)((function(){r(_r())}),[]);return Object(a.useEffect)((function(){return Ur(o),function(){Vr(o)}}),[o]),n},Dr=function(){var e=Object(a.useState)(_r()),t=Object(Ge.a)(e,2),n=t[0],r=t[1],o=Object(a.useCallback)((function(){r(_r())}),[]);return Object(a.useEffect)((function(){return Ur(o),function(){Vr(o)}}),[o]),n.isXSmall?"300":"600",n.isSmall?"400":"600",n.isMedium,"600",n.isLarge?"760":"600"},Mr=[],Ar=window.matchMedia("(max-width: 599.99px)"),Fr=window.matchMedia("(min-width: 600px) and (max-width: 959.99px)"),Jr=window.matchMedia("(min-width: 960px) and (max-width: 1279.99px)"),zr=window.matchMedia("(min-width: 1280px)");[Ar,Fr,Jr,zr].forEach((function(e){e.addListener((function(e){e.matches&&Mr.forEach((function(e){return e()}))}))}));var Ur=function(e){return Mr.push(e)},Vr=function(e){Mr=Mr.filter((function(t){return t!==e}))};function _r(){return{isXSmall:Ar.matches,isSmall:Fr.matches,isMedium:Jr.matches,isLarge:zr.matches}}var Gr;n(406).DateTime;!function(e){e.info="info",e.success="success",e.warning="warning",e.error="error"}(Gr||(Gr={}));var Br,Wr=function(e,t,n){return Tt()(e,t,void 0!=n?n:1200)},qr=function(){window.localStorage.getItem("lenguage");var e={style:"currency",currency:"EUR",useGrouping:!0,minimumSignificantDigits:4,type:"currency",precision:2};return e};function Hr(e){switch(e){case!0:case"true":case 1:case"1":case"on":case"yes":return!0;default:return!1}}!function(e){e.date="dd/MM/yyyy",e.currency="currency"}(Br||(Br={}));var Zr,Kr,Xr=function(e){return"decimal"==e||"number"==e?"Right":"Left"},Yr=function(e,t){if(""!=t)switch(t){case"percent":return"##0' %'";case"currency":return qr();default:return t}switch(e){case"currency":return qr();default:return null;case"number":return"decimal"==t?qr():null;case"date":case"datetime":return Br.date;case"boolean":return"boolean";case null:return"float"==t?qr():"object"}};function Qr(e){return void 0!==e&&null!==e&&""!==e}function $r(e){401==e&&(localStorage.recordarUsuario="false",localStorage.removeItem("user"),localStorage.removeItem("storage"),window.location.reload())}function eo(e){switch(e){case"Descripcion":case"Comentario":return 3;case"Nomcliente":case"Nomproveedor":case"Nomtransmitente":return 2;default:return 0}}!function(e){e.GET="GET",e.POST="POST",e.PUT="PUT",e.PATCH="PATCH",e.DELETE="DELETE"}(Zr||(Zr={})),function(e){e.INFO="info",e.ERROR="error"}(Kr||(Kr={}));var to,no=function(e,t){document.getElementsByClassName("dx-icon dx-icon-refresh")[0].click(),e.setShowForm(t)};!function(e){e.SUPERADMINISTRADOR="Superadministrador",e.ADMINISTRADOR="Administrador",e.EMPLEADO="Empleado",e.CUENTA="Cuenta",e.COLABORADOR="Colaborador",e.TRANSMITENTE="Transmitente",e.CLIENTE="Cliente"}(to||(to={}));var ao,ro;function oo(e,t,n){if(e.Administracion.length>0)return!0;switch(t){case ro.ADMINISTRACION:if(e.Administracion.length>0)return!0;break;case ro.EXPEDIENTES:if(e.Expedientes.length>0)return function(e,t){var n=Object.values(t);return e=e.filter((function(e,t,n){return n.indexOf(e)==t})),n.length==e.filter((function(e){return n.includes(e)})).length}(e.Expedientes,n);break;default:return!1}return!1}function io(e){return e.role==to.SUPERADMINISTRADOR}function co(e){return e.role==to.ADMINISTRADOR}function lo(e){return!(e.role!=to.EMPLEADO&&e.role!=to.CLIENTE&&e.role!=to.TRANSMITENTE&&e.role!=to.COLABORADOR&&!e.role.split(",").find((function(e){return e==to.CLIENTE||e==to.TRANSMITENTE||e==to.COLABORADOR})))}function so(e){return!e||1!=e.IdRole&&2!=e.IdRole}function uo(e,t){var n=new We.JsonConvert;return n.valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,t==ro.ADMINISTRACION?oo(e,t,[]):"undefined"!=localStorage.getItem("parentCompanyModulos")&&!!n.deserializeArray(JSON.parse(localStorage.getItem("parentCompanyModulos")),It).find((function(e){return e.Nombre==t}))}!function(e){e.EDIT="Edit",e.CREATE="Create",e.READ="Read",e.VIEW="View",e.DELETE="Delete",e.ALL="All"}(ao||(ao={})),function(e){e.EXPEDIENTES="Expedientes",e.ADMINISTRACION="Administracion",e.CALCULADORA="Calculadora",e.SUPERADMINISTRADOR="SupeAdministrador"}(ro||(ro={}));n(1717);var bo=n(37),po=n(0);var jo,mo,ho,Oo,fo,vo,go,xo,yo,Co,wo,Io,So,Eo,No,Po,To,ko,Ro,Lo,Do,Mo,Ao,Fo,Jo,zo,Uo,Vo,_o,Go,Bo,Wo,qo,Ho,Zo,Ko,Xo,Yo,Qo,$o,ei,ti,ni,ai,ri,oi,ii,ci,li,si,ui,di,bi,pi,ji,mi,hi,Oi,fi,vi,gi,xi,yi,Ci,wi,Ii,Si,Ei,Ni,Pi,Ti,ki,Ri,Li,Di,Mi,Ai,Fi,Ji,zi,Ui,Vi,_i,Gi,Bi,Wi,qi,Hi,Zi,Ki,Xi,Yi,Qi,$i,ec,tc,nc,ac,rc,oc,ic,cc,lc,sc,uc,dc,bc,pc,jc,mc,hc,Oc,fc,vc,gc,xc,yc,Cc,wc,Ic,Sc,Ec,Nc,Pc,Tc,kc,Rc,Lc,Dc,Mc,Ac,Fc,Jc,zc,Uc,Vc,_c,Gc,Bc,Wc,qc,Hc,Zc,Kc,Xc,Yc,Qc,$c,el,tl,nl,al,rl,ol,il,cl,ll,sl,ul,dl,bl,pl,jl,ml,hl,Ol,fl,vl,gl,xl,yl,Cl=function(e){var t=Object(_e.g)();return Object(c.b)(),Object(po.jsx)("div",{children:1==e.data.type?Object(po.jsx)("div",{className:"mainNotfound",children:Object(po.jsxs)("div",{children:[Object(po.jsx)("h1",{children:"\xa1Ops!"}),Object(po.jsx)("h3",{children:" No tienes permisos para ver esta p\xe1gina."}),Object(po.jsx)("div",{children:Object(po.jsx)(bo.Button,{width:120,text:"Volver",type:"default",stylingMode:"contained",onClick:function(){t.goBack()}})})]})}):Object(po.jsxs)("div",{children:[" ",Object(po.jsxs)("div",{children:[Object(po.jsx)("h1",{children:"\xa1Ops!"}),Object(po.jsx)("h3",{children:" Pagina no encontrada..."}),Object(po.jsx)("p",{children:"(404)"}),Object(po.jsx)("div",{children:Object(po.jsx)(bo.Button,{width:120,text:"Volver",type:"default",stylingMode:"contained",onClick:function(){t.goBack()}})})]})]})})},wl=n(127),Il=n.n(wl),Sl=n(144),El=n(174),Nl=n.n(El),Pl=function(e){return{type:b,payload:e}},Tl=function(e){return{type:p,payload:e}},kl=(n(2218),n(347)),Rl=function(e){return{type:m,payload:e}},Ll=function(e){return{type:h,payload:e}},Dl=function(e){return{type:f,payload:e}},Ml=function(e){return{type:v,payload:e}},Al=function(e){return{type:g,payload:e}},Fl=function(e){return{type:x,payload:e}},Jl=function(e){return{type:y,payload:e}},zl=(jo=Object(We.JsonObject)("ColumnModel"),mo=Object(We.JsonProperty)("Nombre",String),ho=Object(We.JsonProperty)("Tipo",String),Oo=Object(We.JsonProperty)("Texto",String),fo=Object(We.JsonProperty)("Format",String),jo((go=function e(){Object(Ct.a)(this,e),Object(yt.a)(this,"Nombre",xo,this),Object(yt.a)(this,"Tipo",yo,this),Object(yt.a)(this,"Texto",Co,this),Object(yt.a)(this,"Format",wo,this)},xo=Object(wt.a)(go.prototype,"Nombre",[mo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),yo=Object(wt.a)(go.prototype,"Tipo",[ho],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Co=Object(wt.a)(go.prototype,"Texto",[Oo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),wo=Object(wt.a)(go.prototype,"Format",[fo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),vo=go))||vo),Ul=(Io=Object(We.JsonObject)("ColumnModelCore"),So=Object(We.JsonProperty)("Nombre",String),Eo=Object(We.JsonProperty)("Tipo",String),No=Object(We.JsonProperty)("Texto",String),Po=Object(We.JsonProperty)("Format",String),To=Object(We.JsonProperty)("Size",Number),ko=Object(We.JsonProperty)("Visible",Boolean),Io((Lo=function e(){Object(Ct.a)(this,e),Object(yt.a)(this,"Nombre",Do,this),Object(yt.a)(this,"Tipo",Mo,this),Object(yt.a)(this,"Texto",Ao,this),Object(yt.a)(this,"Format",Fo,this),Object(yt.a)(this,"Size",Jo,this),Object(yt.a)(this,"Visible",zo,this)},Do=Object(wt.a)(Lo.prototype,"Nombre",[So],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Mo=Object(wt.a)(Lo.prototype,"Tipo",[Eo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ao=Object(wt.a)(Lo.prototype,"Texto",[No],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Fo=Object(wt.a)(Lo.prototype,"Format",[Po],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Jo=Object(wt.a)(Lo.prototype,"Size",[To],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),zo=Object(wt.a)(Lo.prototype,"Visible",[ko],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ro=Lo))||Ro),Vl=(Uo=Object(We.JsonObject)("ExpedienteTableModel"),Vo=Object(We.JsonProperty)("Campos",[zl]||!1),Uo((Go=function e(){Object(Ct.a)(this,e),Object(yt.a)(this,"Campos",Bo,this)},Bo=Object(wt.a)(Go.prototype,"Campos",[Vo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_o=Go))||_o),_l=n(228),Gl=n(409),Bl=n(406).DateTime,Wl=Object(We.JsonConverter)(Wo=function(){function e(){Object(Ct.a)(this,e),this.dateUtil=void 0,this.dateUtil=new ql}return Object(Gl.a)(e,[{key:"serialize",value:function(e){return""}},{key:"deserialize",value:function(e){return null!=e?this.dateUtil.getDateFormat(e):this.dateUtil.getDateFormat("0001-01-01T00:00:00")}}]),e}())||Wo,ql=function(){function e(){Object(Ct.a)(this,e)}return Object(Gl.a)(e,[{key:"getDate",value:function(){return new Date}},{key:"getDateFormat",value:function(e){try{return Bl.fromISO(e).toLocaleString(Bl.DATE_SHORT)}catch(t){return console.error(t),Bl.local()}}}]),e}(),Hl=(qo=Object(We.JsonObject)("ExpedienteModel"),Ho=Object(We.JsonProperty)("Id",Number,0),Zo=Object(We.JsonProperty)("SerieExpediente",String),Ko=Object(We.JsonProperty)("NumeroExpediente",Number),Xo=Object(We.JsonProperty)("FechaInicio",Wl),Yo=Object(We.JsonProperty)("FechaFinalPrevista",Wl),Qo=Object(We.JsonProperty)("FechaFinalReal",Wl),$o=Object(We.JsonProperty)("Descripcion",String),ei=Object(We.JsonProperty)("Comentario",String),ti=Object(We.JsonProperty)("Referencia",String),ni=Object(We.JsonProperty)("TotalAnticipos",Number),ai=Object(We.JsonProperty)("IdPunteo",Number),ri=Object(We.JsonProperty)("Matricula",String),oi=Object(We.JsonProperty)("Marca",String),ii=Object(We.JsonProperty)("Modelo",String),ci=Object(We.JsonProperty)("Bastidor",String),li=Object(We.JsonProperty)("FechaMatricula",Wl),si=Object(We.JsonProperty)("CodigoGestoria",String),ui=Object(We.JsonProperty)("CodigoCliente",String),di=Object(We.JsonProperty)("Nomcliente",String),bi=Object(We.JsonProperty)("Proveedor",String),pi=Object(We.JsonProperty)("NombreProveedor",String),ji=Object(We.JsonProperty)("Transmitente",String),mi=Object(We.JsonProperty)("NombreTransmitente",String),hi=Object(We.JsonProperty)("FacturadoSiNo",Boolean),Oi=Object(We.JsonProperty)("TotalIva",Number),fi=Object(We.JsonProperty)("TotalFactura",Number),vi=Object(We.JsonProperty)("FechaTrafico",Number),gi=Object(We.JsonProperty)("IdVehiculo",Number),xi=Object(We.JsonProperty)("FechaCaducidadItv",Wl),yi=Object(We.JsonProperty)("Estado",String),qo((wi=function e(){Object(Ct.a)(this,e),Object(yt.a)(this,"Id",Ii,this),Object(yt.a)(this,"SerieExpediente",Si,this),Object(yt.a)(this,"NumeroExpediente",Ei,this),Object(yt.a)(this,"FechaInicio",Ni,this),Object(yt.a)(this,"FechaFinalPrevista",Pi,this),Object(yt.a)(this,"FechaFinalReal",Ti,this),Object(yt.a)(this,"Descripcion",ki,this),Object(yt.a)(this,"Comentario",Ri,this),Object(yt.a)(this,"Referencia",Li,this),Object(yt.a)(this,"TotalAnticipos",Di,this),Object(yt.a)(this,"IdPunteo",Mi,this),Object(yt.a)(this,"Matricula",Ai,this),Object(yt.a)(this,"Marca",Fi,this),Object(yt.a)(this,"Modelo",Ji,this),Object(yt.a)(this,"Bastidor",zi,this),Object(yt.a)(this,"FechaMatricula",Ui,this),Object(yt.a)(this,"CodigoGestoria",Vi,this),Object(yt.a)(this,"CodigoCliente",_i,this),Object(yt.a)(this,"Nomcliente",Gi,this),Object(yt.a)(this,"Proveedor",Bi,this),Object(yt.a)(this,"NombreProveedor",Wi,this),Object(yt.a)(this,"Transmitente",qi,this),Object(yt.a)(this,"NombreTransmitente",Hi,this),Object(yt.a)(this,"FacturadoSiNo",Zi,this),Object(yt.a)(this,"TotalIva",Ki,this),Object(yt.a)(this,"TotalFactura",Xi,this),Object(yt.a)(this,"FechaTrafico",Yi,this),Object(yt.a)(this,"IdVehiculo",Qi,this),Object(yt.a)(this,"FechaCaducidadItv",$i,this),Object(yt.a)(this,"Estado",ec,this)},Ii=Object(wt.a)(wi.prototype,"Id",[Ho],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Si=Object(wt.a)(wi.prototype,"SerieExpediente",[Zo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ei=Object(wt.a)(wi.prototype,"NumeroExpediente",[Ko],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ni=Object(wt.a)(wi.prototype,"FechaInicio",[Xo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pi=Object(wt.a)(wi.prototype,"FechaFinalPrevista",[Yo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ti=Object(wt.a)(wi.prototype,"FechaFinalReal",[Qo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ki=Object(wt.a)(wi.prototype,"Descripcion",[$o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ri=Object(wt.a)(wi.prototype,"Comentario",[ei],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Li=Object(wt.a)(wi.prototype,"Referencia",[ti],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Di=Object(wt.a)(wi.prototype,"TotalAnticipos",[ni],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Mi=Object(wt.a)(wi.prototype,"IdPunteo",[ai],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ai=Object(wt.a)(wi.prototype,"Matricula",[ri],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Fi=Object(wt.a)(wi.prototype,"Marca",[oi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ji=Object(wt.a)(wi.prototype,"Modelo",[ii],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),zi=Object(wt.a)(wi.prototype,"Bastidor",[ci],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ui=Object(wt.a)(wi.prototype,"FechaMatricula",[li],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vi=Object(wt.a)(wi.prototype,"CodigoGestoria",[si],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_i=Object(wt.a)(wi.prototype,"CodigoCliente",[ui],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Gi=Object(wt.a)(wi.prototype,"Nomcliente",[di],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Bi=Object(wt.a)(wi.prototype,"Proveedor",[bi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Wi=Object(wt.a)(wi.prototype,"NombreProveedor",[pi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),qi=Object(wt.a)(wi.prototype,"Transmitente",[ji],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Hi=Object(wt.a)(wi.prototype,"NombreTransmitente",[mi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Zi=Object(wt.a)(wi.prototype,"FacturadoSiNo",[hi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ki=Object(wt.a)(wi.prototype,"TotalIva",[Oi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Xi=Object(wt.a)(wi.prototype,"TotalFactura",[fi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Yi=Object(wt.a)(wi.prototype,"FechaTrafico",[vi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Qi=Object(wt.a)(wi.prototype,"IdVehiculo",[gi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),$i=Object(wt.a)(wi.prototype,"FechaCaducidadItv",[xi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ec=Object(wt.a)(wi.prototype,"Estado",[yi],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ci=wi)),tc=Object(We.JsonObject)("ExpedienteGridModel"),nc=Object(We.JsonProperty)("Id",Number,0),ac=Object(We.JsonProperty)("IdKey",Number,0),rc=Object(We.JsonProperty)("IdVehiculo",Number),oc=Object(We.JsonProperty)("SerieExpediente",String),ic=Object(We.JsonProperty)("NumeroExpediente",Number),cc=Object(We.JsonProperty)("FechaInicio",Wl),lc=Object(We.JsonProperty)("FechaFinalPrevista",Wl),sc=Object(We.JsonProperty)("FechaFinalReal",Wl),uc=Object(We.JsonProperty)("Referencia",String),dc=Object(We.JsonProperty)("Matricula",String),bc=Object(We.JsonProperty)("Marca",String),pc=Object(We.JsonProperty)("Modelo",String),jc=Object(We.JsonProperty)("FechaMatricula",Wl),tc((hc=function e(){Object(Ct.a)(this,e),Object(yt.a)(this,"Id",Oc,this),Object(yt.a)(this,"IdKey",fc,this),Object(yt.a)(this,"IdVehiculo",vc,this),Object(yt.a)(this,"SerieExpediente",gc,this),Object(yt.a)(this,"NumeroExpediente",xc,this),Object(yt.a)(this,"FechaInicio",yc,this),Object(yt.a)(this,"FechaFinalPrevista",Cc,this),Object(yt.a)(this,"FechaFinalReal",wc,this),Object(yt.a)(this,"Referencia",Ic,this),Object(yt.a)(this,"Matricula",Sc,this),Object(yt.a)(this,"Marca",Ec,this),Object(yt.a)(this,"Modelo",Nc,this),Object(yt.a)(this,"FechaMatricula",Pc,this)},Oc=Object(wt.a)(hc.prototype,"Id",[nc],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),fc=Object(wt.a)(hc.prototype,"IdKey",[ac],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),vc=Object(wt.a)(hc.prototype,"IdVehiculo",[rc],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),gc=Object(wt.a)(hc.prototype,"SerieExpediente",[oc],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),xc=Object(wt.a)(hc.prototype,"NumeroExpediente",[ic],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),yc=Object(wt.a)(hc.prototype,"FechaInicio",[cc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cc=Object(wt.a)(hc.prototype,"FechaFinalPrevista",[lc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wc=Object(wt.a)(hc.prototype,"FechaFinalReal",[sc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ic=Object(wt.a)(hc.prototype,"Referencia",[uc],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Sc=Object(wt.a)(hc.prototype,"Matricula",[dc],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ec=Object(wt.a)(hc.prototype,"Marca",[bc],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Nc=Object(wt.a)(hc.prototype,"Modelo",[pc],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Pc=Object(wt.a)(hc.prototype,"FechaMatricula",[jc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mc=hc))||mc),Zl=(Tc=Object(We.JsonObject)("ExpedienteDetalleModel"),kc=Object(We.JsonProperty)("SerieExpediente",String),Rc=Object(We.JsonProperty)("NumeroExpediente",Number),Lc=Object(We.JsonProperty)("Descripcion",String),Dc=Object(We.JsonProperty)("Estado",String),Mc=Object(We.JsonProperty)("FechaInicio",Wl),Ac=Object(We.JsonProperty)("FechaFinalPrevista",Wl),Fc=Object(We.JsonProperty)("FechaFinalReal",Wl),Jc=Object(We.JsonProperty)("CodigoCliente",String),zc=Object(We.JsonProperty)("NombreCliente",String),Uc=Object(We.JsonProperty)("Colaborador",String),Vc=Object(We.JsonProperty)("NombreColaborador",String),_c=Object(We.JsonProperty)("Transmitente",String),Gc=Object(We.JsonProperty)("NombreTransmitente",String),Bc=Object(We.JsonProperty)("Referencia",String),Wc=Object(We.JsonProperty)("Comentario",String),Tc((Hc=function e(){Object(Ct.a)(this,e),Object(yt.a)(this,"SerieExpediente",Zc,this),Object(yt.a)(this,"NumeroExpediente",Kc,this),Object(yt.a)(this,"Descripcion",Xc,this),Object(yt.a)(this,"Estado",Yc,this),Object(yt.a)(this,"FechaInicio",Qc,this),Object(yt.a)(this,"FechaFinalPrevista",$c,this),Object(yt.a)(this,"FechaFinalReal",el,this),Object(yt.a)(this,"CodigoCliente",tl,this),Object(yt.a)(this,"NombreCliente",nl,this),Object(yt.a)(this,"Colaborador",al,this),Object(yt.a)(this,"NombreColaborador",rl,this),Object(yt.a)(this,"Transmitente",ol,this),Object(yt.a)(this,"NombreTransmitente",il,this),Object(yt.a)(this,"Referencia",cl,this),Object(yt.a)(this,"Comentario",ll,this)},Zc=Object(wt.a)(Hc.prototype,"SerieExpediente",[kc],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Kc=Object(wt.a)(Hc.prototype,"NumeroExpediente",[Rc],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Xc=Object(wt.a)(Hc.prototype,"Descripcion",[Lc],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Yc=Object(wt.a)(Hc.prototype,"Estado",[Dc],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Qc=Object(wt.a)(Hc.prototype,"FechaInicio",[Mc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$c=Object(wt.a)(Hc.prototype,"FechaFinalPrevista",[Ac],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),el=Object(wt.a)(Hc.prototype,"FechaFinalReal",[Fc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tl=Object(wt.a)(Hc.prototype,"CodigoCliente",[Jc],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),nl=Object(wt.a)(Hc.prototype,"NombreCliente",[zc],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),al=Object(wt.a)(Hc.prototype,"Colaborador",[Uc],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),rl=Object(wt.a)(Hc.prototype,"NombreColaborador",[Vc],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ol=Object(wt.a)(Hc.prototype,"Transmitente",[_c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),il=Object(wt.a)(Hc.prototype,"NombreTransmitente",[Gc],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),cl=Object(wt.a)(Hc.prototype,"Referencia",[Bc],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ll=Object(wt.a)(Hc.prototype,"Comentario",[Wc],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),qc=Hc))||qc),Kl=(sl=Object(We.JsonObject)("ExpedienteGridCampoDatoModel"),ul=Object(We.JsonProperty)("Campos",[qe.ColumnModel]||!1),dl=Object(We.JsonProperty)("Datos",[Hl]||!1),sl((pl=function e(){Object(Ct.a)(this,e),Object(yt.a)(this,"Campos",jl,this),Object(yt.a)(this,"Datos",ml,this)},jl=Object(wt.a)(pl.prototype,"Campos",[ul],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ml=Object(wt.a)(pl.prototype,"Datos",[dl],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),bl=pl))||bl),Xl=(hl=Object(We.JsonObject)("ExpedienteCampoDatoModel"),Ol=Object(We.JsonProperty)("Campos",[Ul]||!1),fl=Object(We.JsonProperty)("Datos",[Zl]||!1),hl((gl=function e(){Object(Ct.a)(this,e),Object(yt.a)(this,"Campos",xl,this),Object(yt.a)(this,"Datos",yl,this)},xl=Object(wt.a)(gl.prototype,"Campos",[Ol],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),yl=Object(wt.a)(gl.prototype,"Datos",[fl],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),vl=gl))||vl),Yl="ExpedienteService";function Ql(e){return $l.apply(this,arguments)}function $l(){return($l=Object(Nt.a)(Et.a.mark((function e(t){var n,a,r;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,a="".concat("http://localhost:9606","/Expedientes/GetStructure"),r=new Kl,e.next=6,Ft()({url:a,method:zt.methodsEndPointType.GET,headers:$a(t)}).then((function(e){as(e.status),r=n.deserializeObject(e.data,Kl)})).catch((function(e){return Object(zt.customLog)(null,zt.logType.ERROR,Yl,Ql.name,zt.methodsEndPointType.GET),as(e.request.status),{}}));case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var es=function(){var e=Object(Nt.a)(Et.a.mark((function e(t,n){var a,r,o;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,r="".concat("http://localhost:9606","/Expedientes/GetDetalle/").concat(t),o=new Xl,e.next=7,Ft()({url:r,method:zt.methodsEndPointType.GET,headers:$a(n)}).then((function(e){as(e.status),o=a.deserializeObject(e.data,Xl)})).catch((function(e){Object(zt.customLog)(null,zt.logType.ERROR,Yl,es.name,zt.methodsEndPointType.GET)}));case 7:return e.abrupt("return",o);case 10:return e.prev=10,e.t0=e.catch(0),_l.logger.error("",{component:es.name}),e.abrupt("return",void 0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),ts=function(){var e=Object(Nt.a)(Et.a.mark((function e(t){var n,a,r;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(n=new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,a="".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL2:"",REACT_APP_API_URL_CORE:"http://localhost:9606",REACT_APP_ENVIRONMENT:"DEVELOPMENT",REACT_APP_VERSION:"0.1.0",REACT_APP_TOKEN:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IjMwQHJ1YW5vLmNvbSIsIm5iZiI6MTYwMzM2NzYzMiwiZXhwIjoxNjAzNDU0MDMyLCJpYXQiOjE2MDMzNjc2MzJ9.JDJCO787cRpDndvvOCQHGUfqgPUstSKeH6KeV8386TU",REACT_APP_AZURE_ACCOUNT_STORAGE:"portal2020log",REACT_APP_AZURE_KEY_STORAGE:"9EENV5/V3MXw4gZzfVcEAfpDoEXSQXpq9ELvK0E3KOACK++sR5IttUisdg1llTq4ff6+nHsp9+KUdhRTxf/aBg==",REACT_APP_AZURE_INSTRUMENTATIONKEY:"8d344b38-7b70-4589-8a84-dacaa6399deb"}).REACT_APP_API_URL,"/Expedientes/Header"),r=new Vl,t.Token="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IjMwQHJ1YW5vLmNvbSIsIm5iZiI6MTYyNzQ2NDg2NSwiZXhwIjoxNjU5MDAwODY1LCJpYXQiOjE2Mjc0NjQ4NjV9.jkAjvFYZIXyFDY9cjq1zP2M8HAts70kEY1u9qrHrD9s",e.next=8,Ft()({url:a,method:zt.methodsEndPointType.GET,headers:$a(t)}).then((function(e){as(e.status),r=n.deserializeObject(e.data,Vl),_l.logger.info("front.endpoint.get.expedientes.".concat(ts.name,".format"),{component:ts.name})})).catch((function(e){_l.logger.error("front.endpoint.get.expedientes.getCamposfromdb.format",{component:ts.name})}));case 8:return e.abrupt("return",r);case 11:return e.prev=11,e.t0=e.catch(0),_l.logger.error("front.endpoint.get.expedientes.getCampos.format",{component:ts.name}),e.abrupt("return",void 0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),ns=function(){var e=Object(Nt.a)(Et.a.mark((function e(t,n,a){var r;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{r="".concat("http://localhost:9606","/documento/file/").concat(t),Ft()({url:r,method:zt.methodsEndPointType.GET,headers:$a(a),responseType:"blob"}).then((function(e){as(e.status);var t=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=t,a.setAttribute("download",n),document.body.appendChild(a),a.click(),_l.logger.info("front.endpoint.get.expedientes.getExpedienteFile.format",{component:ts.name})})).catch((function(e){_l.logger.error("front.endpoint.get.expedientes.getExpedienteFilefromdb.format",{component:ns.name}),Wr("El archivo no existe o ya no est\xe1 disponible",Gr.error,5e3)}))}catch(o){_l.logger.error("front.endpoint.get.expedientes.getExpedienteFile.format",{component:ns.name})}case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();function as(e){401==e&&(localStorage.recordarUsuario="false",localStorage.removeItem("user"),localStorage.removeItem("storage"),window.location.reload())}var rs=n(22),os=n.n(rs);n(2219);var is=function(e){var t;function n(e){return"NumeroExpediente"==e.Nombre?"dxTextBox":"Descripcion"==e.Nombre||"Comentario"==e.Nombre?"dxTextArea":"boolean"==e.Tipo?"dxCheckBox":function(e){switch(e){case"date":return"dxDateBox";case"number":return"dxNumberBox";default:return"dxTextBox"}}(null===e||void 0===e?void 0:e.Type)}qr(),Object(a.useEffect)((function(){}));var r=new Intl.NumberFormat("es-ES",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}),o=new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR"});return Object(po.jsx)(po.Fragment,{children:Object(po.jsx)(os.a,{colCount:"auto",id:"form",labelLocation:"top",alignItemLabels:!1,alignItemLabelsInAllGroups:!1,children:null!=e.fields.Campos?null===(t=e.fields.Campos)||void 0===t?void 0:t.map((function(t){var a=e.fields.Datos[0][t.Nombre];return Object(po.jsx)(rs.Item,{dataField:t.Nombre,colSpan:eo(t.Nombre),cssClass:"align"+Xr(t.Tipo),visible:("date"!==t.Tipo||null!==t.Nombre)&&t.Visible,editorOptions:{stylingMode:"filled",readOnly:!0,format:Yr(t.Tipo,t.Format),fontWeight:"bold",color:"black",value:"currency"==t.Format?o.format(a):"percent"==t.Format?r.format(a/100):"datetime"!==t.Tipo||"1/1/1"!=a&&"31/12/1"!=a?a:"",hint:t.Texto+": "+a},editorType:n(t),itemType:!0,children:Object(po.jsx)(rs.Label,{text:t.Texto})})})):null})})};var cs=function(){var e=Object(c.c)((function(e){return e.expediente}));return Object(po.jsx)(po.Fragment,{children:null!=e.vehiculo?Object(po.jsx)(is,{fields:e.vehiculo}):null})};var ls=function(){var e=Object(c.c)((function(e){return e.expediente}));return Object(po.jsx)(po.Fragment,{children:null!=e.expediente?Object(po.jsx)(is,{fields:e.expediente}):null})},ss=n(57),us=n.n(ss);var ds=function(){var e,t,n,a=Object(c.c)((function(e){return e.expediente})),r=qr();return Object(po.jsx)(po.Fragment,{children:Object(po.jsxs)(bo.DataGrid,{dataSource:null===(e=a.costes)||void 0===e?void 0:e.Datos,allowColumnReordering:!0,allowColumnResizing:!0,columnAutoWidth:!0,showBorders:!0,showRowLines:!0,rowAlternationEnabled:!0,focusedRowEnabled:!1,children:[Object(po.jsx)(ss.Scrolling,{showScrollbar:"always"}),void 0!=(null===(t=a.costes)||void 0===t?void 0:t.Campos)?null===(n=a.costes)||void 0===n?void 0:n.Campos.map((function(e){return Object(po.jsx)(ss.Column,{dataField:e.Nombre,caption:e.Texto,dataType:e.Tipo,format:Yr(e.Tipo,e.Format),alignment:Xr(e.Tipo),visible:"Id"!==e.Nombre&&e.Visible},e.Nombre)})):null,Object(po.jsxs)(ss.Summary,{children:[Object(po.jsx)(ss.TotalItem,{column:"Importe",summaryType:"sum",valueFormat:r}),Object(po.jsx)(ss.TotalItem,{column:"CuotaIva",summaryType:"sum",valueFormat:r}),Object(po.jsx)(ss.TotalItem,{column:"TotalLinea",summaryType:"sum",valueFormat:r})]})]})})};var bs=function(){var e,t,n,a=Object(c.c)((function(e){return e.expediente}));return Object(po.jsx)(po.Fragment,{children:Object(po.jsxs)(bo.DataGrid,{dataSource:null===a||void 0===a||null===(e=a.tareasPendientes)||void 0===e?void 0:e.Datos,allowColumnReordering:!0,allowColumnResizing:!0,columnAutoWidth:!0,showBorders:!0,showRowLines:!0,rowAlternationEnabled:!0,focusedRowEnabled:!1,children:[Object(po.jsx)(ss.Scrolling,{showScrollbar:"always"}),Object(po.jsx)(ss.Column,{type:"buttons",width:1,fixed:!0}),void 0!=(null===a||void 0===a||null===(t=a.tareasPendientes)||void 0===t?void 0:t.Campos)?null===a||void 0===a||null===(n=a.tareasPendientes)||void 0===n?void 0:n.Campos.map((function(e){return Object(po.jsx)(ss.Column,{dataField:e.Nombre,caption:e.Texto,dataType:e.Tipo,format:Yr(e.Tipo,e.Format),alignment:Xr(e.Tipo),visible:"Id"!==e.Nombre&&e.Visible},e.Nombre)})):null]})})};var ps=function(){var e,t,n,a=Object(c.c)((function(e){return e.expediente})),r=Object(c.c)((function(e){return e.user}));return Object(po.jsx)(po.Fragment,{children:Object(po.jsxs)(bo.DataGrid,{dataSource:null===a||void 0===a||null===(e=a.documentos)||void 0===e?void 0:e.Datos,allowColumnReordering:!0,allowColumnResizing:!0,columnAutoWidth:!0,showBorders:!0,showRowLines:!0,rowAlternationEnabled:!0,focusedRowEnabled:!1,children:[Object(po.jsx)(ss.Scrolling,{showScrollbar:"always"}),Object(po.jsx)(ss.Column,{type:"buttons",cellRender:function(e){return function(e){var t=function(e){var t;switch((null!==(t=e.split(".").pop())&&void 0!==t?t:"").toUpperCase()){case"PDF":return"pdffile";case"DOCX":return"docxfile";case"DOC":return"docfile";case"XLS":return"xlsfile";case"XLSX":return"xlsxfile";case"TXT":return"txtfile";case"JPG":case"PNG":case"BMP":return"image";default:return"file"}}(e.data.NombreArchivoOriginal);return Object(po.jsx)(bo.Button,{text:"Descargar",icon:t,hint:"Descarga el documento a su equipo",onClick:function(t){ns(e.data.Id,encodeURIComponent(e.data.NombreArchivoOriginal),r.user)}})}(e)}}),void 0!=(null===a||void 0===a||null===(t=a.documentos)||void 0===t?void 0:t.Datos)?null===a||void 0===a||null===(n=a.documentos)||void 0===n?void 0:n.Campos.map((function(e){return Object(po.jsx)(ss.Column,{dataField:e.Nombre,caption:e.Texto,dataType:e.Tipo,format:Yr(e.Tipo,e.Format),alignment:Xr(e.Tipo),visible:"Id"!==e.Nombre&&e.Visible},e.Nombre)})):null]})})};n(2220);var js=function(){return Object(po.jsx)(po.Fragment,{children:Object(po.jsx)(os.a,{id:"tabExpediente",children:Object(po.jsxs)(rs.TabbedItem,{children:[Object(po.jsx)(rs.Tab,{title:"Costes",children:Object(po.jsx)(ds,{})}),Object(po.jsx)(rs.Tab,{title:"Historial",children:Object(po.jsx)(bs,{})}),Object(po.jsx)(rs.Tab,{title:"Documentos",children:Object(po.jsx)(ps,{})})]})})})};var ms=function(){var e=Object(c.c)((function(e){return e.expediente}));return Object(po.jsx)(po.Fragment,{children:null!=e.coste?Object(po.jsx)(is,{fields:e.coste}):null})};var hs,Os,fs,vs,gs,xs,ys,Cs,ws,Is,Ss,Es,Ns,Ps,Ts,ks,Rs,Ls,Ds,Ms,As,Fs,Js,zs,Us,Vs,_s,Gs,Bs,Ws,qs,Hs,Zs,Ks,Xs,Ys,Qs,$s,eu,tu,nu,au,ru,ou,iu,cu,lu,su,uu,du,bu,pu,ju,mu,hu,Ou,fu,vu,gu,xu,yu,Cu,wu,Iu,Su,Eu,Nu,Pu,Tu,ku,Ru,Lu,Du,Mu,Au,Fu,Ju,zu,Uu,Vu,_u,Gu,Bu,Wu,qu,Hu,Zu,Ku,Xu,Yu,Qu,$u,ed,td,nd,ad,rd,od,id,cd,ld,sd,ud,dd,bd,pd,jd,md,hd,Od,fd,vd,gd,xd,yd,Cd,wd,Id,Sd,Ed,Nd,Pd,Td,kd,Rd,Ld,Dd,Md,Ad,Fd,Jd,zd,Ud,Vd,_d,Gd,Bd,Wd,qd,Hd,Zd,Kd,Xd,Yd,Qd,$d,eb,tb,nb,ab,rb,ob,ib,cb,lb,sb=function(){return Object(po.jsx)(po.Fragment,{children:Object(po.jsx)(r.a.Fragment,{children:Object(po.jsx)("div",{className:"content-block  responsive-paddings",children:Object(po.jsxs)("div",{className:"content-block",children:[Object(po.jsx)(Ve.a,{direction:"row",width:"100%",height:"50%",children:Object(po.jsx)(Ue.Item,{ratio:1,children:Object(po.jsx)("div",{style:{borderBottomStyle:"solid"},children:"Detalles Expediente"})})}),Object(po.jsx)("br",{}),Object(po.jsx)(ls,{}),Object(po.jsx)("br",{}),Object(po.jsx)(Ve.a,{direction:"row",width:"100%",height:"50%",children:Object(po.jsx)(Ue.Item,{ratio:1,children:Object(po.jsx)("div",{style:{borderBottomStyle:"solid"},children:"Detalles Costes"})})}),Object(po.jsx)(ms,{}),Object(po.jsx)("br",{}),Object(po.jsx)("br",{}),Object(po.jsx)(Ve.a,{direction:"row",width:"100%",height:"50%",children:Object(po.jsx)(Ue.Item,{ratio:1,children:Object(po.jsx)("div",{style:{borderBottomStyle:"solid"},children:"Detalles del Veh\xedculo"})})}),Object(po.jsx)(cs,{}),Object(po.jsx)("br",{}),Object(po.jsx)("div",{style:{height:"20em"},children:Object(po.jsx)(js,{})})]})})})})},ub=(hs=Object(We.JsonObject)("CosteModel"),Os=Object(We.JsonProperty)("CodigoGestoria",String),fs=Object(We.JsonProperty)("Serie",String),vs=Object(We.JsonProperty)("Expediente",Number),gs=Object(We.JsonProperty)("Concepto",String),xs=Object(We.JsonProperty)("Tipoconcepto",Number),ys=Object(We.JsonProperty)("Fecha",Wl),Cs=Object(We.JsonProperty)("CodigoConcepto",Number),ws=Object(We.JsonProperty)("BaseImponible",Number),Is=Object(We.JsonProperty)("LineaSuplido",Number),Ss=Object(We.JsonProperty)("FacturarA",String),Es=Object(We.JsonProperty)("Observaciones",String),Ns=Object(We.JsonProperty)("PorcentajeIva",Number),Ps=Object(We.JsonProperty)("CuotaIva",Number),Ts=Object(We.JsonProperty)("TotalLinea",Number),hs((Rs=function e(){Object(Ct.a)(this,e),Object(yt.a)(this,"CodigoGestoria",Ls,this),Object(yt.a)(this,"Serie",Ds,this),Object(yt.a)(this,"Expediente",Ms,this),Object(yt.a)(this,"Concepto",As,this),Object(yt.a)(this,"Tipoconcepto",Fs,this),Object(yt.a)(this,"Fecha",Js,this),Object(yt.a)(this,"CodigoConcepto",zs,this),Object(yt.a)(this,"BaseImponible",Us,this),Object(yt.a)(this,"LineaSuplido",Vs,this),Object(yt.a)(this,"FacturarA",_s,this),Object(yt.a)(this,"Observaciones",Gs,this),Object(yt.a)(this,"PorcentajeIva",Bs,this),Object(yt.a)(this,"CuotaIva",Ws,this),Object(yt.a)(this,"TotalLinea",qs,this)},Ls=Object(wt.a)(Rs.prototype,"CodigoGestoria",[Os],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ds=Object(wt.a)(Rs.prototype,"Serie",[fs],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ms=Object(wt.a)(Rs.prototype,"Expediente",[vs],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),As=Object(wt.a)(Rs.prototype,"Concepto",[gs],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Fs=Object(wt.a)(Rs.prototype,"Tipoconcepto",[xs],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Js=Object(wt.a)(Rs.prototype,"Fecha",[ys],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zs=Object(wt.a)(Rs.prototype,"CodigoConcepto",[Cs],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Us=Object(wt.a)(Rs.prototype,"BaseImponible",[ws],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Vs=Object(wt.a)(Rs.prototype,"LineaSuplido",[Is],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_s=Object(wt.a)(Rs.prototype,"FacturarA",[Ss],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Gs=Object(wt.a)(Rs.prototype,"Observaciones",[Es],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Bs=Object(wt.a)(Rs.prototype,"PorcentajeIva",[Ns],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ws=Object(wt.a)(Rs.prototype,"CuotaIva",[Ps],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),qs=Object(wt.a)(Rs.prototype,"TotalLinea",[Ts],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ks=Rs)),Hs=Object(We.JsonObject)("CosteDetalleBody"),Zs=Object(We.JsonProperty)("Suplidos",Number),Ks=Object(We.JsonProperty)("Honorarios",Number),Xs=Object(We.JsonProperty)("Anticipos",Number),Ys=Object(We.JsonProperty)("Facturado",Boolean),Qs=Object(We.JsonProperty)("IVA",Number),$s=Object(We.JsonProperty)("Total",Number),Hs((tu=function e(){Object(Ct.a)(this,e),Object(yt.a)(this,"Suplidos",nu,this),Object(yt.a)(this,"Honorarios",au,this),Object(yt.a)(this,"Anticipos",ru,this),Object(yt.a)(this,"Facturado",ou,this),Object(yt.a)(this,"IVA",iu,this),Object(yt.a)(this,"Total",cu,this)},nu=Object(wt.a)(tu.prototype,"Suplidos",[Zs],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),au=Object(wt.a)(tu.prototype,"Honorarios",[Ks],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ru=Object(wt.a)(tu.prototype,"Anticipos",[Xs],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ou=Object(wt.a)(tu.prototype,"Facturado",[Ys],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),iu=Object(wt.a)(tu.prototype,"IVA",[Qs],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),cu=Object(wt.a)(tu.prototype,"Total",[$s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),eu=tu))||eu),db=(lu=Object(We.JsonObject)("CosteGridModel"),su=Object(We.JsonProperty)("NumeroExpediente",Number),uu=Object(We.JsonProperty)("FacturarA",String),du=Object(We.JsonProperty)("NumeroLinea",Number),bu=Object(We.JsonProperty)("FechaTramitacion",Wl),pu=Object(We.JsonProperty)("Importe",Number),ju=Object(We.JsonProperty)("Observaciones",String),mu=Object(We.JsonProperty)("Unidades",Number),hu=Object(We.JsonProperty)("PorcentajeDescuento",Number),Ou=Object(We.JsonProperty)("PorcentajeIVA",Number),fu=Object(We.JsonProperty)("Concepto",String),vu=Object(We.JsonProperty)("ClaveExterna",Number),gu=Object(We.JsonProperty)("TipoConcepto",String),xu=Object(We.JsonProperty)("CuotaIva",Number),yu=Object(We.JsonProperty)("TotalLinea",Number),lu((wu=function e(){Object(Ct.a)(this,e),Object(yt.a)(this,"NumeroExpediente",Iu,this),Object(yt.a)(this,"FacturarA",Su,this),Object(yt.a)(this,"NumeroLinea",Eu,this),Object(yt.a)(this,"FechaTramitacion",Nu,this),Object(yt.a)(this,"Importe",Pu,this),Object(yt.a)(this,"Observaciones",Tu,this),Object(yt.a)(this,"Unidades",ku,this),Object(yt.a)(this,"PorcentajeDescuento",Ru,this),Object(yt.a)(this,"PorcentajeIVA",Lu,this),Object(yt.a)(this,"Concepto",Du,this),Object(yt.a)(this,"ClaveExterna",Mu,this),Object(yt.a)(this,"TipoConcepto",Au,this),Object(yt.a)(this,"CuotaIva",Fu,this),Object(yt.a)(this,"TotalLinea",Ju,this)},Iu=Object(wt.a)(wu.prototype,"NumeroExpediente",[su],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Su=Object(wt.a)(wu.prototype,"FacturarA",[uu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Eu=Object(wt.a)(wu.prototype,"NumeroLinea",[du],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Nu=Object(wt.a)(wu.prototype,"FechaTramitacion",[bu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pu=Object(wt.a)(wu.prototype,"Importe",[pu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Tu=Object(wt.a)(wu.prototype,"Observaciones",[ju],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ku=Object(wt.a)(wu.prototype,"Unidades",[mu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ru=Object(wt.a)(wu.prototype,"PorcentajeDescuento",[hu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Lu=Object(wt.a)(wu.prototype,"PorcentajeIVA",[Ou],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Du=Object(wt.a)(wu.prototype,"Concepto",[fu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Mu=Object(wt.a)(wu.prototype,"ClaveExterna",[vu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Au=Object(wt.a)(wu.prototype,"TipoConcepto",[gu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Fu=Object(wt.a)(wu.prototype,"CuotaIva",[xu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ju=Object(wt.a)(wu.prototype,"TotalLinea",[yu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Cu=wu))||Cu),bb=(zu=Object(We.JsonObject)("CosteCampoDatoGridModel"),Uu=Object(We.JsonProperty)("Campos",[Ul]||!1),Vu=Object(We.JsonProperty)("Datos",[db]||!1),zu((Gu=function e(){Object(Ct.a)(this,e),Object(yt.a)(this,"Campos",Bu,this),Object(yt.a)(this,"Datos",Wu,this)},Bu=Object(wt.a)(Gu.prototype,"Campos",[Uu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Wu=Object(wt.a)(Gu.prototype,"Datos",[Vu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_u=Gu))||_u),pb=(qu=Object(We.JsonObject)("CosteCampoDatoModel"),Hu=Object(We.JsonProperty)("Campos",[Ul]||!1),Zu=Object(We.JsonProperty)("Datos",[ub]||!1),qu((Xu=function e(){Object(Ct.a)(this,e),Object(yt.a)(this,"Campos",Yu,this),Object(yt.a)(this,"Datos",Qu,this)},Yu=Object(wt.a)(Xu.prototype,"Campos",[Hu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Qu=Object(wt.a)(Xu.prototype,"Datos",[Zu],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ku=Xu))||Ku),jb=function(){var e=Object(Nt.a)(Et.a.mark((function e(t,n){var a,r,o;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,r="".concat("http://localhost:9606","/Coste/GetDetalleByExpediente/").concat(t),o=new pb,e.next=7,Ft()({url:r,method:"GET",headers:$a(n)}).then((function(e){$r(e.status),o=a.deserializeObject(e.data,pb)})).catch((function(e){Wr("No se han podido cargar los costes",Gr.error,5e3)}));case 7:return e.abrupt("return",o);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),mb=function(){var e=Object(Nt.a)(Et.a.mark((function e(t,n){var a,r,o;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,r="".concat("http://localhost:9606","/Coste/getCostesByExpediente/").concat(t),o=new bb,e.next=7,Ft()({url:r,method:"GET",headers:$a(n)}).then((function(e){$r(e.status),o=a.deserializeObject(e.data,bb)})).catch((function(e){Wr("No se han podido cargar los costes",Gr.error,5e3)}));case 7:return e.abrupt("return",o);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),hb=($u=Object(We.JsonObject)("VehiculoDetalle"),ed=Object(We.JsonProperty)("Matricula",String),td=Object(We.JsonProperty)("Marca",String),nd=Object(We.JsonProperty)("Modelo",String),ad=Object(We.JsonProperty)("Bastidor",String),rd=Object(We.JsonProperty)("FechaFabricacion",Wl),od=Object(We.JsonProperty)("FechaITV",Wl),id=Object(We.JsonProperty)("FechaMatricula",Wl),cd=Object(We.JsonProperty)("Observaciones",String),$u((sd=function e(){Object(Ct.a)(this,e),Object(yt.a)(this,"Matricula",ud,this),Object(yt.a)(this,"Marca",dd,this),Object(yt.a)(this,"Modelo",bd,this),Object(yt.a)(this,"Bastidor",pd,this),Object(yt.a)(this,"FechaFabricacion",jd,this),Object(yt.a)(this,"FechaITV",md,this),Object(yt.a)(this,"FechaMatricula",hd,this),Object(yt.a)(this,"Observaciones",Od,this)},ud=Object(wt.a)(sd.prototype,"Matricula",[ed],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),dd=Object(wt.a)(sd.prototype,"Marca",[td],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),bd=Object(wt.a)(sd.prototype,"Modelo",[nd],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),pd=Object(wt.a)(sd.prototype,"Bastidor",[ad],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),jd=Object(wt.a)(sd.prototype,"FechaFabricacion",[rd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),md=Object(wt.a)(sd.prototype,"FechaITV",[od],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hd=Object(wt.a)(sd.prototype,"FechaMatricula",[id],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Od=Object(wt.a)(sd.prototype,"Observaciones",[cd],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ld=sd))||ld),Ob=(fd=Object(We.JsonObject)("VehiculoCampoDatoModel"),vd=Object(We.JsonProperty)("Campos",[Ul]||!1),gd=Object(We.JsonProperty)("Datos",[hb]||!1),fd((yd=function e(){Object(Ct.a)(this,e),Object(yt.a)(this,"Campos",Cd,this),Object(yt.a)(this,"Datos",wd,this)},Cd=Object(wt.a)(yd.prototype,"Campos",[vd],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),wd=Object(wt.a)(yd.prototype,"Datos",[gd],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),xd=yd))||xd),fb=function(){var e=Object(Nt.a)(Et.a.mark((function e(t,n){var a,r,o;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,r="".concat("http://localhost:9606","/Vehiculos/GetDetalle/").concat(t),o=new Ob,e.next=7,Ft()({url:r,method:"GET",headers:$a(n)}).then((function(e){Object(zt.checkStatusCode)(e.status),o=a.deserializeObject(e.data,Ob)})).catch((function(e){Wr("No se han podido cargar los vehiculos",Gr.error,5e3)}));case 7:return e.abrupt("return",o);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),vb=(Id=Object(We.JsonObject)("TareaPendienteGridModel"),Sd=Object(We.JsonProperty)("FechaInicio",Wl),Ed=Object(We.JsonProperty)("FechaFin",String),Nd=Object(We.JsonProperty)("Descripcion",String),Pd=Object(We.JsonProperty)("Observaciones",String),Td=Object(We.JsonProperty)("ClaveExterna",Number),Id((Rd=function e(){Object(Ct.a)(this,e),Object(yt.a)(this,"FechaInicio",Ld,this),Object(yt.a)(this,"FechaFin",Dd,this),Object(yt.a)(this,"Descripcion",Md,this),Object(yt.a)(this,"Observaciones",Ad,this),Object(yt.a)(this,"ClaveExterna",Fd,this)},Ld=Object(wt.a)(Rd.prototype,"FechaInicio",[Sd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dd=Object(wt.a)(Rd.prototype,"FechaFin",[Ed],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Md=Object(wt.a)(Rd.prototype,"Descripcion",[Nd],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ad=Object(wt.a)(Rd.prototype,"Observaciones",[Pd],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Fd=Object(wt.a)(Rd.prototype,"ClaveExterna",[Td],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),kd=Rd))||kd),gb=(Jd=Object(We.JsonObject)("TarePendienteCampoDatoModel"),zd=Object(We.JsonProperty)("Campos",[Ul]||!1),Ud=Object(We.JsonProperty)("Datos",[vb]||!1),Jd((_d=function e(){Object(Ct.a)(this,e),Object(yt.a)(this,"Campos",Gd,this),Object(yt.a)(this,"Datos",Bd,this)},Gd=Object(wt.a)(_d.prototype,"Campos",[zd],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Bd=Object(wt.a)(_d.prototype,"Datos",[Ud],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Vd=_d))||Vd),xb=function(){var e=Object(Nt.a)(Et.a.mark((function e(t,n){var a,r,o;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,r="".concat("http://localhost:9606","/TareaPendiente/getByExpediente/").concat(t),o=new gb,e.next=7,Ft()({url:r,method:"GET",headers:$a(n)}).then((function(e){Object(zt.checkStatusCode)(e.status),o=a.deserializeObject(e.data,gb)})).catch((function(e){Wr("No se han podido obtener los historicos",Gr.error,5e3)}));case 7:return e.abrupt("return",o);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),yb=(Wd=Object(We.JsonObject)("DocumentoGridModel"),qd=Object(We.JsonProperty)("Id",Number),Hd=Object(We.JsonProperty)("NombreArchivoOriginal",String),Zd=Object(We.JsonProperty)("NombreArchivoCliente",String),Kd=Object(We.JsonProperty)("Observaciones",String),Wd((Yd=function e(){Object(Ct.a)(this,e),Object(yt.a)(this,"Id",Qd,this),Object(yt.a)(this,"NombreArchivoOriginal",$d,this),Object(yt.a)(this,"NombreArchivoCliente",eb,this),Object(yt.a)(this,"Observaciones",tb,this)},Qd=Object(wt.a)(Yd.prototype,"Id",[qd],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),$d=Object(wt.a)(Yd.prototype,"NombreArchivoOriginal",[Hd],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),eb=Object(wt.a)(Yd.prototype,"NombreArchivoCliente",[Zd],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),tb=Object(wt.a)(Yd.prototype,"Observaciones",[Kd],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Xd=Yd))||Xd),Cb=(nb=Object(We.JsonObject)("DocumentoCampoDatoModel"),ab=Object(We.JsonProperty)("Campos",[Ul]||!1),rb=Object(We.JsonProperty)("Datos",[yb]||!1),nb((ib=function e(){Object(Ct.a)(this,e),Object(yt.a)(this,"Campos",cb,this),Object(yt.a)(this,"Datos",lb,this)},cb=Object(wt.a)(ib.prototype,"Campos",[ab],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),lb=Object(wt.a)(ib.prototype,"Datos",[rb],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ob=ib))||ob),wb=function(){var e=Object(Nt.a)(Et.a.mark((function e(t,n){var a,r,o;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,r="".concat("http://localhost:9606","/Documento/getByExpediente/").concat(t),o=new Cb,e.next=7,Ft()({url:r,method:"GET",headers:$a(n)}).then((function(e){Object(zt.checkStatusCode)(e.status),o=a.deserializeObject(e.data,Cb)})).catch((function(e){Wr("No se han podido obtener los documentos",Gr.error,5e3)}));case 7:return e.abrupt("return",o);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),Ib=n(754),Sb=n(344),Eb=n.n(Sb),Nb=n(1276),Pb=n(469),Tb=Object(zt.getCurrency)();var kb=function(){var e,t=Object(a.useState)(0),n=Object(Ge.a)(t,2),r=(n[0],n[1],Object(a.useState)(0)),o=Object(Ge.a)(r,2),i=(o[0],o[1],Object(c.c)((function(e){return e.expediente})),Object(c.c)((function(e){return e.user}))),l=Object(a.useState)(!1),s=Object(Ge.a)(l,2),u=(s[0],s[1],Object(a.useState)(!1)),b=Object(Ge.a)(u,2),p=b[0],j=b[1],m=Object(a.useState)(!1),h=Object(Ge.a)(m,2),O=h[0],f=h[1],v=Object(a.useState)(!1),g=Object(Ge.a)(v,2),x=g[0],y=g[1],C=Object(a.useState)(new Kl),w=Object(Ge.a)(C,2),I=w[0],S=w[1],E=Object(a.useState)(null),N=Object(Ge.a)(E,2),P=N[0],T=N[1],k=localStorage.getItem("CheckFilterrow"),R=Object(c.b)(),L=Object(a.useState)(""),D=Object(Ge.a)(L,2),M=D[0],A=D[1],F=Lr(),J=(F.isXSmall,F.isLarge),z=Object(a.useRef)(null),U=Dr();Object(a.useEffect)((function(){function e(){return(e=Object(Nt.a)(Et.a.mark((function e(){var t,n;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ql(null===i||void 0===i?void 0:i.user);case 3:t=e.sent,S(t),R(Rl(t)),n=new Eb.a({key:"IdKey",load:function(e){var t="?";return["skip","take","requireTotalCount","sort","filter","totalSummary"].forEach((function(n){n in e&&Qr(e[n])&&(t+="".concat(n,"=").concat(JSON.stringify(e[n]),"&"))})),t=t.slice(0,-1),_=t.includes("group")?"".concat(_,"/").concat(t):"".concat(G,"/").concat(t),fetch(_,{method:"GET",headers:{Authorization:"Bearer "+V}}).then((function(e){return $r(e.status),e.json()})).then((function(e){return null!=e.Datos?{data:e.Datos,totalCount:e.totalCount,summary:e.summary}:null})).catch((function(e){console.log(e)}))}}),T(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var V=null===i||void 0===i||null===(e=i.user)||void 0===e?void 0:e.Token,_="".concat("http://localhost:9606","/Expedientes/GetExpedientes"),G="".concat("http://localhost:9606","/Expedientes/GetExpedientes"),B=function(){var e=Object(Nt.a)(Et.a.mark((function e(t){return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),R(Pl(!0)),e.t0=R,e.t1=Ll,e.next=6,es(t.data.Id,i.user);case 6:return e.t2=e.sent,e.t3=(0,e.t1)(e.t2),(0,e.t0)(e.t3),e.t4=R,e.t5=Dl,e.next=13,jb(t.data.Id,i.user);case 13:return e.t6=e.sent,e.t7=(0,e.t5)(e.t6),(0,e.t4)(e.t7),e.t8=R,e.t9=Al,e.next=20,fb(t.data.IdVehiculo,i.user);case 20:return e.t10=e.sent,e.t11=(0,e.t9)(e.t10),(0,e.t8)(e.t11),e.t12=R,e.t13=Ml,e.next=27,mb(t.data.Id,i.user);case 27:return e.t14=e.sent,e.t15=(0,e.t13)(e.t14),(0,e.t12)(e.t15),e.t16=R,e.t17=Fl,e.next=34,xb(t.data.Id,i.user);case 34:return e.t18=e.sent,e.t19=(0,e.t17)(e.t18),(0,e.t16)(e.t19),e.t20=R,e.t21=Jl,e.next=41,wb(t.data.Id,i.user);case 41:e.t22=e.sent,e.t23=(0,e.t21)(e.t22),(0,e.t20)(e.t23),R(Pl(!1));case 45:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(Nt.a)(Et.a.mark((function e(t){var n;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),R(Pl(!0)),e.next=4,es(t,i.user);case 4:void 0!=(n=e.sent)?(R(Ll(n)),R(Tl(!1))):(j(!1),Wr("No se ha podido cargar el expediente",Gr.error,5e3));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){j(!1)},H={icon:"close",onClick:function(){q()}};return Object(po.jsx)(po.Fragment,{children:oo(i.user,ro.EXPEDIENTES,[ao.VIEW])?Object(po.jsx)("div",{className:"content-block dx-card",style:{borderColor:"#f4f9ff",borderWidth:"2px",margin:"0.3%",padding:"0.16%"},children:Object(po.jsxs)("div",{id:"",children:[Object(po.jsx)("h3",{style:{margin:0,padding:0},children:"Consulta de Expedientes"}),void 0!=(null===I||void 0===I?void 0:I.Campos)&&(null===I||void 0===I?void 0:I.Campos.length)>0?Object(po.jsxs)(bo.DataGrid,{id:"gridExpedientesComponent",keyExpr:"IdKey",ref:z,dataSource:P,remoteOperations:!0,allowColumnReordering:!0,allowColumnResizing:!0,columnAutoWidth:!0,showBorders:!0,showRowLines:!0,height:U,onInitialized:function(e){var t;null===(t=e.component)||void 0===t||t.selectAll()},rowAlternationEnabled:!0,columnHidingEnabled:!Object(zt.checkScreenSize)(),onRowDblClick:function(e){void 0!=e.data&&B(e)},onKeyDown:function(e){try{var t,n;if("Enter"===e.event.code)void 0!=(null===z||void 0===z||null===(t=z.current)||void 0===t?void 0:t.props.focusedRowKey)&&W(null===z||void 0===z||null===(n=z.current)||void 0===n?void 0:n.props.focusedRowKey)}catch(a){}},focusedRowEnabled:!0,focusedRowKey:M,onFocusedRowChanged:function(e){var t;(t=e).row&&(A(t.row.key),t.row.key)},onToolbarPreparing:function(e){!function(e,t){e.toolbarOptions.items.unshift({name:"filtro",location:"after",widget:"dxButton",options:{hint:"Filtros personalizados",icon:"filter",onClick:function(e){z?z.current.instance.option("filterBuilderPopup.visible",!0):Wr("No se ha podido recargar, int\xe9ntelo de nuevo mas tarde",Gr.error,5e3)}}},{location:"after",widget:"dxButton",name:"id1",id:"id1",options:{id:"id1",name:"id2",icon:"refresh",hint:"Refrescar contenido",onClick:function(e){z?z.current.instance.refresh():Wr("No se ha podido recargar, int\xe9ntelo de nuevo mas tarde",Gr.error,5e3)}}},{location:"after",widget:"dxButton",options:{icon:"exportpdf",hint:"Exportar a PDF",onClick:function(){var e=new Pb.default;Object(Nb.exportDataGrid)({jsPDFDocument:e,component:z.current.instance,keepColumnWidths:!0}).then((function(){e.save("Expedientes.pdf")}))}}})}(Object(d.a)(Object(d.a)({},e),{},{component:null}))},children:[Object(po.jsx)(ss.Scrolling,{mode:"virtual",rowRenderingMode:"virtual",showScrollbar:"always",scrollByThumb:!0,preloadEnabled:!0,useNative:!0}),Object(zt.checkScreenSize)()?Object(po.jsx)(ss.SearchPanel,{visible:!0,width:240}):Object(po.jsx)(ss.SearchPanel,{visible:!0,width:100}),Object(po.jsx)(ss.Sorting,{mode:"multiple"}),Object(po.jsx)(ss.HeaderFilter,{visible:!1}),Object(po.jsx)(ss.Paging,{pageSize:1e3}),Object(po.jsx)(ss.ColumnChooser,{enabled:!0}),Object(po.jsx)(ss.LoadPanel,{enabled:!0}),Object(po.jsx)(ss.FilterRow,{visible:!0}),Object(po.jsx)(ss.FilterPanel,{visible:!0}),Object(po.jsx)(ss.Export,{excelWrapTextEnabled:!0,enabled:!0,fileName:"Expedientes"+Object(Ib.now)(),allowExportSelectedData:!0}),Object(po.jsx)(ss.Selection,{mode:"multiple",showCheckBoxesMode:J?"always":"never"}),Object(po.jsx)(ss.Grouping,{autoExpandAll:!1,allowCollapsing:!0,expandMode:"rowClick"}),Object(po.jsx)(ss.StateStoring,{enabled:!0,type:"localStorage",storageKey:"gridExpedientesComponent"}),void 0!=I.Campos?I.Campos.map((function(e){return Object(po.jsx)(ss.Column,{visible:e.Visible,dataField:e.Nombre,caption:e.Texto,dataType:e.Tipo,allowGrouping:"TotalFactura"!=e.Nombre,alignment:(t=e.Tipo,"currency"===t?"right":"left"),format:Yr(e.Tipo,e.Format),allowHeaderFiltering:"date"!=e.Tipo,defaultSortOrder:"asc"},e.Nombre);var t})):null,Object(po.jsxs)(ss.Summary,{children:[Object(po.jsx)(ss.TotalItem,{column:"NumeroExpediente",summaryType:"count"}),Object(po.jsx)(ss.TotalItem,{column:"TotalFactura",summaryType:"sum",valueFormat:Tb,alignment:"center",displayFormat:"{0}"})]})]}):null,Object(po.jsx)(Sl.Popup,{visible:O,onHiding:function(){f(!1)},dragEnabled:!0,closeOnOutsideClick:!1,showTitle:!0,title:"Configuraci\xf3n",width:300,height:250,children:Object(po.jsx)(bo.CheckBox,{text:"B\xfasqueda por campo.",value:k?Hr(k):x,onValueChanged:function(){y(!x),localStorage.setItem("CheckFilterrow",x.toString()),window.location.reload()}})}),Object(po.jsxs)(Sl.Popup,{ref:function(e){return e},visible:p,onHiding:q,dragEnabled:!0,closeOnOutsideClick:!1,showTitle:!0,title:"Consulta Expediente",resizeEnabled:!0,showCloseButton:!1,width:"95%",height:"95%",children:[Object(po.jsx)(kl.ToolbarItem,{options:H,widget:"dxButton",location:"after"}),Object(po.jsx)(Nl.a,{width:"100%",height:"100%",children:Object(po.jsx)(sb,{})}),Object(po.jsx)("div",{children:function(){if(!Object(zt.checkScreenSize)())return Object(po.jsx)(wl.Button,{text:"Cerrar",style:{float:"right"},onClick:q})}()})]}),Object(po.jsx)(wl.Button,{id:"buttonPopUpConf",style:{display:"none"},onClick:function(){return f(!O)}})]})}):Object(po.jsx)("div",{className:"content-block dx-card responsive-paddings",style:{borderColor:"#f4f9ff",borderWidth:"2px",margin:"0.6%"},children:Object(po.jsx)(Cl,{data:{type:1}})})})};var Rb=function(){var e=Object(c.c)((function(e){return e.user})),t=Object(c.b)(),n=Object(_e.g)(),o=Object(Be.a)(),i=o.isLatestVersion,l=o.emptyCacheStorage,s=Object(a.useState)(!0),u=Object(Ge.a)(s,2);return u[0],u[1],!1===e.isLoggedIn&&Ze(0,0,t),Object(c.c)((function(e){return e.user})),Object(po.jsxs)(r.a.Fragment,{children:[!i&&l(),!1===e.isLoggedIn?n.push("/"):null,uo(e.user,ro.EXPEDIENTES)?io(e.user)?Object(po.jsx)("div",{className:"content-block dx-card ",style:{borderColor:"#f4f9ff",borderWidth:"2px",margin:"0.3%",padding:"0.16%"},children:Object(po.jsx)(Cl,{data:{type:1}})}):Object(po.jsx)(kb,{}):null,function(){}]})},Lb=n(101),Db=n(119),Mb=n(2855),Ab=n(2851),Fb=n(2849),Jb=n(2847),zb=n(2850),Ub=n(2848),Vb=n(2854),_b=n(1286),Gb=n.p+"static/media/newlogo.c60927be.png",Bb=n(1277),Wb=n.n(Bb),qb=function(){return Object(po.jsx)(Wb.a,{children:Object(po.jsxs)("div",{delay:0,style:{padding:"15px 30px",backgroundColor:"blue",color:"white",textAlign:"center"},children:["Instalar aplicaci\xf3n",Object(po.jsxs)("p",{children:["Para instalar ",Object(po.jsx)("b",{children:"El Portal del Despacho"})," en su dispositivo debe pulsar en el icono se\xf1alado debajo del mensaje."]})]})})},Hb=(n(2223),n(48)),Zb=n(2852),Kb=function(e){return{type:Se,payload:e}},Xb=function(e){return{type:Ie,payload:e}},Yb=function(e){Object(Db.a)(e);var t=Object(_e.g)(),n=Object(a.useState)(Object(zt.getCookie)("UsuarioRecordado")),o=Object(Ge.a)(n,2),i=o[0],l=o[1],s=Object(a.useState)(Object(zt.getCookie)("passwdRecordado")),u=Object(Ge.a)(s,2),d=u[0],b=u[1],p=Object(a.useState)(""),j=Object(Ge.a)(p,2),m=j[0],h=j[1],O=Object(a.useState)(""),f=Object(Ge.a)(O,2),v=f[0],g=f[1],x=Object(a.useState)(!1),y=Object(Ge.a)(x,2),C=y[0],w=y[1],I=(Object(c.c)((function(e){return e.user})),Object(Be.a)()),S=I.isLatestVersion,E=I.emptyCacheStorage;localStorage.setItem("recordarUsuario","false");localStorage.getItem("recordarUsuario");var P=Object(c.c)((function(e){return e.user})),T=Object(c.b)(),k=Object(a.useState)(!1),R=Object(Ge.a)(k,2),L=R[0],D=R[1],M=Object(a.useState)(!1),A=Object(Ge.a)(M,2),F=A[0],J=A[1],z=r.a.useState(!1),U=Object(Ge.a)(z,2),V=U[0],_=U[1],G=r.a.useState(!1),B=Object(Ge.a)(G,2),W=B[0],q=B[1],H=r.a.useRef(),Z=function(){var e=Object(Nt.a)(Et.a.mark((function e(n){var a;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),V||(q(!1),_(!0),H.current=window.setTimeout((function(){q(!0),_(!1)}),2e3)),e.prev=2,e.next=5,Ka(i,d);case 5:if(void 0!=(a=e.sent)&&""!=a.Token){e.next=10;break}T({type:N,payload:void 0}),e.next=42;break;case 10:return Wr("\xa1Usuario Correcto! Iniciando sesi\xf3n...",Gr.success,5e3),e.t0=T,e.t1=Lt,e.next=15,vr(a,parseInt(a.CompanyId));case 15:return e.t2=e.sent,e.t3=(0,e.t1)(e.t2),(0,e.t0)(e.t3),e.t4=localStorage,e.t5=JSON,e.t6=T,e.t7=Kb,e.next=24,pr(a,parseInt(a.CompanyId));case 24:return e.t8=e.sent,e.t9=(0,e.t7)(e.t8),e.t10=(0,e.t6)(e.t9).payload,e.t11=e.t5.stringify.call(e.t5,e.t10),e.t4.setItem.call(e.t4,"parentEnlaces",e.t11),e.t12=localStorage,e.t13=JSON,e.t14=T,e.t15=Mt,e.next=35,Pr(a,parseInt(a.CompanyId));case 35:e.t16=e.sent,e.t17=(0,e.t15)(e.t16),e.t18=(0,e.t14)(e.t17).payload,e.t19=e.t13.stringify.call(e.t13,e.t18),e.t12.setItem.call(e.t12,"parentCompanyModulos",e.t19),T(He(a)),lo(a)?t.push("/expedientePage"):t.push("/Companies");case 42:C&&("true",localStorage.setItem("recordarUsuario","true"),w(!1)),e.next=48;break;case 45:e.prev=45,e.t20=e.catch(2),console.error(e.t20);case 48:case"end":return e.stop()}}),e,null,[[2,45]])})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(Nt.a)(Et.a.mark((function e(){var t,n,a,r;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("recuperarPasswd"),n=JSON.parse(t),a=n.Usuario,r=n.Auth,e.next=7,Object(Jt["restablecerContrase\xf1aCall"])(a,v,r);case 7:"OK"==e.sent&&(J(!1),D(!1)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(Nt.a)(Et.a.mark((function e(){return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(Xa(m));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Y(){return Object(po.jsxs)(_b.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(po.jsx)(Jb.a,{color:"inherit",href:"https://www.ruano.com/",children:"Ruano Inform\xe1tica, S.L."})," ",(new Date).getFullYear(),"."]})}var Q=Object(Ub.a)((function(e){return{root:{height:"100vh"},image:{backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},"paperRecuperarContrase\xf1a":{margin:e.spacing(0,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"auto",maxWidth:"360px",marginTop:e.spacing(1),padding:"5%"},formRecuperarPass:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},media:{height:140},"olvideContrase\xf1aButton":{fontSize:"7pt"},buttonSuccess:{backgroundColor:"blue","&:hover":{backgroundColor:"blue"}},buttonProgress:{color:"blue",position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}}));(null===P||void 0===P?void 0:P.user)&&(lo(null===P||void 0===P?void 0:P.user)?t.push("/expedientePage"):t.push("/Companies"));var $=function(){return Object(zt.checkScreenSize)()?"70%":400},ee=function(){return Object(zt.checkScreenSize)()?"30%":300},te=Q(),ne=Object(Hb.a)(Object(Lb.a)({},te.buttonSuccess,W));return Object(po.jsxs)(po.Fragment,{children:[S?console.log("Estas en la ultima versi\xf3n, Estado de la aplicacion: production Numero de versi\xf3n: "+Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL2:"",REACT_APP_API_URL_CORE:"http://localhost:9606",REACT_APP_ENVIRONMENT:"DEVELOPMENT",REACT_APP_VERSION:"0.1.0",REACT_APP_TOKEN:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IjMwQHJ1YW5vLmNvbSIsIm5iZiI6MTYwMzM2NzYzMiwiZXhwIjoxNjAzNDU0MDMyLCJpYXQiOjE2MDMzNjc2MzJ9.JDJCO787cRpDndvvOCQHGUfqgPUstSKeH6KeV8386TU",REACT_APP_AZURE_ACCOUNT_STORAGE:"portal2020log",REACT_APP_AZURE_KEY_STORAGE:"9EENV5/V3MXw4gZzfVcEAfpDoEXSQXpq9ELvK0E3KOACK++sR5IttUisdg1llTq4ff6+nHsp9+KUdhRTxf/aBg==",REACT_APP_AZURE_INSTRUMENTATIONKEY:"8d344b38-7b70-4589-8a84-dacaa6399deb"}).REACT_APP_SECRET_CODE):console.log("No Estas en la ultima versi\xf3n, Estado de la aplicacion: production Numero de versi\xf3n: "+Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL2:"",REACT_APP_API_URL_CORE:"http://localhost:9606",REACT_APP_ENVIRONMENT:"DEVELOPMENT",REACT_APP_VERSION:"0.1.0",REACT_APP_TOKEN:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IjMwQHJ1YW5vLmNvbSIsIm5iZiI6MTYwMzM2NzYzMiwiZXhwIjoxNjAzNDU0MDMyLCJpYXQiOjE2MDMzNjc2MzJ9.JDJCO787cRpDndvvOCQHGUfqgPUstSKeH6KeV8386TU",REACT_APP_AZURE_ACCOUNT_STORAGE:"portal2020log",REACT_APP_AZURE_KEY_STORAGE:"9EENV5/V3MXw4gZzfVcEAfpDoEXSQXpq9ELvK0E3KOACK++sR5IttUisdg1llTq4ff6+nHsp9+KUdhRTxf/aBg==",REACT_APP_AZURE_INSTRUMENTATIONKEY:"8d344b38-7b70-4589-8a84-dacaa6399deb"}).REACT_APP_SECRET_CODE),Object(po.jsx)("div",{children:!S&&Object(po.jsx)("p",{children:Object(po.jsx)("a",{href:"#",onClick:function(e){e.preventDefault(),E()},rel:"noopener noreferrer",children:"Actualizar versi\xf3n"})})}),Object(po.jsx)(qb,{}),Object(po.jsx)(Fb.a,{container:!0,justifyContent:"center",direction:"row",children:Object(po.jsx)(Fb.a,{item:!0,style:{width:"auto"},children:Object(po.jsx)(Fb.a,{container:!0,direction:"column",justifyContent:"center",className:"login-form",style:{width:"100%"},children:Object(po.jsxs)(zb.a,{variant:"elevation",elevation:12,className:"login-background",style:{width:"100%"},children:[Object(po.jsx)("img",{src:Gb,style:{display:"block",margin:"auto",marginTop:"2%"},width:"200px",height:"20%",alt:"LogoLogin"}),Object(po.jsx)(Fb.a,{item:!0,children:Object(po.jsxs)("form",{className:te.form,onSubmitCapture:Z,children:[Object(po.jsx)(Vb.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Usuario",name:"email",autoComplete:"email",autoFocus:!0,value:i,onChange:function(e){l(e.target.value)}}),Object(po.jsx)(Vb.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"Contrase\xf1a",label:"Contrase\xf1a",type:"password",id:"password",autoComplete:"current-password",value:d,onChange:function(e){b(e.target.value)}}),Object(po.jsx)(Ab.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:ne,disabled:V,children:"Acceder"}),V&&Object(po.jsx)(Zb.a,{size:24,className:te.buttonProgress}),Object(po.jsx)(Fb.a,{container:!0,children:Object(po.jsxs)(Fb.a,{item:!0,xs:!0,children:[Object(po.jsx)(Ab.a,{onClick:function(){D(!L)},className:te.olvideContrase\u00f1aButton,children:"Olvid\xe9 mi contrase\xf1a"}),Object(po.jsx)(Sl.Popup,{visible:L,onHiding:function(){D(!1),h(""),document.getElementById("mensaje").innerHTML="",window.location.reload()},dragEnabled:!1,closeOnOutsideClick:!1,showTitle:!0,width:ee,height:$,children:Object(po.jsxs)("div",{className:te.paperRecuperarContrase\u00f1a,id:"mensajeRecuperarPasswd",children:[Object(po.jsx)("img",{src:Gb,width:"70%",height:"70%",alt:"LogoLogin"}),Object(po.jsx)(Vb.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"Usuario",label:"Usuario",name:"Usuario",autoComplete:"Usuario",autoFocus:!0,value:m,onChange:function(e){h(e.target.value)}}),Object(po.jsx)(Ab.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:X,children:"Enviar"}),Object(po.jsx)(Mb.a,{mt:5,children:Object(po.jsx)(Y,{})}),Object(po.jsx)("h3",{id:"mensaje"})]})}),Object(po.jsx)(Sl.Popup,{visible:F,onHiding:function(){J(!1)},dragEnabled:!1,closeOnOutsideClick:!1,showTitle:!0,width:ee,height:$,children:Object(po.jsxs)("div",{className:te.paperRecuperarContrase\u00f1a,id:"mensajeRecuperarPasswd",children:[Object(po.jsx)("img",{src:Gb,width:"70%",height:"70%"}),Object(po.jsxs)("p",{style:{fontSize:"0.8em"},children:[" ","Introduzca un email valido. Le enviaremos el enlace para restablecer su contrase\xf1a."]}),Object(po.jsx)(Vb.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"email",name:"email",autoComplete:"email",autoFocus:!0,value:v,onChange:function(e){g(e.target.value)}}),Object(po.jsx)(Ab.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:K,children:"Enviar"}),Object(po.jsx)(Mb.a,{mt:5,children:Object(po.jsx)(Y,{})}),Object(po.jsx)("p",{id:"mensaje"})]})})]})}),Object(po.jsx)(Mb.a,{mt:5,children:Object(po.jsx)(Y,{})})]})})]})})})})]})},Qb=function(e){Object(Db.a)(e);var t=Object(_e.g)(),n=Object(a.useState)(""),r=Object(Ge.a)(n,2),o=r[0],i=r[1],l=Object(a.useState)(""),s=Object(Ge.a)(l,2),u=s[0],d=s[1],b=Object(Be.a)(),p=(b.isLatestVersion,b.emptyCacheStorage,Object(c.c)((function(e){return e.user}))),j=(Object(c.b)(),function(){var e=Object(Nt.a)(Et.a.mark((function e(n){var a,r,i;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),e.prev=1,a=Object(zt.getParameters)("user"),r=Object(zt.getParameters)("code"),!a||!r){e.next=12;break}if(o!==u){e.next=11;break}return e.next=8,Ya(a,o,r);case 8:i=e.sent,e.next=12;break;case 11:Wr("Las contrase\xf1as no coinciden, Prueba de nuevo.",Gr.info,5e3);case 12:"OK"==i&&t.push("/login"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}());function m(){return Object(po.jsxs)(_b.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(po.jsx)(Jb.a,{color:"inherit",href:"https://www.ruano.com/",children:"Ruano Inform\xe1tica, S.L."})," ",(new Date).getFullYear(),"."]})}var h=Object(Ub.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://source.unsplash.com/collection/277386)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:f,height:O,marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},media:{height:140}}}));1==p.isLoggedIn&&t.push("/ExpedientePage");var O=function(){return Object(zt.checkScreenSize)()?"70%":400},f=function(){return Object(zt.checkScreenSize)(),"100%"},v=h();return Object(po.jsx)(po.Fragment,{children:Object(po.jsxs)("div",{className:v.paper,children:[Object(po.jsx)("img",{src:Gb,style:{display:"block",margin:"auto",marginTop:"2%"},width:"200px",height:"20%"}),Object(po.jsxs)("form",{className:v.form,onSubmitCapture:j,children:[Object(po.jsx)(Vb.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"nuevaContrase\xf1a",label:"Nueva contrase\xf1a",name:"nuevaContrase\xf1a",autoComplete:"nuevaContrase\xf1a",type:"password",autoFocus:!0,value:o,onChange:function(e){i(e.target.value)}}),Object(po.jsx)(Vb.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"repetirNuevaContrase\xf1a",label:"Repetir nueva contrase\xf1a",type:"password",id:"repetirNuevaContrase\xf1a",autoComplete:"repetirNuevaContrase\xf1a",value:u,onChange:function(e){d(e.target.value)}}),Object(po.jsx)(Ab.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:function(){return j},children:"Enviar"}),Object(po.jsx)(Mb.a,{mt:5,children:Object(po.jsx)(m,{})})]})]})})},$b=(n(2224),n.p+"static/media/Calculadora.f51a54b7.png");var ep=function(){var e,t=Object(Be.a)(),n=t.isLatestVersion,a=t.emptyCacheStorage,r=Object(c.c)((function(e){return e.user}));return Object(po.jsxs)(po.Fragment,{children:[!n&&a(),Object(po.jsx)("div",{className:"center",children:Object(po.jsx)("a",{href:"https://portal.elgestor.com/CalculadoraIntro.aspx?Id="+(null===(e=r.user)||void 0===e?void 0:e.CodigoCalculadora),target:"_blank",rel:"noopener noreferrer",children:Object(po.jsx)("img",{className:"calculadoraImg",src:$b,alt:"LogoCalculadora"})})})]})},tp=n(757);var np=function(){var e=Object(c.c)((function(e){return e.config}));return Object(po.jsx)(tp.LoadPanel,{id:"genericLoadPanel",shadingColor:"rgba(192,192,192,0.96)",position:"center",visible:e.visibleLoader,showIndicator:!0,shading:!0,showPane:!0,closeOnOutsideClick:!1})};n(2225);var ap=function(){return Object(_e.g)(),Object(po.jsx)(r.a.Fragment,{children:Object(po.jsx)(po.Fragment,{children:Object(po.jsx)("div",{className:"content-block dx-card responsive-paddings",style:{borderColor:"#f4f9ff",borderWidth:"2px"},children:Object(po.jsx)(Ve.a,{align:"center",crossAlign:"stretch",style:{alignItems:"center"},children:Object(po.jsx)(Ue.Item,{ratio:"1",children:Object(po.jsx)(os.a,{id:"tabs",children:Object(po.jsxs)(rs.TabbedItem,{children:[Object(po.jsx)(rs.Tab,{title:"Email",children:Object(po.jsx)(Ve.a,{direction:"col",width:"100%",children:Object(po.jsx)(Ue.Item,{ratio:"0",baseSize:"120%"})})}),Object(po.jsx)(rs.Tab,{title:"Legal",children:Object(po.jsx)(Ve.a,{direction:"row",width:"100%",children:Object(po.jsx)(Ue.Item,{ratio:"0",baseSize:"120%"})})})]})})})})})})})},rp=n(759),op=n.n(rp),ip=n(2853),cp=n(2856),lp=(n(2226),function(){var e=Object(Nt.a)(Et.a.mark((function e(t,n,a){var r;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"https://portaldespachosapi.azurewebsites.net/api/Feedback",e.next=4,Ft.a.post("https://portaldespachosapi.azurewebsites.net/api/Feedback",{Body:t,FileData:n},{headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1bmlxdWVfbmFtZSI6IjMwQHJ1YW5vLmNvbSIsIm5iZiI6MTYzNDgzMDExOCwiZXhwIjoxNjY2MzY2MTE4LCJpYXQiOjE2MzQ4MzAxMTh9.Jx9fZbscVe2FpDjNhZroSCPPwZguXnLIPmJRfPMxxvc"}});case 4:return"OK"==(r=e.sent).statusText&&200==r.status&&Wr("Reporte enviado correctamente",Gr.success,5e3),e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(0),Wr("No se ha podido enviar el Reporte",Gr.error,5e3),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n,a){return e.apply(this,arguments)}}());var sp=function(e){var t=e.user,n=e.isLoggedIn,r=Object(a.useState)(!1),o=Object(Ge.a)(r,2),i=o[0],c=o[1],l=Object(a.useState)(""),s=Object(Ge.a)(l,2),u=s[0],d=s[1],b=Object(a.useState)(!1),p=Object(Ge.a)(b,2),j=p[0],m=p[1],h=function(){c(!1)},O={buttonStyle:{width:"auto",height:"auto",borderRadius:13,justifyContent:"center",alignItems:"center",position:"fixed",right:20,zIndex:"1600",textAlign:"center"},buttonStyleMobile:{width:"auto",height:"auto",borderRadius:13,justifyContent:"center",alignItems:"center",position:"fixed",bottom:20,right:20,zIndex:"1600",textAlign:"center"}};return Object(po.jsx)(po.Fragment,{children:!0===n?Object(po.jsx)(po.Fragment,{children:Object(po.jsxs)("div",{id:"ContenedorFeedBack",children:[Object(po.jsx)(bo.Button,{id:"link5",style:Object(zt.checkScreenSize)()?O.buttonStyle:O.buttonStyleMobile,text:"Enviar Comentarios",type:"success",stylingMode:"contained",onClick:function(){c(!i)}}),Object(po.jsx)(bo.Popover,{target:"#link5",position:"left",width:"auto",height:"auto",visible:i,onHiding:h,dragEnabled:!0,closeOnOutsideClick:!0,showTitle:!0,title:" ",children:Object(po.jsx)(bo.ScrollView,{id:"scrollviewFeedBack",bounceEnabled:!0,showScrollbar:"onScroll",children:Object(po.jsxs)("form",{children:[Object(po.jsx)("div",{className:"item",children:Object(po.jsx)(bo.TextArea,{defaultValue:u,value:u,showClearButton:!0,placeholder:"Escriba aqu\xed...",valueChangeEvent:"keyup",id:"Incidencia",className:"Incidencia",name:"Incidencia",onValueChanged:function(e){d(e.value)},autoResizeEnabled:!0,minHeight:200,maxHeight:600,style:{maxWidth:300,minWidth:200}})}),Object(po.jsx)("div",{className:"item",children:Object(po.jsx)(ip.a,{control:Object(po.jsx)(cp.a,{onChange:function(e){m(!j)},color:"primary",checked:j,value:"remember"}),label:"Enviar captura"})}),Object(po.jsx)("div",{className:"item",children:Object(po.jsx)(bo.Button,{text:"Enviar",type:"default",stylingMode:"contained",onClick:function(){h();var e=document.getElementsByTagName("body")[0];setTimeout((function(){op()(e,{scrollY:-window.scrollY}).then((function(e){var n=e.toDataURL("image/jpeg").split(";base64,")[1];lp(u,j?n:"",t)}))}),5e3),d("")},style:{backgroundColor:"#64B5F6"}})})]})})})]})}):null})};var up=function(){var e=Object(c.c)((function(e){return e.user}));return Object(po.jsxs)(po.Fragment,{children:[Object(po.jsxs)(_e.d,{children:[Object(po.jsx)(_e.b,{exact:!0,path:"/",component:Yb,hideNavBar:!0}),Object(po.jsx)(_e.b,{exact:!0,path:"/expedientePage",component:Rb}),Object(po.jsx)(_e.b,{exact:!0,path:"/login",component:Yb,hideNavBar:!0}),Object(po.jsx)(_e.b,{exact:!0,path:"/loader",component:np}),Object(po.jsx)(_e.b,{exact:!0,path:"/ResetPassword",component:Qb}),Object(po.jsx)(_e.b,{exact:!0,path:"/AccesoSoloCalculadoraPage",component:ep}),Object(po.jsx)(_e.b,{exact:!0,path:"/Administracion",component:ap})]}),Object(po.jsx)(sp,{user:null===e||void 0===e?void 0:e.user,isLoggedIn:null===e||void 0===e?void 0:e.isLoggedIn}),np()]})},dp=n(104),bp=n.n(dp),pp=n(1281),jp=n(1282),mp=n(581),hp=(n(758),n(468)),Op=n.n(hp),fp=n(266),vp=n.n(fp),gp=n(580);n(2227);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var xp=n(755),yp=n.n(xp),Cp=n(181),wp=n.n(Cp),Ip=n(574),Sp=n.n(Ip),Ep=n(756),Np=n.n(Ep),Pp=(n(2228),n.p+"static/media/user.58de24df.png");new vp.a({store:{data:[{ID:"generic.light",Name:"light"},{ID:"generic.dark",Name:"dark"},{ID:"generic.carmine",Name:"carmine"},{ID:"generic.softblue",Name:"softblue"},{ID:"generic.darkmoon",Name:"darkmoon"},{ID:"generic.darkviolet",Name:"darkviolet"},{ID:"generic.greenmist",Name:"greenmist"},{ID:"generic.contrast",Name:"contrast"},{ID:"generic.light.compact",Name:"light compact"},{ID:"generic.dark.compact",Name:"dark compact"},{ID:"generic.carmine.compact",Name:"carmine compact"},{ID:"generic.softblue.compact",Name:"softblue compact"},{ID:"generic.darkmoon.compact",Name:"darkmoon compact"},{ID:"generic.darkviolet.compact",Name:"darkviolet compact"},{ID:"generic.greenmist.compact",Name:"greenmist compact"},{ID:"generic.contrast.compact",Name:"contrast compact"},{ID:"material.blue.light",Name:"material blue light"},{ID:"material.blue.dark",Name:"material blue dark"},{ID:"material.lime.light",Name:"material lime light"},{ID:"material.lime.dark",Name:"material lime dark"},{ID:"material.orange.light",Name:"material orange light"},{ID:"material.orange.dark",Name:"material orange dark"},{ID:"material.purple.light",Name:"material purple light"},{ID:"material.purple.dark",Name:"material purple dark"},{ID:"material.teal.light",Name:"material teal light"},{ID:"material.teal.dark",Name:"material teal dark"},{ID:"material.blue.light.compact",Name:"material blue light compact"},{ID:"material.blue.dark.compact",Name:"material blue dark compact"},{ID:"material.lime.light.compact",Name:"material lime light compact"},{ID:"material.lime.dark.compact",Name:"material lime dark compact"},{ID:"material.orange.light.compact",Name:"material orange light compact"},{ID:"material.orange.dark.compact",Name:"material orange dark compact"},{ID:"material.purple.light.compact",Name:"material purple light compact"},{ID:"material.purple.light.compact",Name:"material purple light compact"},{ID:"material.purple.dark.compact",Name:"material purple dark compact"},{ID:"material.teal.light.compact",Name:"material teal light compact"},{ID:"material.teal.dark.compact",Name:"material teal dark compact"}],type:"array",key:"ID"}});function Tp(){var e=new Date;return("0"+e.getDate()).slice(-2)+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+e.getFullYear()+" "+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)}var kp=function(e){var t,n,r=e.menuMode,o=(Object(_e.g)(),Object(c.c)((function(e){return e.user}))),i=Object(a.useState)(!1),l=Object(Ge.a)(i,2),s=l[0],u=l[1];var d=function(){u(!0)},b=Object(a.useMemo)((function(){return[{text:"Ayuda",icon:"help",onClick:d},{text:Tp(),icon:"clock",style:{fontWeight:"bold"}},{text:"Cerrar Sesi\xf3n",icon:"runner",onClick:function(){localStorage.removeItem("user"),localStorage.removeItem("storage"),localStorage.removeItem("parentCompanyModulos"),localStorage.removeItem("parentEnlaces"),localStorage.removeItem("recordarUsuario"),localStorage.removeItem("APP_VERSION"),localStorage.removeItem("gridExpedientesComponent"),localStorage.removeItem("companyGridComponent"),localStorage.removeItem("componenteGridComponent"),window.location.reload()}}]}),[]);return Object(po.jsxs)(po.Fragment,{children:[Object(po.jsxs)("div",{className:"user-panel",children:[Object(po.jsxs)("div",{className:"user-info",children:[Object(po.jsx)("div",{className:"user-name",children:Object(po.jsx)("b",{children:null===o||void 0===o||null===(t=o.user)||void 0===t?void 0:t.UserName})}),Object(po.jsx)("div",{className:"image-container",children:Object(po.jsx)("div",{style:{background:"url(".concat(Pp,") no-repeat #fff"),backgroundSize:"cover"},className:"user-image"})})]}),Object(po.jsx)("div",{style:{marginRight:"6em",marginTop:"0.16em"},children:null===o||void 0===o||null===(n=o.user)||void 0===n?void 0:n.role}),"context"===r&&Object(po.jsx)(Sp.a,{items:b,target:".user-button",showEvent:"dxclick",width:210,cssClass:"user-menu",children:Object(po.jsx)(Ip.Position,{my:"top center",at:"bottom center"})}),"list"===r&&Object(po.jsx)(Np.a,{className:"dx-toolbar-menu-action",items:b})]}),Object(po.jsx)(bo.Popup,{visible:s,onHiding:function(){u(!1)},dragEnabled:!0,closeOnOutsideClick:!1,showTitle:!0,title:"Ayuda",resizeEnabled:!0,showCloseButton:!0,width:"98%",height:"98%",children:Object(po.jsx)(gp.a,{url:"https://wiki.ruano.com/index.php?title=Portal:_%C3%8Dndice",width:"100%",height:"100%",id:"myId",className:"myClassname",display:"block",position:"relative"})})]})},Rp=(n(2229),n(407)),Lp=function(e){var t=e.menuToggleEnabled,n=e.title,a=e.toggleMenu,r=(e.userState,e.menuStatus,e.company),o=Lr(),i=o.isLarge,c=o.isXSmall;return Object(po.jsx)("header",{className:"header-component",children:Object(po.jsxs)(wp.a,{className:"header-toolbar",children:[Object(po.jsx)(Cp.Item,{visible:t,location:"before",widget:"dxButton",cssClass:"menu-button",children:Object(po.jsx)(Il.a,{icon:"menu",stylingMode:"text",onClick:a})}),Object(po.jsx)(Cp.Item,{location:"before",cssClass:"header-title",text:n,visible:!!n}),Object(po.jsx)(Cp.Item,{location:"before",cssClass:"header-title",children:void 0!=(null===r||void 0===r?void 0:r.PrincipalLogo)?Object(po.jsx)("img",{src:"data:image/jpeg;base64,".concat(null===r||void 0===r?void 0:r.PrincipalLogo),style:c?{height:"auto",maxWidth:"100px",maxHeight:"50px",marginTop:"-5%"}:{width:"auto",height:"auto",maxWidth:"146px",maxHeight:"50px",marginTop:"-5%"},alt:""}):null}),Object(po.jsx)(Cp.Item,{location:"before",cssClass:"header-title",children:void 0!=(null===r||void 0===r?void 0:r.SecondaryLogo)?Object(po.jsx)("img",{src:"data:image/jpeg;base64,".concat(null===r||void 0===r?void 0:r.SecondaryLogo),style:c?{height:"auto",maxWidth:"100px",maxHeight:"50px",marginTop:"-5%"}:{width:"auto",height:"auto",maxWidth:"146px",maxHeight:"50px",marginTop:"-5%"},alt:""}):null}),Object(po.jsx)(Cp.Item,{location:"after",visible:!!i,children:Object(po.jsx)("div",{style:{fontWeight:"bold"},children:null===r||void 0===r?void 0:r.Slogan})}),Object(po.jsx)(Cp.Item,{location:"after",children:Object(po.jsx)("div",{})}),Object(po.jsx)(Cp.Item,{location:"after",locateInMenu:"auto",menuItemTemplate:"userPanelTemplate",cssClass:"userItem",children:Object(po.jsx)(Il.a,{className:"user-button authorization",width:210,height:"100%",stylingMode:"text",children:Object(po.jsx)(kp,{menuMode:"context"})})}),Object(po.jsx)(Rp.Template,{name:"userPanelTemplate",children:Object(po.jsx)(kp,{menuMode:"list"})})]})})},Dp=(n(2230),function(e){var t=Object.assign({},e);return Object(po.jsx)("footer",Object(d.a)({className:"footer"},t))}),Mp=(n(2231),n(2232),Object(a.createContext)({})),Ap=function(){return Object(a.useContext)(Mp)};function Fp(e){var t=Object(a.useState)({}),n=Object(Ge.a)(t,2),r=n[0],o=n[1];return Object(po.jsx)(Mp.Provider,Object(d.a)({value:{navigationData:r,setNavigationData:o}},e))}n(2233);var Jp=n(467),zp=new vp.a({store:{data:[{ID:"generic.light",Name:"light"},{ID:"generic.dark",Name:"dark"},{ID:"generic.carmine",Name:"carmine"},{ID:"generic.softblue",Name:"softblue"},{ID:"generic.darkmoon",Name:"darkmoon"},{ID:"generic.darkviolet",Name:"darkviolet"},{ID:"generic.greenmist",Name:"greenmist"},{ID:"generic.contrast",Name:"contrast"},{ID:"generic.light.compact",Name:"light compact"},{ID:"generic.dark.compact",Name:"dark compact"},{ID:"generic.carmine.compact",Name:"carmine compact"},{ID:"generic.softblue.compact",Name:"softblue compact"},{ID:"generic.darkmoon.compact",Name:"darkmoon compact"},{ID:"generic.darkviolet.compact",Name:"darkviolet compact"},{ID:"generic.greenmist.compact",Name:"greenmist compact"},{ID:"generic.contrast.compact",Name:"contrast compact"},{ID:"material.blue.light",Name:"material blue light"},{ID:"material.blue.dark",Name:"material blue dark"},{ID:"material.lime.light",Name:"material lime light"},{ID:"material.lime.dark",Name:"material lime dark"},{ID:"material.orange.light",Name:"material orange light"},{ID:"material.orange.dark",Name:"material orange dark"},{ID:"material.purple.light",Name:"material purple light"},{ID:"material.purple.dark",Name:"material purple dark"},{ID:"material.teal.light",Name:"material teal light"},{ID:"material.teal.dark",Name:"material teal dark"},{ID:"material.blue.light.compact",Name:"material blue light compact"},{ID:"material.blue.dark.compact",Name:"material blue dark compact"},{ID:"material.lime.light.compact",Name:"material lime light compact"},{ID:"material.lime.dark.compact",Name:"material lime dark compact"},{ID:"material.orange.light.compact",Name:"material orange light compact"},{ID:"material.orange.dark.compact",Name:"material orange dark compact"},{ID:"material.purple.light.compact",Name:"material purple light compact"},{ID:"material.purple.light.compact",Name:"material purple light compact"},{ID:"material.purple.dark.compact",Name:"material purple dark compact"},{ID:"material.teal.light.compact",Name:"material teal light compact"},{ID:"material.teal.dark.compact",Name:"material teal dark compact"}],type:"array",key:"ID"}});function Up(e){var t=e.children,n=e.openMenu,r=e.closeMenu,o=e.compactMode,i=e.menuStatus,l=Lr().isLarge,s=Object(a.useState)(!1),u=Object(Ge.a)(s,2),b=u[0],p=u[1],j=Object(a.useState)(!1),m=Object(Ge.a)(j,2),h=(m[0],m[1],Object(c.c)((function(e){return e.user}))),O=Object(a.useState)("flex"),f=Object(Ge.a)(O,2),v=(f[0],f[1],Object(c.c)((function(e){return e.user}))),g=(Object(c.b)(),Object(_e.g)()),x=function(){p(!1)},y={icon:"close",onClick:function(){x()}},C=[{text:"Aplicaciones"},{text:"Home",path:"/home",icon:"home"},{text:"Examples",icon:"folder",items:[{text:"Profile",path:"/profile"},{text:"Tasks",path:"/tasks"}]}];Object(a.useMemo)((function(){return C.map((function(e){return e.path&&!/^\//.test(e.path)&&(e.path="/".concat(e.path)),Object(d.a)(Object(d.a)({},e),{},{expanded:l})}))}),[]);var w=Ap().navigationData.currentPath,I=Object(a.useRef)(),S=Object(a.useRef)(),E=Object(a.useCallback)((function(e){var t=S.current;t&&Jp.off(t,"dxclick"),S.current=e,Jp.on(e,"dxclick",(function(e){r(e)}))}),[n]);return Object(a.useEffect)((function(){var e=I.current&&I.current.instance;e&&(void 0!==w&&(e.selectItem(w),e.expandItem(w)),o&&e.collapseAll())}),[,o]),Object(po.jsxs)("div",{className:"dx-swatch-additional side-navigation-menu dx-theme-background-color ",ref:E,id:"panelList",children:[t,Object(po.jsx)(Nl.a,{children:Object(po.jsxs)("div",{className:"menu-container",style:i?{marginLeft:"-1em"}:{marginLeft:"-3em"},children:[Object(po.jsxs)("div",{className:"panel-list ",style:{marginLeft:"3em"},children:[Object(po.jsx)("div",{className:"",children:Object(po.jsx)(Il.a,{text:i?"Inicio":"",hint:"Inicio",icon:"home",type:"normal",stylingMode:"text",style:{fontWeight:"bold"},onClick:function(e){g.push("/expedientePage"),r(e)}})}),Object(po.jsxs)("div",{className:"rect demo-dark",children:[o?null:Object(po.jsx)("h5",{style:{fontWeight:"bold",marginBottom:"0"},children:"APLICACIONES"}),Object(po.jsx)("div",{children:uo(h.user,ro.EXPEDIENTES)?io(h.user)?null:Object(po.jsx)(Il.a,{text:i?"Expedientes":"",hint:"Expedientes",icon:"verticalaligncenter",type:"normal",stylingMode:"text",style:{fontWeight:"bold"},onClick:function(e){g.push("/ExpedientePage"),r(e)}}):null}),uo(h.user,ro.CALCULADORA)?Object(po.jsx)(Il.a,{text:i?"Calculadora":"",hint:"Calculadora",icon:"percent",type:"normal",stylingMode:"text",style:{fontWeight:"bold",margin:"0"},onClick:function(e){var t;window.open("https://svportal.elgestor.com/CalculadoraIntro.aspx?Id="+(null===v||void 0===v||null===(t=v.user)||void 0===t?void 0:t.CodigoCalculadora),"_blank"),r(e)}}):null]}),uo(h.user,ro.ADMINISTRACION)?Object(po.jsxs)("div",{className:"rect demo-dark",children:[o?null:Object(po.jsx)("h5",{style:{fontWeight:"bold",marginBottom:"0"},children:"ADMINISTRACI\xd3N"}),Object(po.jsx)("div",{children:Object(po.jsx)(Il.a,{text:i?"Gestor\xedas":"",hint:"Gestor\xedas",icon:"toolbox",type:"normal",stylingMode:"text",style:{fontWeight:"bold"},onClick:function(e){g.push("/Companies"),r(e)}})}),Object(po.jsx)("div",{children:Object(po.jsx)(Il.a,{text:i?"Usuarios":"",hint:"Usuarios",icon:"group",type:"normal",stylingMode:"text",style:{fontWeight:"bold"},onClick:function(e){g.push("/usuarios"),r(e)}})})]}):null,Object(po.jsxs)("div",{className:"rect demo-dark",children:[o?null:Object(po.jsx)("h5",{style:{fontWeight:"bold",marginBottom:"0"},children:"CONFIGURACI\xd3N"}),Object(po.jsx)("div",{children:co(h.user)||io(h.user)?Object(po.jsx)(Il.a,{text:i?"Plantillas":"",hint:"Plantillas",icon:"cellproperties",type:"normal",stylingMode:"text",style:{fontWeight:"bold"},onClick:function(){return g.push("/Plantillas")}}):null}),Object(po.jsx)("div",{children:co(h.user)||io(h.user)?Object(po.jsx)(Il.a,{text:i?"Perfiles":"",hint:"Perfiles",icon:"smalliconslayout",type:"normal",stylingMode:"text",style:{fontWeight:"bold"},onClick:function(){return g.push("/perfiles")}}):null}),Object(po.jsx)("div",{children:Object(po.jsx)(Il.a,{text:i?"Tema":"",hint:"Tema",icon:"palette",type:"normal",stylingMode:"text",style:{fontWeight:"bold"},onClick:function(e){p(!0),r(e)}})})]}),Object(po.jsx)("div",{className:"rect demo-dark"})]}),Object(po.jsxs)(Sl.Popup,{visible:b,onHiding:x,dragEnabled:!0,closeOnOutsideClick:!1,showTitle:!0,title:"Selecci\xf3n de Tema",resizeEnabled:!0,showCloseButton:!1,width:"70vw",height:"20vh",children:[Object(po.jsx)(Sl.ToolbarItem,{options:y,widget:"dxButton",location:"after"}),Object(po.jsx)("div",{children:Object(po.jsx)(Op.a,{dataSource:zp,valueExpr:"ID",displayExpr:"Name",searchEnabled:!0,placeholder:localStorage.getItem("dx-theme")?localStorage.getItem("dx-theme").replace(/\./g," "):"Elige un tema",onValueChanged:function(e){var t=e.value;window.localStorage.setItem("dx-theme",t),window.location.reload()}})})]})]})})]})}function Vp(e){e.title;var t=e.children,n=Object(a.useRef)(),o=Object(_e.g)(),i=Lr(),l=i.isXSmall,s=i.isLarge,u=function(){var e=Lr(),t=e.isSmall,n=e.isMedium,r=Object(a.useState)(t||n),o=Object(Ge.a)(r,2),i=o[0],c=o[1],l=Object(a.useCallback)((function(){i&&setTimeout((function(){return c(!1)}))}),[i]);return[i?"pre-init-blink-fix":"",l]}(),d=Object(Ge.a)(u,2),b=d[0],p=(d[1],Object(a.useState)(_p.Closed)),j=Object(Ge.a)(p,2),m=j[0],h=j[1],O=Object(a.useState)(""),f=Object(Ge.a)(O,2),v=(f[0],f[1],Object(c.c)((function(e){return e.user}))),g=Object(c.c)((function(e){var t;return null===(t=e.company)||void 0===t?void 0:t.parentCompany})),x=Object(a.useCallback)((function(e){var t=e.event;h((function(e){return e===_p.Closed?_p.Opened:_p.Closed})),t.stopPropagation()}),[]),y=Object(a.useCallback)((function(){h((function(e){return e===_p.Closed?_p.TemporaryOpened:e}))}),[]),C=Object(a.useCallback)((function(){h(_p.Closed)}),[]),w=Object(a.useCallback)((function(){return h((function(e){return e===_p.Closed||s?e:_p.Closed})),s}),[s]),I=Object(a.useCallback)((function(e){var t=e.itemData.path,a=e.event,r=e.node;m!==_p.Closed&&t&&!r.selected?(o.push(t),n.current.instance.scrollTo(0),s&&m!==_p.TemporaryOpened||(h(_p.Closed),a.stopPropagation())):a.preventDefault()}),[o,m,s]);_p.Closed;return Object(po.jsx)("div",{className:"side-nav-inner-toolbar",children:Object(po.jsxs)(yp.a,{className:["drawer",b].join(" "),id:"drawerApp",position:"before",closeOnOutsideClick:w,openedStateMode:s?"shrink":"push",activeStateEnabled:!0,hoverStateEnabled:!0,focusStateEnabled:!0,revealMode:l?"slide":"expand",minSize:l?0:36,maxSize:250,shading:!s,opened:m!==_p.Closed,template:"menu",children:[Object(po.jsx)(Lp,{menuToggleEnabled:l,toggleMenu:x,title:"",userState:v,menuStatus:m!==_p.Closed,company:g}),Object(po.jsx)("div",{className:"content",children:r.a.Children.map(t,(function(e){return e.type!==Dp&&e}))}),Object(po.jsx)("div",{className:"content-block",children:r.a.Children.map(t,(function(e){return e.type===Dp&&e}))}),Object(po.jsx)(Rp.Template,{name:"menu",children:Object(po.jsx)(Up,{compactMode:m===_p.Closed,selectedItemChanged:I,openMenu:y,closeMenu:C,menuStatus:m!==_p.Closed,setMenuStatus:h,menuStatusHandler:_p,children:Object(po.jsxs)(wp.a,{id:"navigation-header",children:[!l&&Object(po.jsx)(Cp.Item,{location:"before",cssClass:"menu-button",children:Object(po.jsx)(Il.a,{icon:"menu",stylingMode:"text",onClick:x})}),Object(po.jsx)(Cp.Item,{location:"before",cssClass:"header-title"})]})})})]})})}var _p={Closed:1,Opened:2,TemporaryOpened:3},Gp="Proyecto Base",Bp=(n(2234),{store:{type:"odata",key:"Task_ID",url:"https://js.devexpress.com/Demos/DevAV/odata/Tasks"},expand:"ResponsibleEmployee",select:["Task_ID","Task_Subject","Task_Start_Date","Task_Due_Date","Task_Status","Task_Priority","Task_Completion","ResponsibleEmployee/Employee_Full_Name"]}),Wp=[{name:"High",value:4},{name:"Urgent",value:3},{name:"Normal",value:2},{name:"Low",value:1}],qp=(n(2237),{xs:1,sm:2,md:3,lg:4}),Hp=(n(1084),n(150)),Zp=n(137);var Kp,Xp,Yp,Qp,$p,ej,tj,nj,aj,rj,oj,ij,cj,lj,sj,uj,dj,bj,pj,jj,mj,hj,Oj,fj,vj,gj,xj,yj,Cj,wj,Ij,Sj,Ej,Nj,Pj,Tj,kj,Rj,Lj,Dj,Mj=function(){var e=Object(c.c)((function(e){return e.user})),t=(Object(c.c)((function(e){var t;return null===(t=e.administracionLegal)||void 0===t?void 0:t.legal})),Lr()),n=(t.isXSmall,t.isLarge),r=Object(a.useState)(!1),o=Object(Ge.a)(r,2),i=o[0],l=o[1],s=Object(a.useRef)({}),u=(Object(c.b)(),Object(a.useState)(!1)),d=Object(Ge.a)(u,2),b=d[0],p=d[1],j=Object(a.useState)(!1),m=Object(Ge.a)(j,2),h=m[0],O=m[1],f=Object(a.useState)(""),v=Object(Ge.a)(f,2),g=v[0],x=v[1],y=Object(a.useState)(""),C=Object(Ge.a)(y,2),w=C[0],I=C[1],S=Object(a.useState)(!0),E=Object(Ge.a)(S,2),N=E[0],P=E[1],T=Object(a.useState)(!0),k=Object(Ge.a)(T,2),R=k[0],L=k[1],D=Object(a.useState)(!1),M=Object(Ge.a)(D,2),A=M[0],F=M[1],J=Object(a.useState)(!1),z=Object(Ge.a)(J,2),U=z[0],V=z[1],_=Object(a.useState)(0),G=Object(Ge.a)(_,2),B=G[0],W=G[1],q=Object(a.useState)(0),H=Object(Ge.a)(q,2),Z=H[0],K=H[1],X=Object(Zp.a)(),Y=(X.register,X.handleSubmit);Object(a.useEffect)((function(){function e(){return(e=Object(Nt.a)(Et.a.mark((function e(){return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var Q=function(){var t=Object(Nt.a)(Et.a.mark((function t(n){var a,r;return Et.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=s.current,a.allowChangePassword,a.contactInformation,a.enabled,a.name,a.notificationsEmail,a.principalLogo,a.secondaryLogo,a.slogan,l(!0),Object(Hp.confirm)("<i>\xbfEst\xe1 seguro de que quiere guardar la informaci\xf3n?</i>","Confirma los cambios").then((function(e){e?r():l(!1)})),r=function(){var t=Object(Nt.a)(Et.a.mark((function t(){return Et.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,xr(e.user,new Ga);case 2:t.sent,l(!1);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(po.jsx)(po.Fragment,{children:Object(po.jsx)("div",{className:"content-block dx-card responsive-paddings",style:{borderColor:"#f4f9ff",borderWidth:"2px",margin:"0.6%"},children:Object(po.jsx)("div",{className:"content-block  ",children:Object(po.jsx)("form",{className:"legalForm",onSubmit:Y(Q),encType:"multipart/form-data",style:{width:"100%"},children:Object(po.jsxs)(bo.Form,{formData:s.current,disabled:i,labelLocation:n?"left":"top",children:[Object(po.jsx)(rs.GroupItem,{caption:"Creaci\xf3n de Compa\xf1\xeda",cssClass:"titleCenter"}),Object(po.jsxs)(rs.GroupItem,{colCount:"2",children:[Object(po.jsxs)(rs.Item,{dataField:"name",editorType:"dxTextBox",editorOptions:{stylingMode:"filled",placeholder:"Nombre de compa\xf1\xeda",mode:"text"},children:[Object(po.jsx)(rs.RequiredRule,{message:"El campo es requerido"}),Object(po.jsx)(rs.Label,{visible:!0,text:"Nombre"})]}),Object(po.jsxs)(rs.Item,{dataField:"slogan",editorType:"dxTextBox",editorOptions:{stylingMode:"filled",placeholder:"Eslogan de la compa\xf1\xeda",mode:"text"},children:[Object(po.jsx)(rs.RequiredRule,{message:"El campo es requerido"}),Object(po.jsx)(rs.Label,{visible:!0,text:"Eslogan"})]}),Object(po.jsxs)(rs.Item,{dataField:"contactInformation",editorType:"dxTextBox",editorOptions:{stylingMode:"filled",placeholder:"Informaci\xf3n de contacto",mode:"text"},children:[Object(po.jsx)(rs.RequiredRule,{message:"El campo es requerido"}),Object(po.jsx)(rs.Label,{visible:!0,text:"Informaci\xf3n del contacto"})]}),Object(po.jsxs)(rs.Item,{dataField:"notificationsEmail",editorType:"dxTextBox",editorOptions:{stylingMode:"filled",placeholder:"Email para notificaciones",mode:"text"},children:[Object(po.jsx)(rs.RequiredRule,{message:"El campo es requerido"}),Object(po.jsx)(rs.Label,{visible:!0,text:"Email para notificaciones"})]}),Object(po.jsx)(rs.Item,{dataField:"allowChangePassword",editorType:"dxCheckBox",editorOptions:{stylingMode:"filled",mode:"text"},children:Object(po.jsx)(rs.Label,{visible:!0,text:"Permitir cambiar contrase\xf1a"})}),Object(po.jsx)(rs.Item,{dataField:"enabled",editorType:"dxCheckBox",editorOptions:{stylingMode:"filled",mode:"text"},children:Object(po.jsx)(rs.Label,{visible:!0,text:"Compa\xf1\xeda activa"})})]}),Object(po.jsxs)(rs.GroupItem,{colCount:"2",children:[Object(po.jsxs)(rs.Item,{dataField:"principalLogo",children:[Object(po.jsxs)("div",{className:"widget-container flex-box",children:[Object(po.jsx)("span",{children:"Logo principal"}),Object(po.jsxs)("div",{id:"dropzone-external",className:"flex-box ".concat(b?"dx-theme-accent-as-border-color dropzone-active":"dx-theme-border-color"),children:[g&&Object(po.jsx)("img",{id:"dropzone-image",src:g,alt:""}),N&&Object(po.jsxs)("div",{id:"dropzone-text",className:"flex-box",children:[Object(po.jsx)("span",{children:"Arrastra aqu\xed el archivo"}),Object(po.jsx)("span",{children:"\u2026o haz clic para subirlo."})]}),Object(po.jsx)(bo.ProgressBar,{id:"upload-progress",min:0,max:100,width:"30%",showStatus:!1,visible:A,value:B})]}),Object(po.jsx)(bo.FileUploader,{id:"file-uploader",dialogTrigger:"#dropzone-external",dropZone:"#dropzone-external",multiple:!1,allowedFileExtensions:[".jpg",".jpeg",".gif",".png"],uploadMode:"instantly",uploadUrl:"https://js.devexpress.com/Demos/NetCore/FileUploader/Upload",visible:!1,onDropZoneEnter:function(e){"dropzone-external"===e.dropZoneElement.id&&p(!0)},onDropZoneLeave:function(e){"dropzone-external"===e.dropZoneElement.id&&p(!1)},onUploaded:function(e){var t=e.file,n=new FileReader;n.onload=function(){p(!1),x(n.result)},n.readAsDataURL(t),P(!1),F(!1),W(0)},onProgress:function(e){W(e.bytesLoaded/e.bytesTotal*100)},onUploadStarted:function(){x(""),F(!0)},onValueChange:function(e){e}})]}),Object(po.jsx)(rs.Label,{visible:!1,text:"Logo principal"})]}),Object(po.jsxs)(rs.Item,{dataField:"secondaryLogo",children:[Object(po.jsxs)("div",{className:"widget-container flex-box",children:[Object(po.jsx)("span",{children:"Logo Secundario"}),Object(po.jsxs)("div",{id:"dropzone-external2",className:"flex-box ".concat(h?"dx-theme-accent-as-border-color dropzone-active":"dx-theme-border-color"),children:[w&&Object(po.jsx)("img",{id:"dropzone-image2",src:w,alt:""}),R&&Object(po.jsxs)("div",{id:"dropzone-text2",className:"flex-box",children:[Object(po.jsx)("span",{children:"Arrastra aqu\xed el archivo"}),Object(po.jsx)("span",{children:"\u2026o haz clic para subirlo."})]}),Object(po.jsx)(bo.ProgressBar,{id:"upload-progress2",min:0,max:100,width:"30%",showStatus:!1,visible:U,value:Z})]}),Object(po.jsx)(bo.FileUploader,{id:"file-uploader2",dialogTrigger:"#dropzone-external2",dropZone:"#dropzone-external2",multiple:!1,allowedFileExtensions:[".jpg",".jpeg",".gif",".png"],uploadMode:"instantly",uploadUrl:"https://js.devexpress.com/Demos/NetCore/FileUploader/Upload",visible:!1,onDropZoneEnter:function(e){"dropzone-external2"===e.dropZoneElement.id&&O(!0)},onDropZoneLeave:function(e){"dropzone-external2"===e.dropZoneElement.id&&O(!1)},onUploaded:function(e){var t=e.file,n=new FileReader;n.onload=function(){O(!1),I(n.result)},n.readAsDataURL(t),L(!1),V(!1),K(0)},onProgress:function(e){K(e.bytesLoaded/e.bytesTotal*100)},onUploadStarted:function(){I(""),V(!0)},onValueChange:function(e){e}})]}),Object(po.jsx)(rs.Label,{visible:!1,text:"Logo Secundario"})]})]}),Object(po.jsx)(rs.SimpleItem,{render:function(){return Object(po.jsxs)(po.Fragment,{children:[Object(po.jsx)(bo.Button,{icon:"remove",text:"Cancelar",type:"normal",stylingMode:"outlined",style:{float:"right",margin:"1em"}}),Object(po.jsx)(bo.Button,{icon:"save",text:"Guardar",type:"default",useSubmitBehavior:!0,stylingMode:"contained",style:{float:"right",margin:"1em"}})]})},cssClass:"alignBottom"})]})})})})})},Aj=(n(2238),n(346)),Fj=(n(2239),Kp=Object(We.JsonObject)("ModuloComponenteModel"),Xp=Object(We.JsonProperty)("Id",Number,0),Yp=Object(We.JsonProperty)("IdPlantilla",Number,0),Qp=Object(We.JsonProperty)("IdTipoComponente",Number,0),$p=Object(We.JsonProperty)("Nombre",String),Kp((tj=function e(){Object(Ct.a)(this,e),Object(yt.a)(this,"Id",nj,this),Object(yt.a)(this,"IdPlantilla",aj,this),Object(yt.a)(this,"IdTipoComponente",rj,this),Object(yt.a)(this,"Nombre",oj,this)},nj=Object(wt.a)(tj.prototype,"Id",[Xp],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),aj=Object(wt.a)(tj.prototype,"IdPlantilla",[Yp],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),rj=Object(wt.a)(tj.prototype,"IdTipoComponente",[Qp],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),oj=Object(wt.a)(tj.prototype,"Nombre",[$p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ej=tj))||ej),Jj=(ij=Object(We.JsonObject)("ModuloComponenteCampoDatoModel"),cj=Object(We.JsonProperty)("Campos",[qe.ColumnModel]||!1),lj=Object(We.JsonProperty)("Datos",[Fj]||!1),ij((uj=function e(){Object(Ct.a)(this,e),Object(yt.a)(this,"Campos",dj,this),Object(yt.a)(this,"Datos",bj,this)},dj=Object(wt.a)(uj.prototype,"Campos",[cj],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),bj=Object(wt.a)(uj.prototype,"Datos",[lj],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),sj=uj)),pj=Object(We.JsonObject)("ComponenteModel"),jj=Object(We.JsonProperty)("Id",Number),mj=Object(We.JsonProperty)("IdPlantilla",Number),hj=Object(We.JsonProperty)("IdTipoComponente",Number),Oj=Object(We.JsonProperty)("TipoComponente",String||null),fj=Object(We.JsonProperty)("Plantilla",String||null),vj=Object(We.JsonProperty)("ComponentesAsociados",String||null),pj((xj=function e(){Object(Ct.a)(this,e),Object(yt.a)(this,"Id",yj,this),Object(yt.a)(this,"IdPlantilla",Cj,this),Object(yt.a)(this,"IdTipoComponente",wj,this),Object(yt.a)(this,"TipoComponente",Ij,this),Object(yt.a)(this,"Plantilla",Sj,this),Object(yt.a)(this,"ComponentesAsociados",Ej,this)},yj=Object(wt.a)(xj.prototype,"Id",[jj],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Cj=Object(wt.a)(xj.prototype,"IdPlantilla",[mj],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),wj=Object(wt.a)(xj.prototype,"IdTipoComponente",[hj],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ij=Object(wt.a)(xj.prototype,"TipoComponente",[Oj],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Sj=Object(wt.a)(xj.prototype,"Plantilla",[fj],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ej=Object(wt.a)(xj.prototype,"ComponentesAsociados",[vj],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),gj=xj))||gj),zj=(Nj=Object(We.JsonObject)("ComponentesModel"),Pj=Object(We.JsonProperty)("Campos",[qe.ColumnModel]||!1),Tj=Object(We.JsonProperty)("Datos",[Jj]||!1),Nj((Rj=function e(){Object(Ct.a)(this,e),Object(yt.a)(this,"Campos",Lj,this),Object(yt.a)(this,"Datos",Dj,this)},Lj=Object(wt.a)(Rj.prototype,"Campos",[Pj],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Dj=Object(wt.a)(Rj.prototype,"Datos",[Tj],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),kj=Rj))||kj);function Uj(e){return Vj.apply(this,arguments)}function Vj(){return(Vj=Object(Nt.a)(Et.a.mark((function e(t){var n,a,r;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,a="".concat("http://localhost:9606","/Componente/Structure"),r=new zj,e.next=6,Ft()({url:a,method:zt.methodsEndPointType.GET}).then((function(e){Object(zt.checkStatusCode)(e.status),r=n.deserializeObject(e.data,zj)})).catch((function(e){return{}}));case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _j,Gj,Bj,Wj,qj,Hj,Zj,Kj,Xj,Yj,Qj,$j,em,tm,nm,am,rm,om,im,cm,lm,sm,um,dm,bm,pm,jm,mm,hm,Om,fm,vm,gm,xm,ym,Cm,wm,Im,Sm,Em,Nm,Pm,Tm,km,Rm,Lm,Dm,Mm,Am,Fm,Jm,zm,Um,Vm=n(245),_m=function(e){return{type:Y,payload:e}},Gm=(_j=Object(We.JsonObject)("ModuloModel"),Gj=Object(We.JsonProperty)("Id",Number,0),Bj=Object(We.JsonProperty)("Nombre",String),Wj=Object(We.JsonProperty)("Descripcion",String),_j((Hj=function e(){Object(Ct.a)(this,e),Object(yt.a)(this,"Id",Zj,this),Object(yt.a)(this,"Nombre",Kj,this),Object(yt.a)(this,"Descripcion",Xj,this)},Zj=Object(wt.a)(Hj.prototype,"Id",[Gj],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Kj=Object(wt.a)(Hj.prototype,"Nombre",[Bj],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Xj=Object(wt.a)(Hj.prototype,"Descripcion",[Wj],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),qj=Hj))||qj),Bm=(Yj=Object(We.JsonObject)("ModuloCampoDatoModel"),Qj=Object(We.JsonProperty)("Campos",[qe.ColumnModel]||!1),$j=Object(We.JsonProperty)("Datos",[Gm]||!1),Yj((tm=function e(){Object(Ct.a)(this,e),Object(yt.a)(this,"Campos",nm,this),Object(yt.a)(this,"Datos",am,this)},nm=Object(wt.a)(tm.prototype,"Campos",[Qj],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),am=Object(wt.a)(tm.prototype,"Datos",[$j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),em=tm))||em),Wm=function(){var e=Object(Nt.a)(Et.a.mark((function e(t){var n,a,r,o;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(n=new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,a="".concat("http://localhost:9606","/Modulo"),r=new Bm,o={Authorization:t.Token,"My-Custom-Header":"foobar"},e.next=8,Ft()({url:a,method:"GET",headers:o}).then((function(e){r=n.deserializeObject(e.data,Bm),e.data})).catch((function(e){Wr("No se han podido obtener las compa\xf1ias.",Gr.error,5e3)}));case 8:return e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),qm=n(83),Hm=(rm=Object(We.JsonObject)("PlantillaCamposModel"),om=Object(We.JsonProperty)("Id",Number),im=Object(We.JsonProperty)("IdPlantilla",Number),cm=Object(We.JsonProperty)("IdCampo",Number),lm=Object(We.JsonProperty)("Nombre",String),sm=Object(We.JsonProperty)("Visible",Boolean),um=Object(We.JsonProperty)("Orden",Number),dm=Object(We.JsonProperty)("Ancho",Number),rm((pm=function e(){Object(Ct.a)(this,e),Object(yt.a)(this,"Id",jm,this),Object(yt.a)(this,"IdPlantilla",mm,this),Object(yt.a)(this,"IdCampo",hm,this),Object(yt.a)(this,"Nombre",Om,this),Object(yt.a)(this,"Visible",fm,this),Object(yt.a)(this,"Orden",vm,this),Object(yt.a)(this,"Ancho",gm,this)},jm=Object(wt.a)(pm.prototype,"Id",[om],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),mm=Object(wt.a)(pm.prototype,"IdPlantilla",[im],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),hm=Object(wt.a)(pm.prototype,"IdCampo",[cm],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Om=Object(wt.a)(pm.prototype,"Nombre",[lm],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),fm=Object(wt.a)(pm.prototype,"Visible",[sm],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),vm=Object(wt.a)(pm.prototype,"Orden",[um],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),gm=Object(wt.a)(pm.prototype,"Ancho",[dm],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),bm=pm))||bm),Zm=(xm=Object(We.JsonObject)("PlantillaModel"),ym=Object(We.JsonProperty)("Id",Number),Cm=Object(We.JsonProperty)("Nombre",String),wm=Object(We.JsonProperty)("EsGenerica",Boolean),Im=Object(We.JsonProperty)("IdPlantillaParent",Number),Sm=Object(We.JsonProperty)("IdPerfil",Number),xm((Nm=function e(){Object(Ct.a)(this,e),Object(yt.a)(this,"Id",Pm,this),Object(yt.a)(this,"Nombre",Tm,this),Object(yt.a)(this,"EsGenerica",km,this),Object(yt.a)(this,"IdPlantillaParent",Rm,this),Object(yt.a)(this,"IdPerfil",Lm,this)},Pm=Object(wt.a)(Nm.prototype,"Id",[ym],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Tm=Object(wt.a)(Nm.prototype,"Nombre",[Cm],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),km=Object(wt.a)(Nm.prototype,"EsGenerica",[wm],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Rm=Object(wt.a)(Nm.prototype,"IdPlantillaParent",[Im],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Lm=Object(wt.a)(Nm.prototype,"IdPerfil",[Sm],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Em=Nm))||Em),Km=(Dm=Object(We.JsonObject)("PlantillaCampoDatoModel"),Mm=Object(We.JsonProperty)("Campos",[qe.ColumnModel]||!1),Am=Object(We.JsonProperty)("Datos",[Zm]||!1),Dm((Jm=function e(){Object(Ct.a)(this,e),Object(yt.a)(this,"Campos",zm,this),Object(yt.a)(this,"Datos",Um,this)},zm=Object(wt.a)(Jm.prototype,"Campos",[Mm],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Um=Object(wt.a)(Jm.prototype,"Datos",[Am],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Fm=Jm))||Fm),Xm="UsuarioService",Ym=function(){var e=Object(Nt.a)(Et.a.mark((function e(t){var n,a,r;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(n=new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,a="".concat("http://localhost:9606","/plantillas"),r=new Km,e.next=7,Ft()({url:a,method:zt.methodsEndPointType.GET,headers:Object(Jt.authHeader)(t)}).then((function(e){r=n.deserializeObject(e.data,Km),e.data})).catch((function(e){Object(zt.customLog)(null,zt.logType.ERROR,Xm,Ym.name,zt.methodsEndPointType.GET),Wr("No se han podido obtener las plantillas.",Gr.error,5e3)}));case 7:return e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),Qm=function(){var e=Object(Nt.a)(Et.a.mark((function e(t,n){var a,r,o;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,r="".concat("http://localhost:9606","/PlantillaCampo/GetByPlantillaId/").concat(n),o=[],e.next=7,Ft()({url:r,method:zt.methodsEndPointType.GET,headers:Object(Jt.authHeader)(t)}).then((function(e){o=a.deserializeArray(e.data,Hm)})).catch((function(e){Object(zt.customLog)(null,zt.logType.ERROR,Xm,Ym.name,zt.methodsEndPointType.GET),Wr("No se han podido obtener PlantillaCampos.",Gr.error,5e3)}));case 7:return e.abrupt("return",o);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}();function $m(e,t){return eh.apply(this,arguments)}function eh(){return(eh=Object(Nt.a)(Et.a.mark((function e(t,n){var a,r,o;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,r="".concat("http://localhost:9606","/Plantilla/PlantillaWithChild/").concat(n),o=[],e.next=6,Ft()({url:r,method:zt.methodsEndPointType.GET,headers:Object(Jt.authHeader)(t)}).then((function(e){Object(zt.checkStatusCode)(e.status),o=a.deserializeArray(e.data.Datos,Zm)})).catch((function(e){Object(zt.customLog)(null,zt.logType.ERROR,Xm,$m.name,zt.methodsEndPointType.GET),Wr("No se han podido plantillas relacionadas",Gr.error,5e3)}));case 6:return e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function th(e,t,n){return nh.apply(this,arguments)}function nh(){return(nh=Object(Nt.a)(Et.a.mark((function e(t,n,a){var r,o,i,c;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!1,e.prev=1,(new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,o="".concat("http://localhost:9606","/PlantillaCampo"),i=0,n.map((function(e){return i++,e.Orden=i})),c=Object(d.a)({PlantillaCampos:Object(qm.a)(n)},a),e.next=10,Ft.a.post(o,c,{headers:Object(Jt.authHeader)(t)}).then((function(e){Object(zt.checkStatusCode)(e.status),Object(zt.customLog)("Plantilla created ".concat(e.data.Id),zt.logType.INFO,Xm,th.name,zt.methodsEndPointType.POST),Wr("Plantilla creada correctamente",Gr.success,5e3),r=!0})).catch((function(e){Wr(e.response.data.Message,Gr.error,5e3),Object(zt.customLog)("Error create plantilla  => ".concat(e.message),zt.logType.ERROR,Xm,th.name,zt.methodsEndPointType.PUT),Object(zt.checkStatusCode)(e.request.status),r=!1}));case 10:e.next=17;break;case 12:e.prev=12,e.t0=e.catch(1),Wr(e.t0.response.data,Gr.error,5e3),Object(zt.customLog)("Error created plantilla => ".concat(e.t0.message),zt.logType.ERROR,Xm,th.name,zt.methodsEndPointType.POST),Wr(e.t0.response.data,Gr.error,5e3);case 17:return e.abrupt("return",r);case 18:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function ah(e,t,n){return rh.apply(this,arguments)}function rh(){return(rh=Object(Nt.a)(Et.a.mark((function e(t,n,a){var r,o,i;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,r="".concat("http://localhost:9606","/PlantillaCampo"),o=0,n.map((function(e){return o++,e.Orden=o})),i=Object(d.a)({PlantillaCampos:Object(qm.a)(n)},a),e.next=9,Ft.a.put(r,i,{headers:Object(Jt.authHeader)(t)}).then((function(e){Object(zt.checkStatusCode)(e.status),Object(zt.customLog)("plantilla modificada ".concat(i.Id),zt.logType.INFO,Xm,ah.name,zt.methodsEndPointType.PUT),Wr("Plantilla editada",Gr.success,5e3)})).catch((function(e){Object(zt.customLog)("Error al editar Plantilla => ".concat(e.message),zt.logType.ERROR,Xm,ah.name,zt.methodsEndPointType.PUT)}));case 9:return e.abrupt("return",!0);case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function oh(e,t){return ih.apply(this,arguments)}function ih(){return(ih=Object(Nt.a)(Et.a.mark((function e(t,n){var a;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,a="".concat("http://localhost:9606","/Plantilla/").concat(n),e.next=6,Ft.a.delete(a,{headers:Object(Jt.authHeader)(t)}).then((function(e){Object(zt.checkStatusCode)(e.status),Object(zt.customLog)("plantilla elminada",zt.logType.INFO,Xm,oh.name,zt.methodsEndPointType.POST),Wr("Plantilla elminada",Gr.success,5e3)}));case 6:return e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e.catch(0),400==e.t0.response.status&&Wr(e.t0.response.data,Gr.error,5e3),Object(zt.customLog)("Error al eliminar Plantilla => ".concat(e.t0.response.data),zt.logType.ERROR,Xm,oh.name,zt.methodsEndPointType.POST),Object(zt.checkStatusCode)(e.t0.request.status),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function ch(e){var t=new We.JsonConvert;return t.valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,t.deserializeObject(e,Zm)}var lh=function(e,t){return{type:D,payload:{isOpenPopup:e,popupRef:t}}},sh=function(e){return{type:M,payload:e}},uh=function(e,t){return Object(po.jsxs)(po.Fragment,{children:[Object(po.jsx)(bo.Button,{icon:"remove",text:"Cancelar",type:"normal",stylingMode:"outlined",style:{float:"right",margin:"1em"},onClick:t}),Object(po.jsx)(bo.Button,{icon:"save",text:"Guardar",type:"success",useSubmitBehavior:!0,validationGroup:e,stylingMode:"contained",style:{float:"right",margin:"1em"}})]})},dh=[{IdPlantilla:28,IdCampo:1,Nombre:"IdEmpresa",Visible:!0,Orden:1,Ancho:20},{IdPlantilla:28,IdCampo:2,Nombre:"SerieExpediente",Visible:!0,Orden:3,Ancho:20},{IdPlantilla:28,IdCampo:3,Nombre:"NumeroExpediente",Visible:!0,Orden:4,Ancho:20},{IdPlantilla:28,IdCampo:4,Nombre:"FechaInicio",Visible:!0,Orden:5,Ancho:20},{IdPlantilla:28,IdCampo:5,Nombre:"Descripcion",Visible:!0,Orden:6,Ancho:20},{IdPlantilla:28,IdCampo:6,Nombre:"Comentario",Visible:!0,Orden:7,Ancho:20},{IdPlantilla:28,IdCampo:7,Nombre:"Referencia",Visible:!0,Orden:8,Ancho:20},{IdPlantilla:28,IdCampo:8,Nombre:"TotalAnticipos",Visible:!0,Orden:9,Ancho:20}],bh=(n(2804),function(e){return{type:Le,payload:e}}),ph=function(e){return{type:De,payload:e}};var jh=function(e){var t,n=Object(c.b)(),r=(Object(c.c)((function(e){return e.user})),Object(c.c)((function(e){return e.plantilla}))),o=Object(a.useState)(!1),i=Object(Ge.a)(o,2),l=(i[0],i[1],Object(a.useState)([{}])),s=Object(Ge.a)(l,2),u=(s[0],s[1]);Object(a.useEffect)((function(){function e(){return(e=Object(Nt.a)(Et.a.mark((function e(){return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{u(dh)}catch(t){console.error(t)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var b=function(e,t){var a,o=[];null===(a=r.plantillaCampos)||void 0===a||a.map((function(n){return n.IdCampo==e&&(n=Object(d.a)(Object(d.a)({},n),t)),o.push(n)})),n(ph(o))};return Object(po.jsx)(po.Fragment,{children:Object(po.jsx)(po.Fragment,{children:Object(po.jsx)("div",{className:"content-block dx-card responsive-paddings",style:{borderColor:"#f4f9ff",borderWidth:"2px",margin:"0.6%"},children:Object(po.jsx)(bo.ScrollView,{width:"100%",height:"100%",showScrollbar:"always",children:Object(po.jsx)(bo.Sortable,{id:"list",dropFeedbackMode:"push",itemOrientation:"vertical",dragDirection:"both",scrollSpeed:30,scrollSensitivity:60,handle:"",onDragStart:function(e){!function(e){e.itemData=dh[e.fromIndex]}(e)},onReorder:function(e){!function(e){var t=null===r||void 0===r?void 0:r.plantillaCampos[e.fromIndex],a=void 0!=r.plantillaCampos?r.plantillaCampos:[];u([{}]),a=[].concat(Object(qm.a)(a.slice(0,e.fromIndex)),Object(qm.a)(a.slice(e.fromIndex+1))),a=[].concat(Object(qm.a)(a.slice(0,e.toIndex)),[t],Object(qm.a)(a.slice(e.toIndex))),n(ph(a))}(e)},children:null===(t=r.plantillaCampos)||void 0===t?void 0:t.map((function(e){return Object(po.jsx)("div",{className:"item dx-card dx-theme-text-color dx-theme-background-color",children:Object(po.jsxs)("div",{className:"settings",children:[Object(po.jsx)("div",{className:"column",children:Object(po.jsx)("div",{className:"field",children:Object(po.jsx)("div",{className:"value",children:Object(po.jsx)("h4",{children:e.Nombre})})})}),Object(po.jsx)("div",{className:"column",children:Object(po.jsxs)("div",{className:"field",children:[Object(po.jsx)("div",{className:"label",children:"Ancho"}),"\xa0",Object(po.jsx)("div",{className:"value",title:e.IdCampo.toString(),children:Object(po.jsx)(bo.NumberBox,{value:e.Ancho,onValueChanged:function(e){b(parseInt(e.element.parentElement.title),{Ancho:e.value})},showSpinButtons:!0,max:100,min:20,format:"#0px"})})]})}),"\xa0",Object(po.jsx)("div",{className:"column",children:Object(po.jsxs)("div",{className:"field",children:[Object(po.jsx)("div",{className:"label",children:"Visible"}),"\xa0",Object(po.jsx)("div",{className:"value",title:e.IdCampo.toString(),children:Object(po.jsx)(bo.Switch,{value:e.Visible,onValueChanged:function(e){b(parseInt(e.element.parentElement.title),{Visible:e.value})}})})]})})]})},e.Id)}))})})})})})},mh=function(e){return{type:Te,payload:e}},hh=function(e){return{type:Pe,payload:e}};var Oh,fh,vh,gh,xh,yh,Ch,wh,Ih,Sh,Eh,Nh,Ph,Th,kh,Rh,Lh,Dh,Mh,Ah,Fh,Jh,zh,Uh,Vh,_h,Gh,Bh=function(e){var t,n,r,o,i,l=Object(c.c)((function(e){return e.user})),s=Object(c.c)((function(e){return e.perfil})),u=Object(c.c)((function(e){return e.plantilla})),b=Lr(),p=(b.isXSmall,b.isLarge),j=Object(a.useState)(!1),m=Object(Ge.a)(j,2),h=m[0],O=m[1],f=Object(a.useRef)({}),v=Object(Zp.a)(),g=(v.register,v.handleSubmit),x=Object(c.b)();Object(a.useEffect)((function(){function e(){return(e=Object(Nt.a)(Et.a.mark((function e(){return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var y=function(){var t=Object(Nt.a)(Et.a.mark((function t(n){return Et.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:O(!0),Object(Hp.confirm)("<i>\xbfEst\xe1 seguro de que quiere guardar la informaci\xf3n?</i>","Confirma los cambios").then(function(){var t=Object(Nt.a)(Et.a.mark((function t(n){var a,r,o,i,c,d,b,p;return Et.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=29;break}if(void 0==(null===u||void 0===u||null===(a=u.plantilla)||void 0===a?void 0:a.Nombre)||""==(null===u||void 0===u||null===(r=u.plantilla)||void 0===r?void 0:r.Nombre)||void 0==s.perfil){t.next=25;break}if(d={IdPlantillaParent:null===u||void 0===u?void 0:u.plantillaCampos[0].IdPlantilla,IdPerfil:null===(o=s.perfil)||void 0===o?void 0:o.Id,Nombre:null===u||void 0===u||null===(i=u.plantilla)||void 0===i?void 0:i.Nombre},b=!1,0!=(null===u||void 0===u||null===(c=u.plantilla)||void 0===c?void 0:c.Id)){t.next=10;break}return t.next=7,th(l.user,null===u||void 0===u?void 0:u.plantillaCampos,d);case 7:b=t.sent,t.next=13;break;case 10:return t.next=12,ah(l.user,null===u||void 0===u?void 0:u.plantillaCampos,d);case 12:b=t.sent;case 13:if(!b){t.next=22;break}return t.next=16,$m(l.user,null===u||void 0===u?void 0:u.plantillaCampos[0].IdPlantilla);case 16:p=t.sent,e.setPlantillas(p),O(!1),e.setShowForm(!e.showForm),t.next=23;break;case 22:O(!1);case 23:t.next=27;break;case 25:O(!1),Wr("La plantilla no tiene nombre o no tiene asignado un perfil",Gr.error,5e3);case 27:t.next=30;break;case 29:O(!1);case 30:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),C=function(){e.setShowForm(!1)},w={items:s.perfiles,value:void 0!=(null===(t=s.perfil)||void 0===t?void 0:t.Id)?null===(n=s.perfil)||void 0===n?void 0:n.Id:null===(r=u.plantilla)||void 0===r?void 0:r.IdPerfil,placeholder:"Seleccione un perfil",displayExpr:"Nombre",valueExpr:"Id",onValueChanged:function(e){e.event&&x(mh(null===s||void 0===s?void 0:s.perfiles.find((function(t){return t.Id===e.value}))))}};return Object(po.jsx)(po.Fragment,{children:Object(po.jsx)("div",{className:"content-block  responsive-paddings",children:Object(po.jsxs)("div",{className:"content-block  ",children:[Object(po.jsxs)("h4",{children:["Plantilla de donde se hereda:"," ",void 0!=e.plantillaParent?e.plantillaParent.Nombre:""]}),Object(po.jsx)("form",{className:"legalForm",onSubmit:g(y),encType:"multipart/form-data",style:{width:"100%"},children:Object(po.jsxs)(bo.Form,{formData:f.current,disabled:h,readOnly:!1,labelLocation:p?"left":"top",showValidationSummary:!1,validationGroup:"sujetoData",showColonAfterLabel:!0,children:[Object(po.jsxs)(rs.GroupItem,{colCount:"2",children:[Object(po.jsx)(rs.SimpleItem,{dataField:"Nombre",editorType:"dxTextBox",editorOptions:{stylingMode:"filled",placeholder:"Nombre Plantillas",mode:"text",value:(null===(o=u.plantilla)||void 0===o?void 0:o.Nombre)?null===(i=u.plantilla)||void 0===i?void 0:i.Nombre:"",onValueChanged:function(e){e.event&&x(bh(Object(d.a)(Object(d.a)({},u.plantilla),{},{Nombre:e.value})))}}}),Object(po.jsx)(rs.SimpleItem,{dataField:"Perfiles",editorType:"dxSelectBox",editorOptions:w})]}),Object(po.jsx)(rs.GroupItem,{colCount:"1",children:Object(po.jsx)(rs.SimpleItem,{children:Object(po.jsx)(jh,{})})}),Object(po.jsx)(rs.SimpleItem,{render:function(){return uh("plantillaData",C)},cssClass:"alignBottom"})]})})]})})})},Wh=(Oh=Object(We.JsonObject)("PerfilModel"),fh=Object(We.JsonProperty)("Id",Number,0),vh=Object(We.JsonProperty)("Descripcion",String),gh=Object(We.JsonProperty)("Nombre",String),xh=Object(We.JsonProperty)("IdSujeto",Number),Oh((Ch=function e(){Object(Ct.a)(this,e),Object(yt.a)(this,"Id",wh,this),Object(yt.a)(this,"Descripcion",Ih,this),Object(yt.a)(this,"Nombre",Sh,this),Object(yt.a)(this,"IdSujeto",Eh,this)},wh=Object(wt.a)(Ch.prototype,"Id",[fh],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ih=Object(wt.a)(Ch.prototype,"Descripcion",[vh],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Sh=Object(wt.a)(Ch.prototype,"Nombre",[gh],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Eh=Object(wt.a)(Ch.prototype,"IdSujeto",[xh],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),yh=Ch))||yh),qh=(Nh=Object(We.JsonObject)("PerfilModelGrid"),Ph=Object(We.JsonProperty)("Id",Number,0),Th=Object(We.JsonProperty)("Descripcion",String),kh=Object(We.JsonProperty)("Nombre",String),Nh((Lh=function e(){Object(Ct.a)(this,e),Object(yt.a)(this,"Id",Dh,this),Object(yt.a)(this,"Descripcion",Mh,this),Object(yt.a)(this,"Nombre",Ah,this)},Dh=Object(wt.a)(Lh.prototype,"Id",[Ph],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Mh=Object(wt.a)(Lh.prototype,"Descripcion",[Th],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ah=Object(wt.a)(Lh.prototype,"Nombre",[kh],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Rh=Lh))||Rh),Hh=(Fh=Object(We.JsonObject)("PerfilesCampoDatoModel"),Jh=Object(We.JsonProperty)("Campos",[qe.ColumnModel]||!1),zh=Object(We.JsonProperty)("Datos",[qh]||!1),Fh((Vh=function e(){Object(Ct.a)(this,e),Object(yt.a)(this,"Campos",_h,this),Object(yt.a)(this,"Datos",Gh,this)},_h=Object(wt.a)(Vh.prototype,"Campos",[Jh],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Gh=Object(wt.a)(Vh.prototype,"Datos",[zh],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Uh=Vh))||Uh),Zh="authService",Kh=function(){var e=Object(Nt.a)(Et.a.mark((function e(t){var n,a,r;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(n=new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,a="".concat("http://localhost:9606","/perfil"),r=[],e.next=7,Ft()({url:a,method:"GET",headers:Object(Jt.authHeader)(t)}).then((function(e){r=n.deserializeArray(e.data,Wh)})).catch((function(e){Object(zt.customLog)(null,zt.logType.ERROR,Zh,Kh.name,zt.methodsEndPointType.GET),Wr("No se han podido obtener los perfiles.",Gr.error,5e3)}));case 7:return e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();function Xh(e,t){return Yh.apply(this,arguments)}function Yh(){return(Yh=Object(Nt.a)(Et.a.mark((function e(t,n){var a,r,o;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,r="".concat("http://localhost:9606","/Perfil/").concat(n),o=new Wh,e.next=6,Ft()({url:r,method:zt.methodsEndPointType.GET,headers:Object(Jt.authHeader)(t)}).then((function(e){Object(zt.checkStatusCode)(e.status),o=a.deserializeObject(e.data,Wh)})).catch((function(e){Object(zt.customLog)(null,zt.logType.ERROR,Zh,Xh.name,zt.methodsEndPointType.GET),Wr("No se han podido obtener el perfil.",Gr.error,5e3)}));case 6:return e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qh(e,t){return $h.apply(this,arguments)}function $h(){return($h=Object(Nt.a)(Et.a.mark((function e(t,n){var a;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,a="".concat("http://localhost:9606","/Perfil"),{Authorization:"Bearer my-token","My-Custom-Header":"foobar"},e.next=7,Ft.a.post(a,n,{headers:Object(Jt.authHeader)(t)}).then((function(e){Object(zt.checkStatusCode)(e.status),Object(zt.customLog)("sujeto creado ".concat(e.data.Id),zt.logType.INFO,Zh,eO.name,zt.methodsEndPointType.POST),Wr("Perfil creada",Gr.success,5e3)}));case 7:return e.abrupt("return",!0);case 10:return e.prev=10,e.t0=e.catch(0),Object(zt.customLog)("Error al crear Sujeto => ".concat(e.t0.message),zt.logType.ERROR,Zh,Qh.name,zt.methodsEndPointType.POST),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function eO(e,t){return tO.apply(this,arguments)}function tO(){return(tO=Object(Nt.a)(Et.a.mark((function e(t,n){var a;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,a="".concat("http://localhost:9606","/Perfil"),e.next=6,Ft.a.put(a,n,{headers:Object(Jt.authHeader)(t)}).then((function(e){Object(zt.checkStatusCode)(e.status),Object(zt.customLog)("perfil modificado ".concat(n.Id),zt.logType.INFO,Zh,eO.name,zt.methodsEndPointType.PUT),Wr("Perfil editado",Gr.success,5e3)})).catch((function(e){Object(zt.customLog)("Error al editar Perfil => ".concat(e.message),zt.logType.ERROR,Zh,eO.name,zt.methodsEndPointType.PUT)}));case 6:return e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function nO(e){return aO.apply(this,arguments)}function aO(){return(aO=Object(Nt.a)(Et.a.mark((function e(t){var n,a,r;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,a="".concat("http://localhost:9606","/Perfil/Structure"),r=new Hh,e.next=6,Ft()({url:a,method:zt.methodsEndPointType.GET,headers:Object(Jt.authHeader)(t)}).then((function(e){Object(zt.checkStatusCode)(e.status),r=n.deserializeObject(e.data,Hh)})).catch((function(e){return Object(zt.customLog)(null,zt.logType.ERROR,Zh,nO.name,zt.methodsEndPointType.GET),{}}));case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var rO=function(){var e=Object(c.c)((function(e){return e.user})),t=Object(a.useState)(new zj),n=Object(Ge.a)(t,2),r=n[0],o=n[1],i=(Object(c.c)((function(e){return e.modulo})),Object(c.c)((function(e){return e.moduloComponente})),Object(c.c)((function(e){return e.perfil})),Object(a.useState)(0)),l=Object(Ge.a)(i,2),s=l[0],u=l[1],d=Object(a.useState)(!1),b=Object(Ge.a)(d,2),p=b[0],j=b[1],m=Object(a.useState)(""),h=Object(Ge.a)(m,2),O=h[0],f=h[1],v=Object(a.useState)(0),g=Object(Ge.a)(v,2),x=g[0],y=g[1],C=Object(a.useState)([]),w=Object(Ge.a)(C,2),I=w[0],S=w[1],E=Object(a.useState)(I.length>0?I[0]:new Zm),N=Object(Ge.a)(E,2),P=(N[0],N[1]),T=Object(a.useRef)(null),k=(Object(a.useRef)({}),Object(c.b)()),R=Object(_e.g)(),L=Object(a.useRef)(null),D=Object(a.useState)([{}]),M=Object(Ge.a)(D,2),A=M[0],F=M[1],J=Lr(),z=(J.isLarge,J.isMedium,J.isSmall),U=J.isXSmall,V=new We.JsonConvert;V.valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,Object(a.useEffect)((function(){function t(){return(t=Object(Nt.a)(Et.a.mark((function t(){return Et.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=o,t.next=3,Uj(e.user);case 3:return t.t1=t.sent,(0,t.t0)(t.t1),t.t2=k,t.t3=_m,t.next=9,Wm(null===e||void 0===e?void 0:e.user);case 9:return t.t4=t.sent,t.t5=(0,t.t3)(t.t4),(0,t.t2)(t.t5),t.t6=k,t.t7=hh,t.next=16,Kh(e.user);case 16:t.t8=t.sent,t.t9=(0,t.t7)(t.t8),(0,t.t6)(t.t9),F(V.deserializeArray(JSON.parse(localStorage.getItem("parentCompanyModulos")),It));case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);var _=function(){var t=Object(Nt.a)(Et.a.mark((function t(){return Et.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(I.length>0)){t.next=12;break}return k(bh(new Zm)),t.t0=k,t.t1=ph,t.next=6,Qm(e.user,I[0].Id);case 6:t.t2=t.sent,t.t3=(0,t.t1)(t.t2),(0,t.t0)(t.t3),j(!p),t.next=13;break;case 12:Wr("Selecciona un componentes y su plantilla",Gr.info,5e3);case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(po.jsx)(po.Fragment,{children:Object(po.jsx)("div",{className:"content-block dx-card",style:{borderColor:"#f4f9ff",borderWidth:"2px",margin:"0.3%",padding:"0.16%"},children:void 0!=(null===r||void 0===r?void 0:r.Campos)&&(null===r||void 0===r?void 0:r.Campos.length)>0?Object(po.jsxs)("div",{children:[Object(po.jsx)("h2",{children:"Plantillas"}),Object(po.jsx)(bo.SelectBox,{items:A,displayExpr:"Nombre",valueExpr:"IdModulo",placeholder:"Selecciona uno de los Modulo contratados",onValueChanged:function(){var e=Object(Nt.a)(Et.a.mark((function e(t){return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(t.value),S([]),document.getElementsByClassName("dx-icon dx-icon-refresh")[0].click();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(po.jsx)("h5",{children:"Vistas cargadas del modulo"}),Object(po.jsx)(bo.ScrollView,{direction:"vertical",children:Object(po.jsx)("div",{style:{marginBottom:"6vh"},children:Object(po.jsx)(Vm.a,{dataGridModel:function(t){var n=new qe.ButtonColumnModel({icon:"edit",text:"",hint:"Editar",cellRender:function(){var t=Object(Nt.a)(Et.a.mark((function t(n){var a;return Et.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y(n.data),t.next=3,$m(e.user,n.data.IdPlantilla);case 3:a=t.sent,S(a),P(ch(a.length>0?a[0]:new Zm));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()});return U?"300":"600",z?"400":"600","400","400",new qe.DataGridModel({dataGridName:"componenteGridComponent",height:"400",ref:T,rowFocused:O,columns:r.Campos,openRow:function(e){Object(Db.a)(e)},openRowEnterKey:function(e){Object(Db.a)(e)},focusEventChanged:function(e){e.row&&f(e.row.key)},focusEventChanging:function(e){Object(Db.a)(e)},openCreatePopup:void 0,user:e.user,url:"".concat("http://localhost:9606","/ModuloComponente/")+t,urlAux:"".concat("http://localhost:9606","/ModuloComponente/")+t,buttonsColumns:[n],filterRow:!0,filterPanel:!0,columnChooser:!0,headerFilter:!0,exportData:!0,showSearchPanel:!0,showToolbar:!0,history:R,singularName:"Componente",pluralName:"Componentes",pageName:"MuduloComponente",openedPopup:p})}(s)})})}),Object(po.jsx)("div",{children:Object(po.jsx)(bo.Button,{icon:"save",text:"Nueva Plantillas",type:"success",stylingMode:"contained",style:{float:"right",margin:"1em"},onClick:_})}),Object(po.jsxs)("h5",{children:["Nueva Plantilla hereda de:",Object(po.jsx)("b",{children:I.length>0?I[0].Nombre:"(Selecciona una vista para poder cargas sus plantillas)"})]}),Object(po.jsxs)(bo.TreeList,{dataSource:void 0!=I?I:[],focusedRowEnabled:!0,showBorders:!0,columnAutoWidth:!0,wordWrapEnabled:!0,defaultExpandedRowKeys:[1],defaultSelectedRowKeys:[1],keyExpr:"Id",parentIdExpr:"IdPlantillaParent",id:"Id",onFocusedRowChanged:function(e){P(ch(e.row.data))},children:[Object(po.jsx)(ss.SearchPanel,{visible:!0,width:250}),Object(po.jsx)(ss.HeaderFilter,{visible:!0}),Object(po.jsx)(ss.ColumnChooser,{enabled:!0}),Object(po.jsx)(ss.Column,{type:"buttons",cellRender:function(t){return function(t){return Object(po.jsx)(bo.Button,{icon:"edit",text:"",hint:"Editar",onClick:Object(Nt.a)(Et.a.mark((function n(){return Et.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return k(mh({})),k(bh(new Zm)),n.t0=k,n.t1=ph,n.next=6,Qm(e.user,t.row.key);case 6:n.t2=n.sent,n.t3=(0,n.t1)(n.t2),(0,n.t0)(n.t3),k(bh(I.find((function(e){return e.Id==t.row.key})))),j(!p);case 11:case"end":return n.stop()}}),n)})))})}(t)}}),Object(po.jsx)(ss.Column,{type:"buttons",cellRender:function(t){return function(t){return Object(po.jsx)(bo.Button,{icon:"trash",text:"",hint:"Eliminar",onClick:Object(Nt.a)(Et.a.mark((function n(){var a;return Et.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.row.data.IdPlantillaParent){n.next=9;break}return n.next=3,oh(e.user,t.row.key);case 3:return n.next=5,$m(e.user,I[0].Id);case 5:a=n.sent,S(a),n.next=10;break;case 9:Wr("No puedes eliminar una plantilla generica",Gr.warning,5e3);case 10:case"end":return n.stop()}}),n)})))})}(t)}}),Object(po.jsx)(ss.Column,{dataField:"Nombre"}),Object(po.jsx)(ss.Column,{dataField:"EsGenerica"})]}),Object(po.jsx)(bo.Popup,{visible:p,ref:L,onHiding:function(e){Object(Db.a)(e),j(!p),k(lh(!1,L))},dragEnabled:!0,closeOnOutsideClick:!1,showTitle:!0,title:"Creaci\xf3n Plantilla",resizeEnabled:!0,showCloseButton:!0,width:"95%",height:"95%",children:Object(po.jsx)(bo.ScrollView,{width:"100%",height:"100%",children:Object(po.jsx)(Bh,{row:x,setShowForm:j,showForm:p,setPlantillas:S,plantillaParent:I.find((function(e){return!0===e.EsGenerica}))})})})]}):null})})};var oO=function(){var e=Object(c.c)((function(e){return e.user})),t=Object(c.b)(),n=Object(_e.g)(),o=Object(Be.a)(),i=o.isLatestVersion,l=o.emptyCacheStorage,s=Object(a.useState)(!0),u=Object(Ge.a)(s,2);return u[0],u[1],Object(Aj.runInsights)(),!1===e.isLoggedIn&&Ze(0,0,t),Object(c.c)((function(e){return e.user})),Object(po.jsxs)(r.a.Fragment,{children:[!i&&l(),!1===e.isLoggedIn?n.push("/"):null,Object(po.jsx)(rO,{}),function(){}]})},iO=function(e){return{type:z,payload:e}},cO=function(e){return{type:J,payload:e}},lO={mask:"00000000A",maskRules:{X:/^([a-z]|[A-Z]|[0-9])[0-9]{7}([a-z]|[A-Z]|[0-9])$/},useMaskedValue:!1,maskInvalidMessage:"El numero de identificacion tiene que tener un formato valido."};var sO=function(e){var t,n=Object(c.c)((function(e){return e.user})),r=Object(c.c)((function(e){return e.company})),o=Object(c.c)((function(e){return e.sujeto.sujeto})),i=Lr(),l=(i.isXSmall,i.isLarge),s=Object(a.useState)(!1),u=Object(Ge.a)(s,2),b=u[0],p=u[1],j=Object(a.useRef)({}),m=Object(Zp.a)(),h=(m.register,m.handleSubmit),O=Object(c.b)();Object(a.useEffect)((function(){function e(){return(e=Object(Nt.a)(Et.a.mark((function e(){return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var f=function(){var t=Object(Nt.a)(Et.a.mark((function t(a){var r;return Et.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:p(!0),Object(Hp.confirm)("<i>\xbfEst\xe1 seguro de que quiere guardar la informaci\xf3n?</i>","Confirma los cambios").then((function(e){e?r():p(!1)})),r=function(){var t=Object(Nt.a)(Et.a.mark((function t(){var a;return Et.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=!1,(null===o||void 0===o?void 0:o.Id)||O(iO(Object(d.a)(Object(d.a)({},o),{},{Id:0}))),!(null===o||void 0===o?void 0:o.Id)){t.next=8;break}return t.next=5,Zt(n.user,o);case 5:a=t.sent,t.next=11;break;case 8:return t.next=10,qt(n.user,o);case 10:a=t.sent;case 11:a?(p(!1),document.getElementsByClassName("dx-icon dx-icon-refresh")[0].click(),e.setShowForm(!1)):p(!1);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){e.setShowForm(!1)},g={items:null===r||void 0===r||null===(t=r.companies)||void 0===t?void 0:t.Datos,value:null===o||void 0===o?void 0:o.IdCompany,placeholder:"Seleccione una compa\xf1\xeda",displayExpr:"Name",valueExpr:"Id",onValueChanged:function(e){e.event&&x({IdCompany:e.value})}},x=function(e){O(iO(Object(d.a)(Object(d.a)({},o),e)))};return Object(po.jsx)(po.Fragment,{children:Object(po.jsx)("div",{className:"content-block  responsive-paddings",children:Object(po.jsx)("div",{className:"content-block  ",children:Object(po.jsx)("form",{className:"legalForm",onSubmit:h(f),encType:"multipart/form-data",style:{width:"100%"},children:Object(po.jsxs)(bo.Form,{formData:j.current,disabled:b,readOnly:!1,labelLocation:l?"left":"top",showValidationSummary:!1,validationGroup:"sujetoData",showColonAfterLabel:!0,children:[Object(po.jsxs)(rs.GroupItem,{colCount:"2",children:[Object(po.jsx)(rs.SimpleItem,{dataField:"Nif",helpText:"Formato Valido Ex:77777777D",editorOptions:Object(d.a)({stylingMode:"filled",placeholder:"NIF",mode:"text",value:(null===o||void 0===o?void 0:o.NIF)?o:null,onValueChanged:function(e){e.event&&x({NIF:e.value})}},lO),children:Object(po.jsx)(rs.RequiredRule,{message:"Debes introducir un NIF"})}),Object(po.jsx)(rs.SimpleItem,{dataField:"Slogan",editorType:"dxTextBox",editorOptions:{stylingMode:"filled",placeholder:"Nombre",mode:"text",value:(null===o||void 0===o?void 0:o.Nombre)?o.Nombre:null,onValueChanged:function(e){e.event&&x({Nombre:e.value})}},children:Object(po.jsx)(rs.RequiredRule,{message:"Debes introducir un Nombre"})}),Object(po.jsx)(rs.SimpleItem,{dataField:"Compa\xf1ia",editorType:"dxSelectBox",editorOptions:g,children:Object(po.jsx)(rs.RequiredRule,{message:"Debes elegir al menos una Compa\xf1\xeda"})})]}),Object(po.jsx)(rs.SimpleItem,{render:function(){return uh("sujetoData",v)},cssClass:"alignBottom"})]})})})})})};var uO=function(){var e=Object(c.b)(),t=Object(a.useState)(new Vt),n=Object(Ge.a)(t,2),r=n[0],o=n[1],i=Object(c.c)((function(e){return e.user})),l=(Object(c.c)((function(e){return e.sujeto})),Object(a.useState)("")),s=Object(Ge.a)(l,2),u=s[0],d=s[1],b=Object(a.useState)(!1),p=Object(Ge.a)(b,2),j=p[0],m=p[1],h=Object(a.useState)(0),O=Object(Ge.a)(h,2),f=O[0],v=O[1],g=Object(_e.g)(),x=Object(a.useRef)(null),y=Lr();y.isLarge,y.isMedium,y.isSmall,y.isXSmall,Object(a.useEffect)((function(){function t(){return(t=Object(Nt.a)(Et.a.mark((function t(){return Et.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=o,t.next=4,Xt(i.user);case 4:return t.t1=t.sent,(0,t.t0)(t.t1),t.t2=e,t.t3=kt,t.next=10,fr(i.user);case 10:return t.t4=t.sent,t.t5=(0,t.t3)(t.t4),t.next=14,(0,t.t2)(t.t5);case 14:e(Tl(!1)),t.next=20;break;case 17:t.prev=17,t.t6=t.catch(0),console.error(t.t6);case 20:case"end":return t.stop()}}),t,null,[[0,17]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);var C=function(){var t=Object(Nt.a)(Et.a.mark((function t(){return Et.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(iO(new Ut)),m(!j),e(lh(!j,x));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useRef)(null),Object(po.jsx)(po.Fragment,{children:Object(po.jsxs)("div",{className:"content-block dx-card responsive-paddings",style:{borderColor:"#f4f9ff",borderWidth:"2px",margin:"0.6%"},children:[Object(po.jsx)("h3",{style:{margin:0,padding:0},children:"Sujetos"}),void 0!=(null===r||void 0===r?void 0:r.Campos)&&(null===r||void 0===r?void 0:r.Campos.length)>0?Object(po.jsx)(Nl.a,{direction:"vertical",children:Object(po.jsx)("div",{style:{height:"75vh"},children:Object(po.jsx)(Vm.a,{dataGridModel:function(){var t=new qe.ButtonColumnModel({icon:"edit",text:"",hint:"Editar",cellRender:function(){var t=Object(Nt.a)(Et.a.mark((function t(n){var a;return Et.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v(n.data),m(!j),t.t0=Qt,t.next=5,Bt(i.user,n.data.Id);case 5:t.t1=t.sent,a=(0,t.t0)(t.t1),e(iO(a));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()});return new qe.DataGridModel({dataGridName:"sujetoGridComponent",ref:"",rowFocused:u,columns:r.Campos,openRow:function(e){Object(Db.a)(e)},openRowEnterKey:function(e){Object(Db.a)(e)},focusEventChanged:function(e){e.row&&d(e.row.key)},focusEventChanging:function(e){Object(Db.a)(e)},openCreatePopup:C,user:i.user,url:"".concat("http://localhost:9606","/Sujeto"),urlAux:"".concat("http://localhost:9606","/Sujeto"),buttonsColumns:[t],filterRow:!0,filterPanel:!0,columnChooser:!0,headerFilter:!0,exportData:!0,showSearchPanel:!0,showToolbar:!0,history:g,singularName:"Sujeto",pluralName:"Sujetos",pageName:"Sujeto",openedPopup:j})}()})})}):null,Object(po.jsx)(bo.Popup,{visible:j,ref:x,onHiding:function(t){Object(Db.a)(t),m(!j),e(lh(!1,x))},dragEnabled:!0,closeOnOutsideClick:!1,showTitle:!0,title:"Formulario Sujeto",width:"60%",height:"50%",children:Object(po.jsx)(sO,{row:f,setShowForm:m,showForm:j})})]})})};var dO=function(){Object(c.c)((function(e){return e.user})),Object(c.b)(),Object(_e.g)();var e=Object(Be.a)(),t=(e.isLatestVersion,e.emptyCacheStorage,Object(a.useState)(!0)),n=Object(Ge.a)(t,2);return n[0],n[1],Object(Aj.runInsights)(),Object(po.jsx)(r.a.Fragment,{children:Object(po.jsx)(uO,{})})},bO=(n(2805),n(2806),n(474)),pO=n.n(bO),jO="iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAgVBMVEX///8AAADt7e3u7u7r6+vy8vIkJCT4+PjKysrZ2dm9vb309PTo6OghISFdXV3f39+hoaFwcHCMjIxRUVG0tLQZGRl4eHiDg4NiYmKZmZkuLi6urq5paWlDQ0PFxcWcnJwzMzPT09M9PT0NDQ0pKSlMTEx+fn5WVlYTExOQkJA4ODj22QIiAAAJcklEQVR4nO1da3viLBA1UkoiqdE23qqttZft7vv/f+BrjK3llgBDANPMp/NslwzHAHOACYxGlY0RQuOeolEk9RgYDgxbGR7tpqfoBGuyNz1FKHgz6hahgeHVI/SjS970Ep0H1Dgq0w2qLY4G1Wk8DF6PgSGYYXDl0R0aNM3Vo98Q8fvP8NIlwwfnQdNYodriaFCdxsPg9RgYghkGVx7doUHTXD3qJOJjfEKkMiOE8VUwpCSbLV/fElN7e13OMkKRc4aXLukmwNLtizG5i71sscO6dKFpSLkA8KtsURIUr6bBaArkV9kU4VgjPi6gL7C2RYEjZZg54VdZ5p6hC/VAnRFMEuKsVg41Df3PIcMXGp+mISuHBJNkRWKL+PjglGCSHBwNqM4Ykg/HDD9IXJoGpY4JJkmKwLVyqml2zhnuvGia+mfUmBq4jBRfhnWnJM0drYkhJfnzZv70flfZbWUqdMtPJRbbNM0qSyvTQlteEL21+717f5pvnvPjjMSGIcXbJ9uf/wXT8yQRV6aFKLaelDxtMW1jKNECG1t/RyuwhQbBBcDjRvlkhaYhE4C35I/wPD30B+J0Qgw0DSJLiK+kaOjcTQjyEpNkSWTrA/KIj6w74MnWxJIhWYP8PukzfAQ5SlLb6R0G6oZHKUOJpoG9weSVWIdp8gpz/SQ+WaJpyBzmJXkGaJBnoO85adc0tAQ6WVg10C90B/Re0raIjxDQRbIFMdxC3SN+uOEZUvBE1obXDwR1f8+rmzPD71abQz1s2OcZI4iUOlnOPZnTNHgGdoBA6yoI/BPPcKOmIUIofN2XpxnApLJ2lGHgnBxnBt7Sci/El0fSFPGxsOT5TKjZJMHNIqf2lIQSIcBkuIEh5RrpW07drMR1iGjOTU5nHENG01BOcWfYyUJCt4hveEvapGlYwfZJgldfB5FPptacdBuxr539NbYuu1Z3CHMygf1rI0PrSYJnhqk1w8z1lnM3CGUaDL9arZyhvULxgqQMFZqGW/bMHez8+ECcDuL2rZh4SHiG4ZugDuIZNkT8gWGkqJnhT02DpP3w66+U1FMvWu1TnP/NdA/oUnZsULYN3Qj9UK1p2P+ajX/+dT6dfh7tYVrZR2qa9ZJNZvfL+Xq9ni/vZ5PMIc2xZCzV1DRsPGR3TiZYtxlhOjpsHhLeHjaHEXWSyKYVD3UY3towRJSW6r3FXUkdJLKFZZi1rfus4LkzzjQNz1BDbxQ6W8O7ouUpvjQNYZcy01Gb3qCF7jbEuqDKp3jUNBKGzY3nXpNfZfegpuoo4hsyLNhG3Wa3xbUx3Bvxq2wfXNMo+qEsEKORTZ7pdIQCaxrFWCpxjO3yTBfUnNzpVbnSNNrx0H7ZOjduoJV5j/iQ3fgiKEN24VXJELbxYDNhc6ZpJmU5q6ysbFYgqcrgB6uftpiuZttyO1tNG/opReNQmmYs7hrIVIai8otVeipLaZ2+lK4U//FO+eRI1mnkYWKeEn7jkpJUnjAwNWmgTiO+FpIG+vucyDotJrlU2M1iZigbRqdYmR559C5758YDqqt1Gg30LlZ30lJWkkD3HkrTtCL6T6jsY0FbytJCzMD6Z7bQ5UzTtCKxjT6M2je98UhcwzFL/XMW8VuRMOGdapYVOuM6TobCK/zULiu8xdw5Qx1N04b4NZkXg7J8AvTOoKyvvSfezbEz6WfWiAnQGYpO0wjpYhNqENMoHzRWTen3YSI+r7inhlGbH22iY4j5pE1syJDPiSwNvuzyomkoN87cGy9HcBp1Z5Bp7EfTcK8gR4ZLSkLKXmya5sCWXJp/IMlnXx8ii/hcWmiqvff2jfismE1kDFlVsiAmg8wZEXbW/xCVphlzBVe0rYQE8RE1Lk3D+UjbS0gQ10wz7bI+NA0nSTRKyBD7kIl2WR8Rn828XVgyZDviLCqGbLieWjJklZv+nqIPTcPmFq80SsgQO9Qstct60DSUjdYzu+Rp7lOIOY1I03AfDm5NJk4XRNlc3zXRLOsj4hO2B5V2DLn5yTQqhtw7tPuspNN3CNQ0fD+krSVkSN0PI9A0qrHUSNMox9IYNE3M8XDQNNevS91oGtXcwijsK+cWEWga9fzQgKYwP4xrncbFHP8v8wzHc3wwQ/frNPvIGB7YkvPo1tqAmka9XqqtaSTrpbpl/ew9Kda8DTQNv+ZN9ct62XsS9i2QYTzsbt/CEcP+7z1FvH/oRtMcywrbuJfjsFqfIu4BFyYfHfnKp+H38R8NyvI5NTuDsv7yaYTE0gftsh5yMVwwdJhPszPy64+hLCcKtZb1lBMF1zSjtrw2RdmGvLa4NE2NGnITVWXVuYmRaZoaSfNL1efcHmPVp6SE4/xSpwxH0iOK+pQjHGWetytN84UUKfh/z7n6X3n+6eqv/D/eGXnzq2lOyOX3FtFpGnmTMbTOvplxyBD03VNu7C0Ewzi/XXOiab4RtTvf8Y5aeQtxPg3kG1Jzb4HOpzE/nXBm00ADRPxvVEg0aoO9R/AttzESZxpq+2fpI4SmuSCqdWZEZbvC/LybYJqGRbkOx3kO8uFf07CoaD3bxPZ485ARn/HefD7NJKrzaWxRdcbQXnLG0N7rGUNuNY0Unc+JmsrPiYKgSM7cq38s9qwvN08eztwbGMbBAcKwO03jDwXUNH5QWE3jAwEi/uE6GALOEb7Os6DfpAy/Wq30PG83yqM7JDvPW6lpZGeyu1IeXSHZmexKTdOPc/WbIr54N8LE9G4Ez4iKt4s13o0gud/iv43R/RaeUbkR7ncV7rf4qWmObRp8k01w27KfJPGaBn7PTHDLOUYjrutSkzM5YzTVXUEXBQS+7ymwCSmNPEP4nV1hbaK6s+uHUgDfuxbSvu9dU2maGrm+vNiffbAjqETTnJH1laeB7YXvcpKIfx5ugDcgBjKDOywRAd15Gsj+KO4hZTXN93ADuks2iE3Eyx2lmuaCwJfYebWNkocQDy/qhm6vZVD90LjTWTr1ouTmea91L3cw9P4031vfy11308p07zgPhWSDZZOm6RtyugcUJ2p+xdeP1BnKfUG/gaFM0/QJNWiavqDa4mhQ3aCB4fWjM8PgyqM7NGiaq0e/IeL3n+GlS4YPzoOmsUK1xdGgOo2HwesxMAQzDK48ukODprl69Bsifv8ZXrpk+OA8aBorVFscDarTeBi8HgNDMMPgyqM7NGiaq0e/IeL3n+GlS4YPzoOmsUK1xdGgOo2HwesxMIQyvAyo/UP/AwGZRK6HDbZVAAAAAElFTkSuQmCC";var mO=function(e){var t=Object(c.c)((function(e){return e.user})),n=Object(c.c)((function(e){var t;return null===(t=e.company)||void 0===t?void 0:t.company})),r=Object(c.c)((function(e){return e.company})),o=Object(c.c)((function(e){var t;return null===(t=e.calculadoraTransferencias)||void 0===t?void 0:t.calculadoraTransferencias})),i=Object(c.c)((function(e){var t;return null===(t=e.email)||void 0===t?void 0:t.email})),l=Object(c.c)((function(e){return e.enlace})),s=Object(c.c)((function(e){return e.sharedUtils.isChanged})),u=Lr().isLarge,b=Object(a.useState)(!1),p=Object(Ge.a)(b,2),j=p[0],m=p[1],h=Object(a.useState)("NIF"),O=Object(Ge.a)(h,2),f=(O[0],O[1],Object(a.useRef)({})),v=Object(c.b)(),g=Object(Zp.a)(),x=(g.register,g.handleSubmit);Object(a.useEffect)((function(){function e(){return(e=Object(Nt.a)(Et.a.mark((function e(){return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return function(){e.apply(this,arguments)}(),function(){!1}}),[e.showForm]);var y,C={width:"auto",height:"auto",maxWidth:"146px",maxHeight:"50px"},w=function(){var a=Object(Nt.a)(Et.a.mark((function a(c){var s;return Et.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(m(!0),s=!1,(null===n||void 0===n?void 0:n.Id)||v(Rt(Object(d.a)(Object(d.a)({},n),{},{Id:0}))),!(null===n||void 0===n?void 0:n.Id)){a.next=9;break}return a.next=6,Cr(t.user,n,o,null===l||void 0===l?void 0:l.enlaces,r,i);case 6:s=a.sent,a.next=12;break;case 9:return a.next=11,xr(t.user,n,o,null===l||void 0===l?void 0:l.enlaces,r,i);case 11:s=a.sent;case 12:if(!s){a.next=30;break}return m(!1),no(e,!0),e.setShowForm(!1),localStorage.setItem("parentCompanyModulos",JSON.stringify(null===r||void 0===r?void 0:r.companyModulos)),a.t0=localStorage,a.t1=JSON,a.t2=v,a.t3=Kb,a.next=23,pr(null===t||void 0===t?void 0:t.user,parseInt(null===t||void 0===t?void 0:t.user.CompanyId));case 23:a.t4=a.sent,a.t5=(0,a.t3)(a.t4),a.t6=(0,a.t2)(a.t5).payload,a.t7=a.t1.stringify.call(a.t1,a.t6),a.t0.setItem.call(a.t0,"parentEnlaces",a.t7),a.next=31;break;case 30:m(!1);case 31:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),I=function(e){v(Rt(Object(d.a)(Object(d.a)({},n),e)))},S=function(e){var t=e.input,n=e.previews,a=e.submitButton,r=e.dropzoneProps,o=e.files,i=e.extra.maxFiles;return Object(po.jsxs)("div",{children:[n,Object(po.jsx)("div",Object(d.a)(Object(d.a)({},r),{},{children:o.length<i&&t})),o.length>0&&a]})},E=Object(a.useRef)(null);return e.showForm||null!=E&&(null===(y=E.current)||void 0===y||y.instance.resetValues()),Object(po.jsx)(po.Fragment,{children:Object(po.jsx)("div",{className:"content-block responsive-paddings",style:{borderColor:"#f4f9ff",borderWidth:"2px",margin:"0.6%"},children:Object(po.jsx)("div",{className:"form",children:Object(po.jsx)("form",{className:"legalForm",onSubmit:x(w),encType:"multipart/form-data",style:{width:"100%"},children:Object(po.jsxs)(bo.Form,{formData:f.current,disabled:j,readOnly:!1,ref:E,labelLocation:u?"left":"top",showValidationSummary:!1,validationGroup:"companyData",showColonAfterLabel:!0,children:[(null===n||void 0===n?void 0:n.Id)?Object(po.jsx)(rs.SimpleItem,{dataField:"Registro",editorType:"dxTextBox",editorOptions:{disabled:!0,stylingMode:"filled",placeholder:"Numero de registro",mode:"text",value:(null===n||void 0===n?void 0:n.Id)?null===n||void 0===n?void 0:n.Id:""}}):void 0,Object(po.jsxs)(rs.SimpleItem,{dataField:"NIF/NIE/CIF",editorOptions:{stylingMode:"filled",placeholder:"N\xfamero de identificaci\xf3n(NIF,NIE,CIF...)",mode:"text",value:(null===n||void 0===n?void 0:n.IdentificationNumber)?null===n||void 0===n?void 0:n.IdentificationNumber:"",onValueChanged:function(e){e.event&&(I({IdentificationNumber:e.value}),s||v(sh(!0)))}},children:[Object(po.jsx)(rs.RequiredRule,{message:"El campo es requerido",type:"required"}),Object(po.jsx)(rs.PatternRule,{pattern:"^([a-z]|[A-Z]|[0-9])[0-9]{7}([a-z]|[A-Z]|[0-9])$",message:"Debes introducir un numero de identificaci\xf3n NIF/CIF/NIE"})]}),Object(po.jsxs)(rs.SimpleItem,{dataField:"name",editorType:"dxTextBox",editorOptions:{stylingMode:"filled",placeholder:"Nombre de compa\xf1\xeda",value:(null===n||void 0===n?void 0:n.Name)?null===n||void 0===n?void 0:n.Name:"",mode:"text",onValueChanged:function(e){e.event&&(I({Name:e.value}),s||v(sh(!0)))}},children:[Object(po.jsx)(rs.RequiredRule,{message:"El campo es requerido"}),Object(po.jsx)(rs.Label,{visible:!0,text:"Nombre"})]}),Object(po.jsxs)(rs.SimpleItem,{dataField:"Mensaje barra superior",editorType:"dxTextBox",editorOptions:{stylingMode:"filled",maxLength:100,placeholder:"Mensaje barra superior",value:(null===n||void 0===n?void 0:n.Slogan)?null===n||void 0===n?void 0:n.Slogan:"",mode:"text",onValueChanged:function(e){e.event&&(I({Slogan:e.value}),s||v(sh(!0)))}},children:[Object(po.jsx)(rs.RequiredRule,{message:"El campo es requerido",type:"required"}),Object(po.jsx)(rs.Label,{visible:!0,text:"Mensaje barra superior"})]}),Object(po.jsxs)(rs.SimpleItem,{dataField:"contactInformation",editorType:"dxTextBox",editorOptions:{stylingMode:"filled",placeholder:"Informaci\xf3n de contacto",value:(null===n||void 0===n?void 0:n.ContactInformation)?null===n||void 0===n?void 0:n.ContactInformation:"",mode:"text",onValueChanged:function(e){e.event&&(I({ContactInformation:e.value}),s||v(sh(!0)))}},children:[Object(po.jsx)(rs.RequiredRule,{message:"El campo es requerido"}),Object(po.jsx)(rs.Label,{visible:!0,text:"Informaci\xf3n de contacto"})]}),Object(po.jsxs)(rs.SimpleItem,{dataField:"notificationsEmail",editorType:"dxTextBox",editorOptions:{stylingMode:"filled",placeholder:"Email para notificaciones",value:(null===n||void 0===n?void 0:n.NotificationsEmail)?null===n||void 0===n?void 0:n.NotificationsEmail:"",mode:"text",onValueChanged:function(e){e.event&&(I({NotificationsEmail:e.value}),s||v(sh(!0)))}},children:[Object(po.jsx)(rs.RequiredRule,{message:"El campo es requerido"}),Object(po.jsx)(rs.EmailRule,{message:"Debe introducir un email con un formato correcto"}),Object(po.jsx)(rs.Label,{visible:!0,text:"Email para notificaciones"})]}),io(t.user)?Object(po.jsx)(rs.GroupItem,{colCount:"2",children:Object(po.jsx)(rs.SimpleItem,{dataField:"enabled",editorType:"dxCheckBox",editorOptions:{stylingMode:"filled",value:(null===n||void 0===n?void 0:n.Enabled)?null===n||void 0===n?void 0:n.Enabled:"",mode:"text",onValueChanged:function(e){e.event&&(I({Enabled:e.value}),s||v(sh(!0)))}},children:Object(po.jsx)(rs.Label,{visible:!0,text:"Bloqueado"})})}):null,Object(po.jsxs)(rs.GroupItem,{colCount:"2",children:[Object(po.jsxs)(rs.SimpleItem,{children:[Object(po.jsx)("img",{src:"data:image/jpeg;base64,".concat(""!=(null===n||void 0===n?void 0:n.PrincipalLogo)&&null!=(null===n||void 0===n?void 0:n.PrincipalLogo)?null===n||void 0===n?void 0:n.PrincipalLogo:jO),style:C}),Object(po.jsx)(pO.a,{LayoutComponent:S,onSubmit:function(e,t){console.log(e.map(function(){var e=Object(Nt.a)(Et.a.mark((function e(t){var n,a,r;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.file.arrayBuffer();case 2:n=e.sent,a=new Blob([n]),(r=new FileReader).onload=function(e){var t,n=(null===(t=e.target.result)||void 0===t?void 0:t.toString().split(","))[1].toString();I({PrincipalLogo:n})},r.readAsDataURL(a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),t.forEach((function(e){return e.remove()}))},classNames:{inputLabelWithFiles:bO.defaultClassNames.inputLabel},submitButtonContent:"Enviar",maxFiles:1,inputContent:"Subir logo principal",inputWithFilesContent:function(e){return"".concat(1-e.length," more")},submitButtonDisabled:function(e){return e.length<1},styles:{dropzone:{minHeight:"6vh",maxHeight:"10vh"}}})]}),Object(po.jsxs)(rs.SimpleItem,{children:[Object(po.jsx)("img",{src:"data:image/jpeg;base64,".concat(""!=(null===n||void 0===n?void 0:n.SecondaryLogo)&&null!=(null===n||void 0===n?void 0:n.SecondaryLogo)?null===n||void 0===n?void 0:n.SecondaryLogo:jO),style:C}),Object(po.jsx)(pO.a,{LayoutComponent:S,onSubmit:function(e,t){console.log(e.map(function(){var e=Object(Nt.a)(Et.a.mark((function e(t){var n,a,r;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.file.arrayBuffer();case 2:n=e.sent,a=new Blob([n]),(r=new FileReader).onload=function(e){var t,n=(null===(t=e.target.result)||void 0===t?void 0:t.toString().split(","))[1].toString();I({SecondaryLogo:n})},r.readAsDataURL(a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),t.forEach((function(e){return e.remove()}))},classNames:{inputLabelWithFiles:bO.defaultClassNames.inputLabel},submitButtonContent:"Enviar",maxFiles:1,inputContent:"Subir logo secundario",inputWithFilesContent:function(e){return"".concat(1-e.length," more")},submitButtonDisabled:function(e){return e.length<1},styles:{dropzone:{minHeight:"6vh",maxHeight:"10vh"}}})]})]})]})})})})})};var hO=function(e){var t=Object(c.c)((function(e){return e.user})),n=Object(c.c)((function(e){return e.company})),r=Object(c.c)((function(e){var t;return null===(t=e.company)||void 0===t?void 0:t.company})),o=Object(c.c)((function(e){var t;return null===(t=e.calculadoraTransferencias)||void 0===t?void 0:t.calculadoraTransferencias})),i=Object(c.c)((function(e){var t;return null===(t=e.email)||void 0===t?void 0:t.email})),l=Object(c.c)((function(e){return e.enlace})),s=Object(c.c)((function(e){return e.sharedUtils.isChanged})),u=Lr().isLarge,b=Object(a.useState)(!1),p=Object(Ge.a)(b,2),j=p[0],m=p[1],h=Object(Zp.a)(),O=(h.register,h.handleSubmit),f=Object(a.useRef)({}),v=Object(c.b)();Object(a.useEffect)((function(){function e(){return(e=Object(Nt.a)(Et.a.mark((function e(){return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var g=function(){var a=Object(Nt.a)(Et.a.mark((function a(c){var s;return Et.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(m(!0),s=!1,(null===r||void 0===r?void 0:r.Id)||v(Rt(Object(d.a)(Object(d.a)({},r),{},{Id:0}))),!(null===r||void 0===r?void 0:r.Id)){a.next=9;break}return a.next=6,Cr(t.user,r,o,null===l||void 0===l?void 0:l.enlaces,n,i);case 6:s=a.sent,a.next=12;break;case 9:return a.next=11,xr(t.user,r,o,null===l||void 0===l?void 0:l.enlaces,n,i);case 11:s=a.sent;case 12:if(!s){a.next=30;break}return m(!1),no(e,!0),e.setShowForm(!1),localStorage.setItem("parentCompanyModulos",JSON.stringify(null===n||void 0===n?void 0:n.companyModulos)),a.t0=localStorage,a.t1=JSON,a.t2=v,a.t3=Kb,a.next=23,pr(null===t||void 0===t?void 0:t.user,parseInt(null===t||void 0===t?void 0:t.user.CompanyId));case 23:a.t4=a.sent,a.t5=(0,a.t3)(a.t4),a.t6=(0,a.t2)(a.t5).payload,a.t7=a.t1.stringify.call(a.t1,a.t6),a.t0.setItem.call(a.t0,"parentEnlaces",a.t7),a.next=31;break;case 30:m(!1);case 31:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();function x(e){var t="";if(null===l||void 0===l?void 0:l.enlaces)null===l||void 0===l||l.enlaces.map((function(n){n.CodigoTipoEnlace==e&&(t=n.EnlaceValue)}));return t}var y,C=Object(a.useRef)(null);return e.showForm||null!=C&&(null===(y=C.current)||void 0===y||y.instance.resetValues()),Object(po.jsx)(po.Fragment,{children:Object(po.jsx)("div",{className:"content-block responsive-paddings",style:{borderColor:"#f4f9ff",borderWidth:"2px",margin:"0.6%"},children:Object(po.jsx)("div",{className:"form",children:Object(po.jsx)("form",{className:"legalForm",onSubmit:O(g),style:{width:"100%"},children:Object(po.jsxs)(bo.Form,{formData:f.current,disabled:j,ref:C,labelLocation:u?"left":"top",validationGroup:"enlacesData",children:[Object(po.jsxs)(rs.Item,{dataField:"linkLegal",editorType:"dxTextBox",editorOptions:{disabled:!1,stylingMode:"filled",placeholder:"Link a Legal",value:x("Legal"),mode:"text",onValueChanged:function(e){if(e.event){var t,a,r=null===l||void 0===l||null===(t=l.enlaces)||void 0===t?void 0:t.find((function(e){var t;return 1==e.IdTipoEnlace&&e.IdCompany==(null===n||void 0===n||null===(t=n.company)||void 0===t?void 0:t.Id)}));if(void 0==r){var o;r={Id:0,IdCompany:null===n||void 0===n||null===(o=n.company)||void 0===o?void 0:o.Id,IdTipoEnlace:1,EnlaceValue:e.value,CodigoTipoEnlace:"Legal"}}else{var i=null===l||void 0===l?void 0:l.enlaces.indexOf(r);(r=r).EnlaceValue=e.value,null===l||void 0===l||l.enlaces.splice(i,1)}null===l||void 0===l||null===(a=l.enlaces)||void 0===a||a.push(r),v(Xb(null===l||void 0===l?void 0:l.enlaces)),s||v(sh(!0))}}},children:[Object(po.jsx)(rs.RequiredRule,{message:"El campo es requerido"}),Object(po.jsx)(rs.PatternRule,{message:"Debe introducir una URL. ex: https://www.ejemplo.es ",pattern:"https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)"}),Object(po.jsx)(rs.Label,{visible:!0,text:"Link a Legal"})]}),Object(po.jsxs)(rs.Item,{dataField:"linkPrivacidadCookies",editorType:"dxTextBox",editorOptions:{disabled:!1,stylingMode:"filled",placeholder:"Link a t\xe9rminos de privacidad y cookies",value:x("Cookies"),mode:"text",onValueChanged:function(e){if(e.event){var t,a,r=null===l||void 0===l||null===(t=l.enlaces)||void 0===t?void 0:t.find((function(e){var t;return 2==e.IdTipoEnlace&&e.IdCompany==(null===n||void 0===n||null===(t=n.company)||void 0===t?void 0:t.Id)}));if(void 0==r){var o;r={Id:0,IdCompany:null===n||void 0===n||null===(o=n.company)||void 0===o?void 0:o.Id,IdTipoEnlace:2,EnlaceValue:e.value,CodigoTipoEnlace:"Cookies"}}else{var i=null===l||void 0===l?void 0:l.enlaces.indexOf(r);r=r,""==e.value?(r.EnlaceValue=e.previousValue,r.CodigoTipoEnlace="Cookies"):(r.EnlaceValue=e.value,r.CodigoTipoEnlace="Cookies"),null===l||void 0===l||l.enlaces.splice(i,1)}null===l||void 0===l||null===(a=l.enlaces)||void 0===a||a.push(r),v(Xb(null===l||void 0===l?void 0:l.enlaces)),s||v(sh(!0))}}},children:[Object(po.jsx)(rs.RequiredRule,{message:"El campo es requerido"}),Object(po.jsx)(rs.PatternRule,{message:"Debe introducir una URL. ex: https://www.ejemplo.es ",pattern:"https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)"}),Object(po.jsx)(rs.Label,{visible:!0,text:"Link a t\xe9rminos de privacidad y cookies"})]}),Object(po.jsxs)(rs.Item,{dataField:"LinkRGPD",editorType:"dxTextBox",editorOptions:{disabled:!1,stylingMode:"filled",placeholder:"Link a RGPD",value:x("RGPD"),mode:"text",onValueChanged:function(e){if(e.event){var t,a,r=null===l||void 0===l||null===(t=l.enlaces)||void 0===t?void 0:t.find((function(e){var t;return 3==e.IdTipoEnlace&&e.IdCompany==(null===n||void 0===n||null===(t=n.company)||void 0===t?void 0:t.Id)}));if(void 0==r){var o;r={Id:0,IdCompany:null===n||void 0===n||null===(o=n.company)||void 0===o?void 0:o.Id,IdTipoEnlace:3,EnlaceValue:e.value,CodigoTipoEnlace:"RGPD"}}else{var i=null===l||void 0===l?void 0:l.enlaces.indexOf(r);(r=r).EnlaceValue=e.value,null===l||void 0===l||l.enlaces.splice(i,1)}null===l||void 0===l||null===(a=l.enlaces)||void 0===a||a.push(r),v(Xb(null===l||void 0===l?void 0:l.enlaces)),s||v(sh(!0))}}},children:[Object(po.jsx)(rs.RequiredRule,{message:"El campo es requerido"}),Object(po.jsx)(rs.PatternRule,{message:"Debe introducir una URL. ex: https://www.ejemplo.es ",pattern:"https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)"}),Object(po.jsx)(rs.Label,{visible:!0,text:"Link a RGPD"})]})]})})})})})},OO=function(e){return{type:fe,payload:e}};var fO=function(e){var t=Object(c.c)((function(e){var t;return null===(t=e.calculadoraTransferencias)||void 0===t?void 0:t.calculadoraTransferencias})),n=Object(c.c)((function(e){return e.user})),r=Object(c.c)((function(e){var t;return null===(t=e.company)||void 0===t?void 0:t.company})),o=Object(c.c)((function(e){return e.company})),i=Object(c.c)((function(e){var t;return null===(t=e.email)||void 0===t?void 0:t.email})),l=Object(c.c)((function(e){return e.enlace})),s=Object(c.c)((function(e){return e.sharedUtils.isChanged})),u=Object(a.useState)(!1),b=Object(Ge.a)(u,2),p=b[0],j=b[1],m=Object(a.useRef)({}),h=Object(c.b)(),O=Object(Zp.a)(),f=(O.register,O.handleSubmit);Object(a.useEffect)((function(){function e(){return(e=Object(Nt.a)(Et.a.mark((function e(){return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[e.showForm]);var v,g=function(){var a=Object(Nt.a)(Et.a.mark((function a(c){var s;return Et.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(j(!0),s=!1,(null===r||void 0===r?void 0:r.Id)||h(Rt(Object(d.a)(Object(d.a)({},r),{},{Id:0}))),!(null===r||void 0===r?void 0:r.Id)){a.next=9;break}return a.next=6,Cr(n.user,r,t,null===l||void 0===l?void 0:l.enlaces,o,i);case 6:s=a.sent,a.next=12;break;case 9:return a.next=11,xr(n.user,r,t,null===l||void 0===l?void 0:l.enlaces,o,i);case 11:s=a.sent;case 12:if(!s){a.next=30;break}return j(!1),no(e,!0),e.setShowForm(!1),localStorage.setItem("parentCompanyModulos",JSON.stringify(null===o||void 0===o?void 0:o.companyModulos)),a.t0=localStorage,a.t1=JSON,a.t2=h,a.t3=Kb,a.next=23,pr(null===n||void 0===n?void 0:n.user,parseInt(null===n||void 0===n?void 0:n.user.CompanyId));case 23:a.t4=a.sent,a.t5=(0,a.t3)(a.t4),a.t6=(0,a.t2)(a.t5).payload,a.t7=a.t1.stringify.call(a.t1,a.t6),a.t0.setItem.call(a.t0,"parentEnlaces",a.t7),a.next=31;break;case 30:j(!1);case 31:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),x=function(e){h(OO(Object(d.a)(Object(d.a)({},t),e)))},y=Object(a.useRef)(null);return e.showForm||null!=y&&(null===(v=y.current)||void 0===v||v.instance.resetValues()),Object(po.jsxs)(po.Fragment,{children:[" ",Object(po.jsx)("div",{className:"content-block responsive-paddings",style:{borderColor:"#f4f9ff",borderWidth:"2px",margin:"0.6%"},children:Object(po.jsx)("div",{className:"form",children:Object(po.jsx)("form",{className:"calculadoraForm",onSubmit:f(g),style:{width:"100%"},children:Object(po.jsxs)(bo.Form,{formData:m.current,ref:y,disabled:p,labelLocation:Object(zt.checkScreenSize)()?"left":"top",validationGroup:"calculadoraData",children:[Object(po.jsxs)(rs.Item,{dataField:"CuotaTurismos",editorType:"dxNumberBox",editorOptions:{stylingMode:"filled",format:{style:"currency",currency:"EUR",useGrouping:!0},placeholder:"Cuota de turismos/todoterrenos/comerciales (Ej. 21,60)",value:(null===t||void 0===t?void 0:t.CuotaTurismos)?null===t||void 0===t?void 0:t.CuotaTurismos:null,onValueChanged:function(e){e.event&&(x({CuotaTurismos:e.value}),s||h(sh(!0)))}},children:[Object(po.jsx)(rs.RequiredRule,{message:"El campo es requerido"}),Object(po.jsx)(rs.NumericRule,{message:"El Campo debe ser num\xe9rico"}),Object(po.jsx)(rs.Label,{visible:!0,text:"Cuota Coches"})]}),Object(po.jsxs)(rs.Item,{dataField:"CuotaMotocicletas",editorType:"dxNumberBox",editorOptions:{stylingMode:"filled",format:{style:"currency",currency:"EUR",useGrouping:!0},placeholder:"Cuota de motocicletas/ciclomotores/quads (Ej. 21,60)",value:(null===t||void 0===t?void 0:t.CuotaTurismos)?t.CuotaMotocicletas:null,onValueChanged:function(e){e.event&&(x({CuotaMotocicletas:e.value}),s||h(sh(!0)))}},children:[Object(po.jsx)(rs.RequiredRule,{message:"El campo es requerido"}),Object(po.jsx)(rs.NumericRule,{message:"El Campo debe ser num\xe9rico"}),Object(po.jsx)(rs.Label,{visible:!0})]}),Object(po.jsx)(rs.Item,{dataField:"Mensaje",editorType:"dxTextBox",editorOptions:{stylingMode:"filled",placeholder:"Mensaje de responsabilidad legal",value:(null===t||void 0===t?void 0:t.Mensaje)?null===t||void 0===t?void 0:t.Mensaje:"",onValueChanged:function(e){e.event&&(x({Mensaje:e.value}),s||h(sh(!0)))}},children:Object(po.jsx)(rs.Label,{visible:!0,text:"Mensaje Legal"})})]})})})})]})},vO=function(e){return{type:xe,payload:e}};var gO=function(e){var t=Object(c.c)((function(e){var t;return null===(t=e.email)||void 0===t?void 0:t.email})),n=Object(c.c)((function(e){return e.user})),r=Object(c.c)((function(e){var t;return null===(t=e.company)||void 0===t?void 0:t.company})),o=Object(c.c)((function(e){return e.company})),i=Object(c.c)((function(e){var t;return null===(t=e.calculadoraTransferencias)||void 0===t?void 0:t.calculadoraTransferencias})),l=Object(c.c)((function(e){return e.enlace})),s=Object(c.c)((function(e){return e.sharedUtils.isChanged})),u=Object(a.useState)(!1),b=Object(Ge.a)(u,2),p=b[0],j=b[1],m=Object(a.useRef)({}),h=Object(c.b)(),O=Lr().isLarge,f=Object(Zp.a)(),v=(f.register,f.handleSubmit);Object(a.useEffect)((function(){function e(){return(e=Object(Nt.a)(Et.a.mark((function e(){return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var g=function(){var a=Object(Nt.a)(Et.a.mark((function a(c){var s;return Et.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(j(!0),s=!1,(null===r||void 0===r?void 0:r.Id)||h(Rt(Object(d.a)(Object(d.a)({},r),{},{Id:0}))),!(null===r||void 0===r?void 0:r.Id)){a.next=9;break}return a.next=6,Cr(n.user,r,i,null===l||void 0===l?void 0:l.enlaces,o,t);case 6:s=a.sent,a.next=12;break;case 9:return a.next=11,xr(n.user,r,i,null===l||void 0===l?void 0:l.enlaces,o,t);case 11:s=a.sent;case 12:if(!s){a.next=30;break}return j(!1),no(e,!0),e.setShowForm(!1),localStorage.setItem("parentCompanyModulos",JSON.stringify(null===o||void 0===o?void 0:o.companyModulos)),a.t0=localStorage,a.t1=JSON,a.t2=h,a.t3=Kb,a.next=23,pr(null===n||void 0===n?void 0:n.user,parseInt(null===n||void 0===n?void 0:n.user.CompanyId));case 23:a.t4=a.sent,a.t5=(0,a.t3)(a.t4),a.t6=(0,a.t2)(a.t5).payload,a.t7=a.t1.stringify.call(a.t1,a.t6),a.t0.setItem.call(a.t0,"parentEnlaces",a.t7),a.next=31;break;case 30:j(!1);case 31:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),x=function(e){h(vO(Object(d.a)(Object(d.a)({},t),e)))},y=Object(a.useRef)(null);return e.showForm||y.current.instance.repaint(),Object(po.jsxs)(po.Fragment,{children:[" ",Object(po.jsx)("div",{className:"content-block responsive-paddings",style:{borderColor:"#f4f9ff",borderWidth:"2px",margin:"0.6%"},children:Object(po.jsx)("div",{className:"form",children:Object(po.jsx)("form",{className:"calculadoraForm",onSubmit:v(g),style:{width:"100%"},children:Object(po.jsxs)(bo.Form,{formData:m.current,disabled:p,ref:y,labelLocation:O?"left":"top",children:[Object(po.jsxs)(rs.Item,{dataField:"ServidorSMTP",editorType:"dxTextBox",editorOptions:{stylingMode:"filled",value:(null===t||void 0===t?void 0:t.ServidorSMTP)?null===t||void 0===t?void 0:t.ServidorSMTP:"",onValueChanged:function(e){e.event&&(x({ServidorSMTP:e.value}),s||h(sh(!0)))}},children:[Object(po.jsx)(rs.RequiredRule,{message:"El campo es requerido"}),Object(po.jsx)(rs.Label,{visible:!0,text:"Servidor SMTP"})]}),Object(po.jsxs)(rs.Item,{dataField:"PuertoSMTP",editorType:"dxNumberBox",editorOptions:{stylingMode:"filled",value:(null===t||void 0===t?void 0:t.PuertoSMTP)?t.PuertoSMTP:"",onValueChanged:function(e){e.event&&(x({PuertoSMTP:e.value}),s||h(sh(!0)))}},children:[Object(po.jsx)(rs.RequiredRule,{message:"El campo es requerido"}),Object(po.jsx)(rs.NumericRule,{message:"El Campo debe ser num\xe9rico"}),Object(po.jsx)(rs.Label,{visible:!0,text:"Puerto SMTP"})]}),Object(po.jsx)(rs.Item,{dataField:"UsaSSL",editorType:"dxCheckBox",editorOptions:{stylingMode:"filled",value:(null===t||void 0===t?void 0:t.UsaSSL)?null===t||void 0===t?void 0:t.UsaSSL:"",onValueChanged:function(e){e.event&&(x({UsaSSL:e.value}),s||h(sh(!0)))}},children:Object(po.jsx)(rs.Label,{visible:!0,text:"Usar SSL"})}),Object(po.jsxs)(rs.Item,{dataField:"NombreMostrar",editorType:"dxTextBox",editorOptions:{stylingMode:"filled",value:(null===t||void 0===t?void 0:t.NombreMostrar)?null===t||void 0===t?void 0:t.NombreMostrar:"",onValueChanged:function(e){e.event&&(x({NombreMostrar:e.value}),s||h(sh(!0)))}},children:[Object(po.jsx)(rs.RequiredRule,{message:"El campo es requerido"}),Object(po.jsx)(rs.Label,{visible:!0,text:"Nombre a Mostrar"})]}),Object(po.jsxs)(rs.Item,{dataField:"DireccionEmail",editorType:"dxTextBox",editorOptions:{stylingMode:"filled",mode:"email",value:(null===t||void 0===t?void 0:t.DireccionEmail)?null===t||void 0===t?void 0:t.DireccionEmail:"",onValueChanged:function(e){e.event&&(x({DireccionEmail:e.value}),s||h(sh(!0)))}},children:[Object(po.jsx)(rs.RequiredRule,{message:"El campo es requerido"}),Object(po.jsx)(rs.EmailRule,{message:"Debe introducir un email con un formato correcto"}),Object(po.jsx)(rs.Label,{visible:!0,text:"Direcci\xf3n de Email"})]}),Object(po.jsxs)(rs.Item,{dataField:"UsuarioEmail",editorType:"dxTextBox",editorOptions:{stylingMode:"filled",value:(null===t||void 0===t?void 0:t.UsuarioEmail)?null===t||void 0===t?void 0:t.UsuarioEmail:"",onValueChanged:function(e){e.event&&(x({UsuarioEmail:e.value}),s||h(sh(!0)))}},children:[Object(po.jsx)(rs.RequiredRule,{message:"El campo es requerido"}),Object(po.jsx)(rs.Label,{visible:!0,text:"Usuario Email"})]}),Object(po.jsxs)(rs.Item,{dataField:"PasswordEmail",editorType:"dxTextBox",editorOptions:{stylingMode:"filled",mode:"password",value:(null===t||void 0===t?void 0:t.PasswordEmail)?null===t||void 0===t?void 0:t.PasswordEmail:"",onValueChanged:function(e){e.event&&(x({PasswordEmail:e.value}),s||h(sh(!0)))}},children:[Object(po.jsx)(rs.RequiredRule,{message:"El campo es requerido"}),Object(po.jsx)(rs.Label,{visible:!0,text:"Contrase\xf1a"})]})]})})})})]})},xO=n(226),yO=n.n(xO);n(2807);var CO=function(e){var t=Object(c.b)(),n=Object(c.c)((function(e){return e.modulo})),r=Object(c.c)((function(e){return e.company})),o=Object(c.c)((function(e){return e.user})),i=(Object(c.c)((function(e){var t;return null===(t=e.company)||void 0===t?void 0:t.company})),Object(c.c)((function(e){var t;return null===(t=e.calculadoraTransferencias)||void 0===t?void 0:t.calculadoraTransferencias})),Object(c.c)((function(e){var t;return null===(t=e.email)||void 0===t?void 0:t.email})),Object(c.c)((function(e){return e.enlace})),Object(c.c)((function(e){return e.sharedUtils.isChanged})),Object(a.useState)([])),l=Object(Ge.a)(i,2),s=l[0],u=l[1],d=Object(a.useState)([{}]),b=Object(Ge.a)(d,2),p=b[0],j=b[1],m=Object(a.useState)(!1),h=Object(Ge.a)(m,2),O=(h[0],h[1],Lr().isLarge,Object(a.useRef)({}),Object(Zp.a)());O.register,O.handleSubmit,Object(a.useMemo)((function(){!function(){u([]);try{var e;if(null===r||void 0===r?void 0:r.companyModulos)u(null===r||void 0===r||null===(e=r.companyModulos)||void 0===e?void 0:e.map((function(e){return e.IdModulo})));else u([]);if(n.modulos){var t=[];n.modulos.Datos.map((function(e){return t.push({id:e.Id,text:e.Nombre})})),j(t)}!0}catch(a){console.error(a)}}()}),[e.showForm]);var f=new yO.a({key:"id",data:p}),v=Object(a.useRef)(null);return e.showForm||null!=v.current.current&&u([]),Object(po.jsx)(po.Fragment,{children:Object(po.jsx)(po.Fragment,{children:Object(po.jsx)("div",{className:"content-block dx-card responsive-paddings",style:{borderColor:"#f4f9ff",borderWidth:"2px",margin:"0.6%"},children:Object(po.jsx)(bo.List,{dataSource:f,ref:v,height:"100%",showSelectionControls:!0,selectionMode:"all",selectAllMode:"allPages",disabled:!io(o.user),selectedItemKeys:s,elementAttr:{id:"companyModulosList"},onOptionChanged:function(e){"selectedItemKeys"==e.name&&JSON.stringify(e.value)!=JSON.stringify(e.previousValue)&&(io(o.user)?(u(e.previousValue),function(e){var a=[];null===e||void 0===e||e.map((function(e){var t,o,i;return a.push({IdCompany:null===r||void 0===r||null===(t=r.company)||void 0===t?void 0:t.Id,IdModulo:e,Nombre:null===n||void 0===n||null===(o=n.modulos)||void 0===o||null===(i=o.Datos.find((function(t){return t.Id==e})))||void 0===i?void 0:i.Nombre})})),t(Dt(a))}(e.previousValue)):Wr("No se pueden actualizar los m\xf3dulos contratados, por favor ponte en contacto con tu proovedor",Gr.error,3e3))}})})})})};var wO=function(e){Object(_e.g)(),r.a.useReducer((function(){return{}}),{})[1];var t=Object(c.c)((function(e){return e.user})),n=Object(c.c)((function(e){var t;return null===(t=e.company)||void 0===t?void 0:t.company})),o=Object(c.c)((function(e){return e.company})),i=Object(c.c)((function(e){var t;return null===(t=e.calculadoraTransferencias)||void 0===t?void 0:t.calculadoraTransferencias})),l=Object(c.c)((function(e){var t;return null===(t=e.email)||void 0===t?void 0:t.email})),s=Object(c.c)((function(e){return e.enlace})),u=Object(c.c)((function(e){return e.sharedUtils.isChanged})),b=(Lr().isLarge,Object(a.useState)(!1)),p=Object(Ge.a)(b,2),j=(p[0],p[1]),m=Object(a.useState)("NIF"),h=Object(Ge.a)(m,2),O=(h[0],h[1],Object(a.useRef)({}),Object(c.b)()),f=Object(Zp.a)(),v=(f.register,f.handleSubmit),g=function(){var t=Object(Hp.custom)({title:"",messageHtml:"<b>Para conservar los cambios antes pulsar Guardar, Si continua perder\xe1 todos los datos cambiados</b>",buttons:[{text:"Continuar",onClick:function(n){O(Rt(new Ga)),e.setShowForm(!1),t.hide()}},{text:"Cancelar",onClick:function(n){e.setShowForm(!0),t.hide()}}]});u&&t.show().then((function(e){console.log(e)})),O(Dt(void 0)),e.setShowForm(!1)},x=function(){var a=Object(Nt.a)(Et.a.mark((function a(r){var c;return Et.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(j(!0),O(Pl(!0)),c=!1,(null===n||void 0===n?void 0:n.Id)||O(Rt(Object(d.a)(Object(d.a)({},n),{},{Id:0}))),!(null===n||void 0===n?void 0:n.Id)){a.next=10;break}return a.next=7,Cr(t.user,n,i,null===s||void 0===s?void 0:s.enlaces,o,l);case 7:c=a.sent,a.next=13;break;case 10:return a.next=12,xr(t.user,n,i,null===s||void 0===s?void 0:s.enlaces,o,l);case 12:c=a.sent;case 13:if(!c){a.next=31;break}return j(!1),no(e,!0),e.setShowForm(!1),localStorage.setItem("parentCompanyModulos",JSON.stringify(null===o||void 0===o?void 0:o.companyModulos)),a.t0=localStorage,a.t1=JSON,a.t2=O,a.t3=Kb,a.next=24,pr(null===t||void 0===t?void 0:t.user,parseInt(null===t||void 0===t?void 0:t.user.CompanyId));case 24:a.t4=a.sent,a.t5=(0,a.t3)(a.t4),a.t6=(0,a.t2)(a.t5).payload,a.t7=a.t1.stringify.call(a.t1,a.t6),a.t0.setItem.call(a.t0,"parentEnlaces",a.t7),a.next=33;break;case 31:j(!1),O(Tl(!1));case 33:O(Tl(!1));case 34:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),y=Object(a.useRef)(null),C=Object(a.useRef)(null);return Object(a.useEffect)((function(){function e(){return(e=Object(Nt.a)(Et.a.mark((function e(){return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("RENDER()");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),e.showForm,Object(po.jsx)(r.a.Fragment,{children:Object(po.jsx)(po.Fragment,{children:Object(po.jsx)("div",{className:"content-block responsive-paddings",id:e.id,children:Object(po.jsx)(Ve.a,{align:"center",crossAlign:"stretch",style:{alignItems:"center"},children:Object(po.jsx)(Ue.Item,{ratio:"1",children:Object(po.jsx)("form",{className:"legalForm",onSubmit:v(x),encType:"multipart/form-data",style:{width:"100%"},children:Object(po.jsxs)(os.a,{ref:y,id:"tabs",children:[Object(po.jsxs)(rs.TabbedItem,{ref:C,children:[Object(po.jsx)(rs.Tab,{title:"Datos principales",children:Object(po.jsx)(Ve.a,{direction:"col",width:"100%",children:Object(po.jsx)(Ue.Item,{ratio:"0",baseSize:"120%",children:Object(po.jsx)(mO,{row:e.rowSelected,setShowForm:e.setShowForm,showForm:e.showForm,companyTabRef:y})})})}),Object(po.jsx)(rs.Tab,{title:"Configuraci\xf3n Calculadora",children:Object(po.jsx)(Ve.a,{direction:"row",width:"100%",children:Object(po.jsx)(Ue.Item,{ratio:"0",baseSize:"120%",children:Object(po.jsx)(fO,{row:e.rowSelected,setShowForm:e.setShowForm,showForm:e.showForm,companyTabRef:y})})})}),Object(po.jsx)(rs.Tab,{title:"Enlaces",children:Object(po.jsx)(Ve.a,{direction:"row",width:"100%",children:Object(po.jsx)(Ue.Item,{ratio:"0",baseSize:"120%",children:Object(po.jsx)(hO,{row:e.rowSelected,setShowForm:e.setShowForm,showForm:e.showForm,companyTabRef:y})})})}),Object(po.jsx)(rs.Tab,{title:"Email",children:Object(po.jsx)(Ve.a,{direction:"row",width:"100%",children:Object(po.jsx)(Ue.Item,{ratio:"0",baseSize:"120%",children:Object(po.jsx)(gO,{row:e.rowSelected,setShowForm:e.setShowForm,showForm:e.showForm,companyTabRef:C})})})}),Object(po.jsx)(rs.Tab,{title:"Modulos",children:Object(po.jsx)(Ve.a,{direction:"row",width:"100%",children:Object(po.jsx)(Ue.Item,{ratio:"0",baseSize:"120%",children:Object(po.jsx)(CO,{row:e.rowSelected,setShowForm:e.setShowForm,showForm:e.showForm,companyTabRef:y})})})})]}),Object(po.jsx)(rs.SimpleItem,{render:function(){return uh("companyData",g)}})]})})})})})})})};var IO=function(){var e=Object(c.b)(),t=Object(c.c)((function(e){return e.user})),n=Object(a.useState)(new qa),r=Object(Ge.a)(n,2),o=r[0],i=r[1],l=Object(c.c)((function(e){return e.sharedUtils.isChanged})),s=Object(a.useState)(""),u=Object(Ge.a)(s,2),d=u[0],b=u[1],p=Object(a.useState)(!1),j=Object(Ge.a)(p,2),m=j[0],h=j[1],O=Object(a.useState)(0),f=Object(Ge.a)(O,2),v=f[0],g=f[1],x=Object(_e.g)(),y=Object(a.useRef)(null),C=(Object(c.c)((function(e){var t;return null===(t=e.company)||void 0===t?void 0:t.parentCompany})),Lr()),w=(C.isXSmall,C.isSmall,C.isMedium,C.isLarge,Dr());Object(a.useEffect)((function(){function n(){return(n=Object(Nt.a)(Et.a.mark((function n(){var a;return Et.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,localStorage.removeItem("storage"),n.t0=e,n.t1=_m,n.next=6,Wm(t.user);case 6:return n.t2=n.sent,n.t3=(0,n.t1)(n.t2),n.next=10,(0,n.t0)(n.t3);case 10:return n.t4=i,n.next=13,Er(t.user);case 13:return n.t5=n.sent,(0,n.t4)(n.t5),n.next=17,e(Tl(!1));case 17:return n.t6=e,n.t7=Lt,n.next=21,vr(t.user,parseInt(null===(a=t.user)||void 0===a?void 0:a.CompanyId));case 21:n.t8=n.sent,n.t9=(0,n.t7)(n.t8),(0,n.t6)(n.t9),n.next=29;break;case 26:n.prev=26,n.t10=n.catch(0),console.error(n.t10);case 29:case"end":return n.stop()}}),n,null,[[0,26]])})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[]);var I=function(){var n=Object(Nt.a)(Et.a.mark((function n(){return Et.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:io(t.user)?(e(Rt(new Ga)),e(Xb([])),e(OO(new er)),e(vO(new or)),e(sh(!1)),h(!m)):Wr("Solo los administradores propietarios de la aplicaci\xf3n pueden crear nuevas gestor\xedas",Gr.info,5e3);case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(po.jsx)(po.Fragment,{children:oo(t.user,ro.ADMINISTRACION,[ao.VIEW])?Object(po.jsxs)("div",{className:"content-block dx-card",style:{borderColor:"#f4f9ff",borderWidth:"2px",margin:"0.3%",padding:"0.16%"},children:[Object(po.jsx)("h3",{style:{margin:0,padding:0},children:"Gestor\xedas"}),void 0!=(null===o||void 0===o?void 0:o.Campos)&&(null===o||void 0===o?void 0:o.Campos.length)>0?Object(po.jsx)(Vm.a,{dataGridModel:function(){var n=new qe.ButtonColumnModel({text:"",icon:"edit",hint:"Editar",cellRender:function(){var n=Object(Nt.a)(Et.a.mark((function n(a){return Et.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e(Pl(!0)),g(a.data),n.t0=e,n.t1=Rt,n.next=6,vr(t.user,a.data.Id);case 6:return n.t2=n.sent,n.t3=(0,n.t1)(n.t2),(0,n.t0)(n.t3),n.t4=e,n.t5=OO,n.next=13,nr(null===t||void 0===t?void 0:t.user,a.data.Id);case 13:return n.t6=n.sent,n.t7=(0,n.t5)(n.t6),(0,n.t4)(n.t7),n.t8=e,n.t9=Xb,n.next=20,pr(t.user,a.data.Id);case 20:return n.t10=n.sent,n.t11=(0,n.t9)(n.t10),(0,n.t8)(n.t11),n.t12=e,n.t13=vO,n.next=27,cr(t.user,a.data.Id);case 27:return n.t14=n.sent,n.t15=(0,n.t13)(n.t14),(0,n.t12)(n.t15),n.t16=e,n.t17=Dt,n.next=34,Pr(t.user,a.data.Id);case 34:n.t18=n.sent,n.t19=(0,n.t17)(n.t18),(0,n.t16)(n.t19),e(sh(!1)),h(!m),e(Pl(!1));case 40:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}),a=new qe.ButtonColumnModel({text:"",icon:"trash",hint:"Eliminar",cellRender:function(){var e=Object(Nt.a)(Et.a.mark((function e(n){return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(n.data),Object(Hp.confirm)("<i>\xbfEst\xe1 seguro de que quiere eliminar esta gestar\xeda por completo?</i>","Confirma los cambios").then(function(){var e=Object(Nt.a)(Et.a.mark((function e(a){return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=7;break}return e.next=3,Ir(t.user,n.data.Id);case 3:document.getElementsByClassName("dx-icon dx-icon-refresh")[0].click(),e.next=7;break;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()});return new qe.DataGridModel({dataGridName:"companyGridComponent",height:w,rowFocused:d,columns:o.Campos,ref:y,openRow:function(e){Object(Db.a)(e)},openRowEnterKey:function(e){Object(Db.a)(e)},focusEventChanged:function(e){e.row&&b(e.row.key)},focusEventChanging:function(e){Object(Db.a)(e)},openCreatePopup:I,user:t.user,url:"".concat("http://localhost:9606","/Companies/Grid/FilterGroup"),urlAux:"".concat("http://localhost:9606","/Companies/Grid"),buttonsColumns:[n,a],filterRow:!0,filterPanel:!0,columnChooser:!0,headerFilter:!1,exportData:!0,showSearchPanel:!0,showToolbar:!0,history:x,singularName:"Compa\xf1ia",pluralName:"Compa\xf1ias",pageName:"Compa\xf1ia",openedPopup:m})}()}):null,Object(po.jsxs)(Sl.Popup,{visible:m,onHiding:function(t){l?Object(Hp.confirm)("<i>\xbfSalir sin guardar?</i>","Confirma los cambios").then((function(e){h(!e)})):e(sh(!1)),h(!m)},dragEnabled:!0,closeOnOutsideClick:!1,showTitle:!0,title:"Gestor\xedas",width:"95%",height:"95%",showCloseButton:!1,children:[Object(po.jsx)(Sl.ToolbarItem,{widget:"dxButton",toolbar:"top",location:"after",options:{text:"",icon:"close",onClick:function(){if(l){var t=Object(Hp.custom)({title:"",messageHtml:"<b>Para conservar los cambios antes pulsar Guardar, Si continua perder\xe1 todos los datos cambiados</b>",buttons:[{text:"Continuar",onClick:function(n){h(!1),e(Rt(new Ga)),t.hide()}},{text:"Cancelar",onClick:function(e){t.hide()}}]});t.show().then((function(e){console.log(e)}))}else h(!1),e(Rt(new Ga))}}}),Object(po.jsx)(Nl.a,{width:"100%",height:"100%",children:Object(po.jsx)(wO,{row:v,setShowForm:h,showForm:m,id:"popupCompany"})})]})]}):Object(po.jsx)("div",{className:"content-block dx-card responsive-paddings",style:{borderColor:"#f4f9ff",borderWidth:"2px",margin:"0.6%"},children:Object(po.jsx)(Cl,{data:{type:1}})})})};var SO,EO,NO,PO,TO,kO,RO,LO,DO,MO,AO,FO,JO,zO,UO,VO,_O,GO,BO,WO,qO,HO,ZO,KO,XO,YO,QO,$O,ef,tf,nf,af,rf,of,cf,lf,sf,uf,df,bf,pf,jf,mf,hf,Of,ff,vf,gf,xf,yf,Cf,wf,If,Sf,Ef,Nf,Pf,Tf,kf,Rf,Lf,Df,Mf,Af=function(){var e=Object(c.c)((function(e){return e.user})),t=Object(c.b)(),n=Object(_e.g)(),o=Object(Be.a)(),i=o.isLatestVersion,l=o.emptyCacheStorage,s=Object(a.useState)(!0),u=Object(Ge.a)(s,2);return u[0],u[1],Object(Aj.runInsights)(),!1===e.isLoggedIn&&Ze(0,0,t),Object(po.jsxs)(r.a.Fragment,{children:[!i&&l(),!1===e.isLoggedIn?n.push("/"):null,Object(po.jsx)(IO,{}),function(){}]})},Ff=(SO=Object(We.JsonObject)("UsuarioModel"),EO=Object(We.JsonProperty)("Id",Number,0),NO=Object(We.JsonProperty)("NombreUsuario",String),PO=Object(We.JsonProperty)("IdSujeto",Number),TO=Object(We.JsonProperty)("Email",String),kO=Object(We.JsonProperty)("IdIdioma",Number),RO=Object(We.JsonProperty)("IdTipoUsuario",Number),LO=Object(We.JsonProperty)("IdIdioma",Number),DO=Object(We.JsonProperty)("IdentificationNumber",String),MO=Object(We.JsonProperty)("Nombre",String),AO=Object(We.JsonProperty)("Apellidos",String),FO=Object(We.JsonProperty)("Telefono",String),JO=Object(We.JsonProperty)("Enabled",Boolean),zO=Object(We.JsonProperty)("AllowedChangePassword",Boolean),UO=Object(We.JsonProperty)("SujetoIndetification",String),VO=Object(We.JsonProperty)("IdRole",Number,0),_O=Object(We.JsonProperty)("Password",String),GO=Object(We.JsonProperty)("RolesTipoCuenta",[]),BO=Object(We.JsonProperty)("IdPerfil",Number,0),SO((qO=function e(){Object(Ct.a)(this,e),Object(yt.a)(this,"Id",HO,this),Object(yt.a)(this,"NombreUsuario",ZO,this),Object(yt.a)(this,"IdSujeto",KO,this),Object(yt.a)(this,"Email",XO,this),Object(yt.a)(this,"IdIdioma",YO,this),Object(yt.a)(this,"IdTipoUsuario",QO,this),Object(yt.a)(this,"FechaUltimoAcceso",$O,this),Object(yt.a)(this,"IdentificationNumber",ef,this),Object(yt.a)(this,"Nombre",tf,this),Object(yt.a)(this,"Apellidos",nf,this),Object(yt.a)(this,"Telefono",af,this),Object(yt.a)(this,"Enabled",rf,this),Object(yt.a)(this,"AllowedChangePassword",of,this),Object(yt.a)(this,"SujetoIndetification",cf,this),Object(yt.a)(this,"IdRole",lf,this),Object(yt.a)(this,"Password",sf,this),Object(yt.a)(this,"RolesTipoCuenta",uf,this),Object(yt.a)(this,"IdPerfil",df,this)},HO=Object(wt.a)(qO.prototype,"Id",[EO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ZO=Object(wt.a)(qO.prototype,"NombreUsuario",[NO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),KO=Object(wt.a)(qO.prototype,"IdSujeto",[PO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),XO=Object(wt.a)(qO.prototype,"Email",[TO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),YO=Object(wt.a)(qO.prototype,"IdIdioma",[kO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),QO=Object(wt.a)(qO.prototype,"IdTipoUsuario",[RO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),$O=Object(wt.a)(qO.prototype,"FechaUltimoAcceso",[LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ef=Object(wt.a)(qO.prototype,"IdentificationNumber",[DO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),tf=Object(wt.a)(qO.prototype,"Nombre",[MO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),nf=Object(wt.a)(qO.prototype,"Apellidos",[AO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),af=Object(wt.a)(qO.prototype,"Telefono",[FO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),rf=Object(wt.a)(qO.prototype,"Enabled",[JO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),of=Object(wt.a)(qO.prototype,"AllowedChangePassword",[zO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),cf=Object(wt.a)(qO.prototype,"SujetoIndetification",[UO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),lf=Object(wt.a)(qO.prototype,"IdRole",[VO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),sf=Object(wt.a)(qO.prototype,"Password",[_O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),uf=Object(wt.a)(qO.prototype,"RolesTipoCuenta",[GO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),df=Object(wt.a)(qO.prototype,"IdPerfil",[BO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),WO=qO))||WO),Jf=(bf=Object(We.JsonObject)("UsuarioModelGrid"),pf=Object(We.JsonProperty)("Id",Number,0),jf=Object(We.JsonProperty)("NombreUsuario",String),mf=Object(We.JsonProperty)("Email",String),hf=Object(We.JsonProperty)("IdentificationNumber",String),Of=Object(We.JsonProperty)("Nombre",String),ff=Object(We.JsonProperty)("Apellidos",String),vf=Object(We.JsonProperty)("Telefono",String),bf((xf=function e(){Object(Ct.a)(this,e),Object(yt.a)(this,"Id",yf,this),Object(yt.a)(this,"NombreUsuario",Cf,this),Object(yt.a)(this,"Email",wf,this),Object(yt.a)(this,"IdentificationNumber",If,this),Object(yt.a)(this,"Nombre",Sf,this),Object(yt.a)(this,"Apellidos",Ef,this),Object(yt.a)(this,"Telefono",Nf,this)},yf=Object(wt.a)(xf.prototype,"Id",[pf],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Cf=Object(wt.a)(xf.prototype,"NombreUsuario",[jf],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),wf=Object(wt.a)(xf.prototype,"Email",[mf],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),If=Object(wt.a)(xf.prototype,"IdentificationNumber",[hf],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Sf=Object(wt.a)(xf.prototype,"Nombre",[Of],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ef=Object(wt.a)(xf.prototype,"Apellidos",[ff],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Nf=Object(wt.a)(xf.prototype,"Telefono",[vf],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),gf=xf))||gf),zf=(Pf=Object(We.JsonObject)("UsuarioCampoDatoModel"),Tf=Object(We.JsonProperty)("Campos",[qe.ColumnModel]||!1),kf=Object(We.JsonProperty)("Datos",[Jf]||!1),Pf((Lf=function e(){Object(Ct.a)(this,e),Object(yt.a)(this,"Campos",Df,this),Object(yt.a)(this,"Datos",Mf,this)},Df=Object(wt.a)(Lf.prototype,"Campos",[Tf],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Mf=Object(wt.a)(Lf.prototype,"Datos",[kf],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Rf=Lf))||Rf),Uf="UsuarioService";function Vf(e,t){return _f.apply(this,arguments)}function _f(){return(_f=Object(Nt.a)(Et.a.mark((function e(t,n){var a,r,o;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,r="".concat("http://localhost:9606","/usuario/").concat(n),o=new Ff,e.next=6,Ft()({url:r,method:zt.methodsEndPointType.GET,headers:Object(Jt.authHeader)(t)}).then((function(e){Object(zt.checkStatusCode)(e.status),(o=a.deserializeObject(e.data.Datos[0],Ff)).Enabled=!o.Enabled})).catch((function(e){Object(zt.customLog)(null,zt.logType.ERROR,Uf,Vf.name,zt.methodsEndPointType.GET),Wr("No se ha podido obtener el usuario.",Gr.error,5e3),Object(zt.checkStatusCode)(e.request.status)}));case 6:return e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gf(e,t){return Bf.apply(this,arguments)}function Bf(){return(Bf=Object(Nt.a)(Et.a.mark((function e(t,n){var a,r,o;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(a=new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,r="".concat("http://localhost:9606","/usuario"),o=new Ff,n.RolesTipoCuenta.length>0&&(n.IdRole=0),n.Enabled=!n.Enabled,0==n.IdPerfil&&delete n.IdPerfil,e.next=10,Ft.a.post(r,n,{headers:Object(Jt.authHeader)(t)}).then((function(e){Object(zt.checkStatusCode)(e.status),o=a.deserializeObject(e.data,Ff),Object(zt.customLog)("Usuario created ".concat(e.data.Id),zt.logType.INFO,Uf,Gf.name,zt.methodsEndPointType.POST),Wr("Usuario creado",Gr.success,5e3)})).catch((function(e){Wr(e.response.data.Message,Gr.error,5e3),Object(zt.customLog)("Error create user  => ".concat(e.message),zt.logType.ERROR,Uf,Gf.name,zt.methodsEndPointType.PUT),Object(zt.checkStatusCode)(e.request.status),o=null}));case 10:return e.abrupt("return",o);case 13:e.prev=13,e.t0=e.catch(0),Wr(e.t0.response.data,Gr.error,5e3),Object(zt.customLog)("Error created user => ".concat(e.t0.message),zt.logType.ERROR,Uf,Gf.name,zt.methodsEndPointType.POST),Wr(e.t0.response.data,Gr.error,5e3);case 18:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function Wf(e,t){return qf.apply(this,arguments)}function qf(){return(qf=Object(Nt.a)(Et.a.mark((function e(t,n){var a,r,o,i;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(r=new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,o="".concat("http://localhost:9606","/usuario"),i=new Ff,(null===(a=n.RolesTipoCuenta)||void 0===a?void 0:a.length)>0&&(n.IdRole=0),n.Enabled=!n.Enabled,0==n.IdPerfil&&delete n.IdPerfil,e.next=10,Ft.a.put(o,Object(d.a)(Object(d.a)({},n),{},{IdPerfil:0!=n.IdPerfil?n.IdPerfil:null}),{headers:Object(Jt.authHeader)(t)}).then((function(e){Object(zt.checkStatusCode)(e.status),i=r.deserializeObject(e.data,Ff),Object(zt.customLog)("User updated ".concat(n.Id),zt.logType.INFO,Uf,Wf.name,zt.methodsEndPointType.PUT),Wr("Usuario editado",Gr.success,5e3)})).catch((function(e){Wr(e.response.data.Message,Gr.error,5e3),Object(zt.customLog)("Error updated user  => ".concat(e.message),zt.logType.ERROR,Uf,Wf.name,zt.methodsEndPointType.PUT),Object(zt.checkStatusCode)(e.request.status),i=null}));case 10:return e.abrupt("return",i);case 13:e.prev=13,e.t0=e.catch(0),Wr(e.t0.response.data,Gr.error,5e3);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function Hf(e){return Zf.apply(this,arguments)}function Zf(){return(Zf=Object(Nt.a)(Et.a.mark((function e(t){var n,a,r;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,a="".concat("http://localhost:9606","/Usuario/Structure"),r=new zf,e.next=6,Ft()({url:a,method:zt.methodsEndPointType.GET,headers:Object(Jt.authHeader)(t)}).then((function(e){Object(zt.checkStatusCode)(e.status),r=n.deserializeObject(e.data,zf)})).catch((function(e){return Object(zt.customLog)(null,zt.logType.ERROR,Uf,Hf.name,zt.methodsEndPointType.GET),Object(zt.checkStatusCode)(e.request.status),{}}));case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kf(e,t){return Xf.apply(this,arguments)}function Xf(){return(Xf=Object(Nt.a)(Et.a.mark((function e(t,n){var a,r;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,a="".concat("http://localhost:9606","/Usuario/RelatedDeleteUser/").concat(n),r="".concat("http://localhost:9606","/Usuario/").concat(n),e.next=7,Ft.a.delete(a,{headers:Object(Jt.authHeader)(t)}).then((function(e){Ft.a.delete(r,{headers:Object(Jt.authHeader)(t)}).then((function(e){Object(zt.checkStatusCode)(e.status),Object(zt.customLog)("usuario elminado",zt.logType.INFO,Uf,Kf.name,zt.methodsEndPointType.POST),Wr("Usuario elminada",Gr.success,5e3)})),Object(zt.checkStatusCode)(e.status),Object(zt.customLog)("Usuario elminada",zt.logType.INFO,Uf,Kf.name,zt.methodsEndPointType.POST),Wr("Usuario elminada",Gr.success,5e3)}));case 7:return e.abrupt("return",!0);case 10:return e.prev=10,e.t0=e.catch(0),400==e.t0.response.status&&Wr(e.t0.response.data,Gr.error,5e3),Object(zt.customLog)("Error al eliminar Compa\xf1ia => ".concat(e.t0.response.data),zt.logType.ERROR,Uf,Kf.name,zt.methodsEndPointType.POST),Object(zt.checkStatusCode)(e.t0.request.status),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function Yf(e){var t=new We.JsonConvert;return t.valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,t.deserializeObject(e,Ff)}var Qf=function(e){return{type:ie,payload:e}},$f=function(e){return{type:ce,payload:e}},ev=function(e){return{type:le,payload:e}};var tv,nv,av,rv,ov,iv,cv,lv=function(e){var t,r,o,i,l,s,u,b,p,j=Object(c.c)((function(e){return e.user})),m=Object(c.c)((function(e){var t;return null===(t=e.usuario)||void 0===t?void 0:t.usuario})),h=Object(c.c)((function(e){var t;return null===(t=e.usuario)||void 0===t?void 0:t.roles})),O=Object(c.c)((function(e){return e.sujeto})),f=Object(c.c)((function(e){return e.sharedUtils.isChanged})),v=Lr(),g=(v.isXSmall,v.isLarge),x=Object(a.useState)(!1),y=Object(Ge.a)(x,2),C=y[0],w=(y[1],Object(a.useState)(!1)),I=Object(Ge.a)(w,2),S=(I[0],I[1],Object(a.useState)(!1)),E=Object(Ge.a)(S,2),N=E[0],P=E[1],T=Object(a.useState)(!1),k=Object(Ge.a)(T,2),R=k[0],L=k[1],D=Object(a.useState)(99==(null===m||void 0===m?void 0:m.IdRole)),M=Object(Ge.a)(D,2),A=M[0],F=M[1],J=Object(c.c)((function(e){return e.perfil})),z=Object(a.useRef)({}),U=Object(Zp.a)(),V=(U.register,U.handleSubmit),_=Object(c.b)(),G=Object(a.useState)(!1),B=Object(Ge.a)(G,2),W=(B[0],B[1],n(2808),Object(a.useState)(!1)),q=Object(Ge.a)(W,2);q[0],q[1],Object(a.useEffect)((function(){function e(){return(e=Object(Nt.a)(Et.a.mark((function e(){return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return function(){e.apply(this,arguments)}(),function(){!1}}),[e.showForm]);var H,Z=function(){var t=Object(Nt.a)(Et.a.mark((function t(n){var a,r;return Et.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null===m||void 0===m?void 0:m.Id)){t.next=9;break}return t.next=3,Wf(j.user,m);case 3:no(e,!0),e.setShowForm(!1),L(!1),_(Qf(Object(d.a)(Object(d.a)({},new Ff),{},{IdRole:-1,IdSujeto:null===O||void 0===O||null===(a=O.sujetos)||void 0===a?void 0:a.Datos[0].Id,RolesTipoCuenta:[]}))),t.next=27;break;case 9:return t.next=11,Gf(j.user,m);case 11:if(!t.sent){t.next=26;break}return _(Qf(Object(d.a)(Object(d.a)({},new Ff),{},{IdRole:-1,IdSujeto:null===O||void 0===O||null===(r=O.sujetos)||void 0===r?void 0:r.Datos[0].Id,RolesTipoCuenta:[]}))),no(e,!0),t.t0=_,t.t1=cO,t.next=19,Gt(j.user);case 19:t.t2=t.sent,t.t3=(0,t.t1)(t.t2),(0,t.t0)(t.t3),P(!1),L(!1),t.next=27;break;case 26:P(!1);case 27:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),K=function(){if(R){var t=Object(Hp.custom)({title:"",messageHtml:"<b>Para conservar los cambios antes pulsar Guardar, Si continua perder\xe1 todos los datos cambiados</b>",buttons:[{text:"Continuar",onClick:function(n){e.setShowForm(!1),F(!1),_($f(new Ff)),P(!1),L(!1),t.hide()}},{elementAttr:{buttonAttributes:{id:"usuarioCancelButton",class:"usuarioCancelButtonClass"}},text:"Cancelar",onClick:function(e){t.hide()}}]});t.show().then((function(e){}))}else e.setShowForm(!1),F(!1),_($f(new Ff)),P(!1),L(!1)},X=function(e){var t,n,a,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=[];return e?r?(null===(t=o)||void 0===t||t.push({Id:0,Nombre:"No selecci\xf3n"}),null===(n=O.sujetos)||void 0===n||n.Datos.map((function(e){var t;return null===(t=o)||void 0===t?void 0:t.push({Id:e.Id,Nombre:e.Nombre})})),o):co(j.user)?(o=e.filter((function(e){return(null===e||void 0===e?void 0:e.Id)==parseInt(j.user.SujetoId)}))).map((function(e){return{Id:null===e||void 0===e?void 0:e.Id,Nombre:null===e||void 0===e?void 0:e.Nombre}})):null===(a=O.sujetos)||void 0===a?void 0:a.Datos:[]},Y={items:X(null===O||void 0===O||null===(t=O.sujetos)||void 0===t?void 0:t.Datos,!0),value:null===m||void 0===m?void 0:m.IdSujeto,placeholder:"Seleccione una compa\xf1\xeda",displayExpr:"Nombre",valueExpr:"Id",onValueChanged:function(t){e.showForm&&t.previousValue!=t.value&&null!=t.previousValue&&(0!=t.value?re({IdSujeto:t.value,SujetoIndetification:""}):t.event&&re({IdSujeto:t.value}))}},Q={items:X(null===O||void 0===O||null===(r=O.sujetos)||void 0===r?void 0:r.Datos),value:function(){var e,t=0;return 0==(t=co(j.user)?parseInt(j.user.SujetoId):io(j.user)?null===m||void 0===m?void 0:m.IdSujeto:parseInt(j.user.SujetoId))?null===O||void 0===O||null===(e=O.sujetos)||void 0===e?void 0:e.Datos[0].Id:t}(),placeholder:"Seleccione una compa\xf1\xeda",displayExpr:"Nombre",valueExpr:"Id",readOnly:!!co(j.user),disabled:!!(null===m||void 0===m?void 0:m.Id),onValueChanged:function(t){if(e.showForm&&t.previousValue!=t.value&&null!=t.previousValue)if(0!=t.value)re({IdSujeto:t.value,SujetoIndetification:""});else if(t.event){var n;re({IdSujeto:null===O||void 0===O||null===(n=O.sujetos)||void 0===n?void 0:n.Datos[0].Id})}}},$=function(){var e,t,n,a=h;if((null===j||void 0===j?void 0:j.user.role)==to.ADMINISTRADOR)null===(t=a=null===(e=a)||void 0===e?void 0:e.filter((function(e){return e.Name==to.EMPLEADO})))||void 0===t||t.push({Id:99,Name:to.CUENTA});else if((null===j||void 0===j?void 0:j.user.role)==to.SUPERADMINISTRADOR){var r;a=null===(r=a)||void 0===r?void 0:r.filter((function(e){return e.Name==to.ADMINISTRADOR}))}a&&(0==(null===m||void 0===m?void 0:m.IdRole)&&0==(null===m||void 0===m||null===(n=m.RolesTipoCuenta)||void 0===n?void 0:n.length)&&(N||_(Qf(Object(d.a)(Object(d.a)({},m),{},{IdRole:a.length>0?a[0].Id:0})))));return a},ee={items:$(),value:null===m||void 0===m?void 0:m.IdRole,placeholder:"Seleccione un tipo",displayExpr:"Name",valueExpr:"Id",readOnly:1!=so(m),onValueChanged:function(e){if(e.previousValue!=e.value&&null!=e.previousValue&&null!=e.value){var t,n=null===(t=$())||void 0===t?void 0:t.find((function(t){return t.Id==e.value}));null!=n&&(n.Name==to.CUENTA?F(!1):F(!0)),re({IdRole:null!=e.value?e.value:null===m||void 0===m?void 0:m.IdRole})}}},te={items:J.perfiles,value:null!=(null===m||void 0===m?void 0:m.IdPerfil)?null===m||void 0===m?void 0:m.IdPerfil:0,placeholder:"Seleccione un perfil",displayExpr:"Nombre",valueExpr:"Id",onValueChanged:function(e){e.previousValue!=e.value&&null!=e.previousValue&&null!=e.value&&re({IdPerfil:null!=e.value?e.value:null===m||void 0===m?void 0:m.IdPerfil})}},ne=function(){var e,t=h;return t=null===(e=t)||void 0===e?void 0:e.filter((function(e){return e.Name==to.COLABORADOR||e.Name==to.TRANSMITENTE||e.Name==to.CLIENTE}))},ae=function(e){return null===h||void 0===h?void 0:h.find((function(t){return t.Id==e}))},re=(ne(),function(e){if(void 0==e.IdRole||null!=e.IdRole){var t,n,a=Object(d.a)(Object(d.a)({},m),e);if(-1==a.IdRole)_(Qf(Object(d.a)(Object(d.a)({},new Ff),{},{IdRole:0,IdSujeto:0,RolesTipoCuenta:[]}))),L(!0);else if((null===(t=a.RolesTipoCuenta)||void 0===t?void 0:t.length)>0)if(99!=a.IdRole&&0!=a.IdRole)N&&!a.Id||(_(Qf(Object(d.a)(Object(d.a)({},a),{},{RolesTipoCuenta:[]}))),a.Id&&0!=a.Id||L(!0));else{var r=null===h||void 0===h?void 0:h.filter((function(e){return e.Name==to.EMPLEADO}));null===r||void 0===r||r.push({Id:99,Name:to.CUENTA}),N&&!a.Id||(_(Qf(Object(d.a)(Object(d.a)({},a),{},{IdRole:99}))),a.Id&&0!=a.Id||L(!0))}else if(!N||a.Id)_(Qf(Object(d.a)(Object(d.a)({},a),{},{IdSujeto:0==a.IdSujeto?null===O||void 0===O||null===(n=O.sujetos)||void 0===n?void 0:n.Datos[0].Id:a.IdSujeto}))),L(!0)}}),oe=Object(a.useRef)(null);return e.showForm||null!=oe&&(null===(H=oe.current)||void 0===H||H.instance.resetValues()),Object(po.jsx)(po.Fragment,{children:Object(po.jsx)("div",{className:"content-block  responsive-paddings",children:Object(po.jsx)("div",{className:"content-block  ",children:Object(po.jsx)("form",{className:"legalForm",onSubmit:V(Z),encType:"multipart/form-data",style:{width:"100%"},autoComplete:"new-password",children:Object(po.jsxs)(bo.Form,{formData:z.current,disabled:C,ref:oe,readOnly:!1,labelLocation:g?"left":"top",showValidationSummary:!1,validationGroup:"usuarioData",showColonAfterLabel:!0,children:[Object(po.jsxs)(rs.GroupItem,{colCount:"2",children:[Object(po.jsxs)(rs.SimpleItem,{dataField:"Login usuario",editorType:"dxTextBox",editorOptions:{disabled:!!(null===m||void 0===m?void 0:m.Id),stylingMode:"filled",placeholder:"Login usuario",mode:"text",value:(null===m||void 0===m?void 0:m.NombreUsuario)?null===m||void 0===m?void 0:m.NombreUsuario:"",onValueChanged:function(e){e.event&&(re({NombreUsuario:e.value.replace(/\s+$/,"")}),f||_(sh(!0)))}},children:[Object(po.jsx)(rs.PatternRule,{pattern:"^[a-zA-Z\xf1\xd1\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\\s]*$",message:"Caracters no validos para el usuario"}),0==(null===m||void 0===m?void 0:m.IdSujeto)&&""==(null===m||void 0===m?void 0:m.SujetoIndetification)?Object(po.jsx)(rs.RequiredRule,{message:"Caracters no validos para el usuario"}):null,Object(po.jsx)(rs.RequiredRule,{message:"Debes introducir un nombre de usuario,debe ser \xfanico"})]}),Object(po.jsxs)(rs.SimpleItem,{dataField:"NIF/NIE/CIF",editorOptions:{stylingMode:"filled",placeholder:"N\xfamero de identificaci\xf3n(NIF,NIE,CIF...)",mode:"text",value:(null===m||void 0===m?void 0:m.IdentificationNumber)?null===m||void 0===m?void 0:m.IdentificationNumber:"",onValueChanged:function(e){e.event&&(re({IdentificationNumber:e.value}),f||_(sh(!0)))}},children:[Object(po.jsx)(rs.PatternRule,{pattern:"^([a-z]|[A-Z]|[0-9])[0-9]{7}([a-z]|[A-Z]|[0-9])$",message:"Debes introducir un numero de identificaci\xf3n NIF/CIF/NIE"}),0==(null===m||void 0===m?void 0:m.IdSujeto)&&""==(null===m||void 0===m?void 0:m.SujetoIndetification)?Object(po.jsx)(rs.RequiredRule,{message:"Debes introducir un numero de identificaci\xf3n NIF/CIF/NIE"}):null]}),Object(po.jsx)(rs.SimpleItem,{dataField:"Nombre",editorType:"dxTextBox",editorOptions:{stylingMode:"filled",placeholder:"Nombre",mode:"text",value:(null===m||void 0===m?void 0:m.Nombre)?null===m||void 0===m?void 0:m.Nombre:"",onValueChanged:function(e){e.event&&(re({Nombre:e.value}),f||_(sh(!0)))}},children:Object(po.jsx)(rs.RequiredRule,{message:"Debes introducir un Nombre"})}),Object(po.jsx)(rs.SimpleItem,{dataField:"Apellidos",editorType:"dxTextBox",editorOptions:{stylingMode:"filled",placeholder:"Apellidos",mode:"text",value:(null===m||void 0===m?void 0:m.Apellidos)?null===m||void 0===m?void 0:m.Apellidos:"",onValueChanged:function(e){e.event&&(re({Apellidos:e.value}),f||_(sh(!0)))}}}),Object(po.jsxs)(rs.SimpleItem,{dataField:"Email",editorType:"dxTextBox",editorOptions:{stylingMode:"filled",placeholder:"Email",mode:"text",value:(null===m||void 0===m?void 0:m.Email)?null===m||void 0===m?void 0:m.Email:"",onValueChanged:function(e){e.event&&(re({Email:e.value.replaceAll(/\s/g,"")}),f||_(sh(!0)))}},children:[Object(po.jsx)(rs.RequiredRule,{message:"El campo es requerido"}),Object(po.jsx)(rs.EmailRule,{message:"Debe introducir un email con un formato correcto"})]}),Object(po.jsx)(rs.SimpleItem,{dataField:"Telefono",editorType:"dxTextBox",editorOptions:{stylingMode:"filled",placeholder:"Telefono",mode:"text",value:(null===m||void 0===m?void 0:m.Telefono)?null===m||void 0===m?void 0:m.Telefono:"",onValueChanged:function(e){e.event&&(re({Telefono:e.value}),f||_(sh(!0)))}}}),(null===j||void 0===j||null===(o=j.user)||void 0===o?void 0:o.UserName)==(null===m||void 0===m?void 0:m.NombreUsuario)?Object(po.jsx)(rs.SimpleItem,{dataField:"Tipo Usuarios",editorType:"dxTextBox",editorOptions:{readOnly:!0,stylingMode:"filled",mode:"text",value:to.ADMINISTRADOR}}):Object(po.jsx)(rs.SimpleItem,{dataField:"Tipo Usuario",editorType:"dxSelectBox",editorOptions:ee}),Object(po.jsx)(rs.SimpleItem,{dataField:"Gestoria",editorType:"dxSelectBox",editorOptions:Q,children:Object(po.jsx)(rs.RequiredRule,{message:"Debes elegir al menos una Compa\xf1\xeda"})}),co(j.user)?Object(po.jsx)(rs.SimpleItem,{dataField:"Tipo Cuenta",editorOptions:{readOnly:1!=so(m)},children:Object(po.jsx)(bo.TagBox,{readOnly:1!=so(m),dataSource:ne(),value:null===m||void 0===m?void 0:m.RolesTipoCuenta,displayExpr:"Name",valueExpr:"Id",disabled:A,onValueChanged:function(e){re({RolesTipoCuenta:e.value})}})}):null,co(j.user)?Object(po.jsxs)(rs.GroupItem,{colCount:"2",children:[Object(po.jsx)(rs.SimpleItem,{dataField:"Relaci\xf3n con",editorType:"dxTextBox",editorOptions:{readOnly:""!=(null===m||void 0===m?void 0:m.NombreUsuario)&&0!=(null===m||void 0===m?void 0:m.Id)||99!=m.IdRole&&0!=m.IdRole&&((null===(i=ae(null===m||void 0===m?void 0:m.IdRole))||void 0===i?void 0:i.Name)==to.EMPLEADO||(null===(l=ae(null===m||void 0===m?void 0:m.IdRole))||void 0===l?void 0:l.Name)==to.ADMINISTRADOR||(null===(s=ae(null===m||void 0===m?void 0:m.IdRole))||void 0===s?void 0:s.Name)==to.SUPERADMINISTRADOR),stylingMode:"filled",placeholder:"Numero Identifaci\xf3n",mode:"text",value:(null===m||void 0===m?void 0:m.SujetoIndetification)?null===m||void 0===m?void 0:m.SujetoIndetification:"",onValueChanged:function(e){e.event&&(re({SujetoIndetification:e.value}),f||_(sh(!0)))}},children:0==(null===m||void 0===m?void 0:m.IdSujeto)&&""==(null===m||void 0===m?void 0:m.IdentificationNumber)?Object(po.jsx)(rs.RequiredRule,{message:"Debes seleccionar relaci\xf3n o insertar un NIF valido"}):null}),Object(po.jsx)(rs.SimpleItem,{editorType:"dxSelectBox",editorOptions:Object(d.a)(Object(d.a)({},Y),{},{readOnly:""!=(null===m||void 0===m?void 0:m.NombreUsuario)&&0!=(null===m||void 0===m?void 0:m.Id)||99!=m.IdRole&&0!=m.IdRole&&((null===(u=ae(null===m||void 0===m?void 0:m.IdRole))||void 0===u?void 0:u.Name)==to.EMPLEADO||(null===(b=ae(null===m||void 0===m?void 0:m.IdRole))||void 0===b?void 0:b.Name)==to.ADMINISTRADOR||(null===(p=ae(null===m||void 0===m?void 0:m.IdRole))||void 0===p?void 0:p.Name)==to.SUPERADMINISTRADOR),placeholder:"No Seleccionado"}),children:""==(null===m||void 0===m?void 0:m.SujetoIndetification)&&""==(null===m||void 0===m?void 0:m.IdentificationNumber)?Object(po.jsx)(rs.RequiredRule,{message:"Debes elegir al menos una Compa\xf1\xeda"}):null})]}):null,Object(po.jsxs)(rs.SimpleItem,{dataField:"Passwor",editorType:"dxTextBox",visible:!1,editorOptions:{autocomplete:"false",stylingMode:"filled",mode:"password"},children:[Object(po.jsx)(rs.RequiredRule,{message:"El campo es requerido"}),Object(po.jsx)(rs.Label,{visible:!0,text:"Contrase\xf1a"})]}),0==(null===m||void 0===m?void 0:m.Id)?Object(po.jsxs)(rs.SimpleItem,{dataField:"Passwor",editorType:"dxTextBox",editorOptions:{autocomplete:"false",stylingMode:"filled",mode:"password",value:null===m||void 0===m?void 0:m.Password,onValueChanged:function(e){e.event&&e.event&&(re({Password:e.value}),f||_(sh(!0)))}},children:[Object(po.jsx)(rs.RequiredRule,{message:"El campo es requerido"}),Object(po.jsx)(rs.Label,{visible:!0,text:"Contrase\xf1a"})]}):null]}),Object(po.jsxs)(rs.GroupItem,{colCount:"2",children:[Object(po.jsx)(rs.SimpleItem,{dataField:"Perfiles",editorType:"dxSelectBox",editorOptions:te}),Object(po.jsx)(rs.SimpleItem,{dataField:"Bloqueado",editorType:"dxCheckBox",editorOptions:{stylingMode:"filled",value:!!(null===m||void 0===m?void 0:m.Enabled)&&(null===m||void 0===m?void 0:m.Enabled),onValueChanged:function(e){e.event&&(re({Enabled:e.value}),f||_(sh(!0)))}},children:Object(po.jsx)(rs.Label,{visible:!0,text:"Bloqueado"})})]}),Object(po.jsx)(rs.SimpleItem,{render:function(){return e.showForm||(oe.current.instance.resetValues(),0==(null===m||void 0===m?void 0:m.Id)?F(!0):F(!1),3==(null===m||void 0===m?void 0:m.IdTipoUsuario)&&F(!0)),uh("usuarioData",K)},cssClass:"alignBottom"})]})})})})})},sv=(tv=Object(We.JsonObject)("RoleModel"),nv=Object(We.JsonProperty)("Id",Number),av=Object(We.JsonProperty)("Name",String),tv((ov=function e(){Object(Ct.a)(this,e),Object(yt.a)(this,"Id",iv,this),Object(yt.a)(this,"Name",cv,this)},iv=Object(wt.a)(ov.prototype,"Id",[nv],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),cv=Object(wt.a)(ov.prototype,"Name",[av],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),rv=ov))||rv),uv=function(){var e=Object(Nt.a)(Et.a.mark((function e(t){var n,a,r;return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(n=new We.JsonConvert).valueCheckingMode=We.ValueCheckingMode.ALLOW_NULL,a="".concat("http://localhost:9606","/Role"),r=[],e.next=7,Ft()({url:a,method:"GET",headers:Object(Jt.authHeader)(t)}).then((function(e){r=n.deserializeArray(e.data,sv)})).catch((function(e){Object(zt.customLog)(null,zt.logType.ERROR,"authService",uv.name,zt.methodsEndPointType.GET),Wr("No se han podido obtener los sujetos.",Gr.error,5e3)}));case 7:return e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();var dv=function(){var e=Object(c.b)(),t=Object(c.c)((function(e){return e.user})),n=Object(c.c)((function(e){return e.sujeto})),r=Object(a.useState)(new zf),o=Object(Ge.a)(r,2),i=o[0],l=o[1],s=Object(a.useState)(""),u=Object(Ge.a)(s,2),b=u[0],p=u[1],j=Object(a.useState)(!1),m=Object(Ge.a)(j,2),h=m[0],O=m[1],f=Object(a.useState)(!1),v=Object(Ge.a)(f,2),g=(v[0],v[1],Object(a.useState)(0)),x=Object(Ge.a)(g,2),y=x[0],C=x[1],w=Object(a.useState)(!1),I=Object(Ge.a)(w,2),S=(I[0],I[1]),E=Object(_e.g)(),N=Object(a.useRef)(null),P=Object(c.c)((function(e){var t;return null===(t=e.usuario)||void 0===t?void 0:t.usuario})),T=Object(c.c)((function(e){return e.sharedUtils.isChanged})),k=(Object(c.c)((function(e){return e.perfil})),Lr()),R=(k.isLarge,k.isMedium,k.isSmall,k.isXSmall,Dr());Object(a.useEffect)((function(){function n(){return(n=Object(Nt.a)(Et.a.mark((function n(){return Et.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,localStorage.removeItem("storage"),n.t0=l,n.next=5,Hf(t.user);case 5:return n.t1=n.sent,(0,n.t0)(n.t1),n.t2=e,n.t3=cO,n.next=11,Gt(t.user);case 11:return n.t4=n.sent,n.t5=(0,n.t3)(n.t4),n.next=15,(0,n.t2)(n.t5);case 15:return n.t6=e,n.t7=ev,n.next=19,uv(t.user);case 19:return n.t8=n.sent,n.t9=(0,n.t7)(n.t8),n.next=23,(0,n.t6)(n.t9);case 23:return n.t10=e,n.t11=hh,n.next=27,Kh(t.user);case 27:return n.t12=n.sent,n.t13=(0,n.t11)(n.t12),n.next=31,(0,n.t10)(n.t13);case 31:e(Tl(!1)),n.next=37;break;case 34:n.prev=34,n.t14=n.catch(0),console.error(n.t14);case 37:case"end":return n.stop()}}),n,null,[[0,34]])})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[]);var L=function(){var a=Object(Nt.a)(Et.a.mark((function a(){var r;return Et.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!co(t.user)&&!io(t.user)){a.next=11;break}return a.t0=e,a.t1=cO,a.next=5,Gt(t.user);case 5:a.t2=a.sent,a.t3=(0,a.t1)(a.t2),(0,a.t0)(a.t3),e(Qf(Object(d.a)(Object(d.a)({},new Ff),{},{IdRole:0,IdSujeto:null===n||void 0===n||null===(r=n.sujetos)||void 0===r?void 0:r.Datos[0].Id}))),e(sh(!1)),O(!h);case 11:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(po.jsx)(po.Fragment,{children:oo(t.user,ro.ADMINISTRACION,[ao.VIEW])?Object(po.jsxs)("div",{className:"content-block dx-card",style:{borderColor:"#f4f9ff",borderWidth:"2px",margin:"0.3%",padding:"0.16%"},children:[Object(po.jsx)("h3",{style:{margin:0,padding:0},children:"Usuarios"}),void 0!=(null===i||void 0===i?void 0:i.Campos)&&(null===i||void 0===i?void 0:i.Campos.length)>0?Object(po.jsx)("div",{children:Object(po.jsx)(Vm.a,{dataGridModel:function(){var n=new qe.ButtonColumnModel({text:"",icon:"edit",hint:"Editar",cellRender:function(){var n=Object(Nt.a)(Et.a.mark((function n(a){var r;return Et.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Yf,n.next=3,Vf(t.user,a.data.Id);case 3:return n.t1=n.sent,r=(0,n.t0)(n.t1),e(Pl(!0)),C(a.data),n.t2=e,n.t3=cO,n.next=11,Gt(t.user);case 11:n.t4=n.sent,n.t5=(0,n.t3)(n.t4),(0,n.t2)(n.t5),null==r.RolesTipoCuenta&&(r.RolesTipoCuenta=[]),e(Qf(r)),e(sh(!1)),O(!h),e(Pl(!1));case 19:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}),a=new qe.ButtonColumnModel({text:"",icon:"trash",hint:"Elimimar",cellRender:function(){var n=Object(Nt.a)(Et.a.mark((function n(a){return Et.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:Object(Hp.confirm)("<i>\xbfDesear eliminar este usuario?</i>","Confirma los cambios").then(function(){var n=Object(Nt.a)(Et.a.mark((function n(r){var o,i;return Et.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r){n.next=16;break}return n.t0=Yf,n.next=4,Vf(t.user,a.data.Id);case 4:if(n.t1=n.sent,i=(0,n.t0)(n.t1),(null===(o=t.user)||void 0===o?void 0:o.UserName)==i.NombreUsuario){n.next=13;break}return e(Pl(!0)),n.next=10,Kf(t.user,a.data.Id);case 10:setTimeout((function(){no({setShowForm:O},h),e(Pl(!1))}),2e3),n.next=14;break;case 13:Wr("No se pueden eliminar usuarios administradores,contacte con la empresa gestora de software",Gr.info,5e3);case 14:n.next=16;break;case 16:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()});return new qe.DataGridModel({dataGridName:"usuarioGridComponent",height:R,ref:N,rowFocused:b,columns:i.Campos,openRow:function(e){Object(Db.a)(e)},openRowEnterKey:function(e){Object(Db.a)(e)},focusEventChanged:function(e){e.row&&p(e.row.key)},focusEventChanging:function(e){Object(Db.a)(e)},openCreatePopup:L,user:t.user,url:"".concat("http://localhost:9606","/Usuario/Grid/FilterGroup"),urlAux:"".concat("http://localhost:9606","/Usuario/Grid"),buttonsColumns:[n,a],filterRow:!0,filterPanel:!0,columnChooser:!0,headerFilter:!1,exportData:!1,showSearchPanel:!0,showToolbar:!0,history:E,singularName:"Usuario",pluralName:"Usuarios",pageName:"Usarios",openedPopup:h})}()},"dataGridUsuarios")}):null,Object(po.jsxs)(Sl.Popup,{visible:h,onHiding:function(t){T?(S(!0),O(!0),S(!1)):e(sh(!1)),e($f(new Ff)),O(!h)},dragEnabled:!0,closeOnOutsideClick:!1,showTitle:!0,title:"Usuario ".concat((null===P||void 0===P?void 0:P.Id)?null===P||void 0===P?void 0:P.Id:""),width:"90%",height:"90%",showCloseButton:!1,children:[Object(po.jsx)(Sl.ToolbarItem,{widget:"dxButton",toolbar:"top",location:"after",options:{text:"",icon:"close",onClick:function(){if(T){var t=Object(Hp.custom)({title:"",messageHtml:"<b>Para conservar los cambios antes pulsar Guardar, Si continua perder\xe1 todos los datos cambiados</b>",buttons:[{text:"Continuar",onClick:function(n){O(!1),e($f(new Ff)),t.hide()}},{text:"Cancelar",onClick:function(e){t.hide()}}]});t.show().then((function(e){console.log(e)}))}else O(!1),e($f(new Ff))}}}),Object(po.jsx)(Nl.a,{width:"100%",height:"100%",children:Object(po.jsx)(lv,{row:y,setShowForm:O,showForm:h})})]})]}):Object(po.jsx)("div",{className:"content-block dx-card responsive-paddings",style:{borderColor:"#f4f9ff",borderWidth:"2px",margin:"0.6%"},children:Object(po.jsx)(Cl,{data:{type:1}})})})};var bv=function(e){var t,n,r=Object(c.c)((function(e){return e.user})),o=Object(c.c)((function(e){return e.perfil})),i=Lr(),l=(i.isXSmall,i.isLarge),s=Object(a.useState)(!1),u=Object(Ge.a)(s,2),b=u[0],p=u[1],j=Object(a.useRef)({}),m=Object(Zp.a)(),h=(m.register,m.handleSubmit),O=Object(c.b)();Object(a.useEffect)((function(){function e(){return(e=Object(Nt.a)(Et.a.mark((function e(){return Et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var f=function(){var t=Object(Nt.a)(Et.a.mark((function t(n){var a,i,c;return Et.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(p(!0),c=!1,(null===o||void 0===o||null===(a=o.perfil)||void 0===a?void 0:a.Id)||O(mh(Object(d.a)(Object(d.a)({},o),{},{Id:0}))),!(null===o||void 0===o||null===(i=o.perfil)||void 0===i?void 0:i.Id)){t.next=9;break}return t.next=6,eO(r.user,o.perfil);case 6:c=t.sent,t.next=12;break;case 9:return t.next=11,Qh(r.user,o.perfil);case 11:c=t.sent;case 12:c?(p(!1),document.getElementsByClassName("dx-icon dx-icon-refresh")[0].click(),e.setShowForm(!1)):p(!1);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){e.setShowForm(!1)},g=function(e){var t=o.perfil;O(mh(Object(d.a)(Object(d.a)({},t),e)))},x=Object(a.useRef)(null);return Object(po.jsx)(po.Fragment,{children:Object(po.jsx)("div",{className:"content-block  responsive-paddings",children:Object(po.jsx)("div",{className:"content-block  ",children:Object(po.jsx)("form",{className:"legalForm",onSubmit:h(f),encType:"multipart/form-data",style:{width:"100%"},children:Object(po.jsxs)(bo.Form,{ref:x,formData:j.current,disabled:b,readOnly:!1,labelLocation:l?"left":"top",showValidationSummary:!1,validationGroup:"perfilData",showColonAfterLabel:!0,children:[Object(po.jsxs)(rs.GroupItem,{colCount:"2",children:[Object(po.jsx)(rs.SimpleItem,{dataField:"Nombre",helpText:"",editorOptions:{stylingMode:"filled",placeholder:"Nombre",mode:"text",value:null===o||void 0===o||null===(t=o.perfil)||void 0===t?void 0:t.Nombre,onValueChanged:function(e){e.event&&g({Nombre:e.value})}},children:Object(po.jsx)(rs.RequiredRule,{message:"Debes introducir un nombre"})}),Object(po.jsx)(rs.SimpleItem,{dataField:"Descripci\xf3n",editorType:"dxTextArea",editorOptions:{stylingMode:"filled",placeholder:"Descripci\xf3n",mode:"text",value:(null===o||void 0===o||null===(n=o.perfil)||void 0===n?void 0:n.Descripcion)?o.perfil.Descripcion:null,onValueChanged:function(e){e.event&&g({Descripcion:e.value})}}})]}),Object(po.jsx)(rs.SimpleItem,{render:function(){return e.showForm||x.current.instance.resetValues(),uh("perfilData",v)},cssClass:"alignBottom"})]})})})})})};var pv=function(){var e=Object(c.b)(),t=Object(a.useState)(new Hh),n=Object(Ge.a)(t,2),r=n[0],o=n[1],i=Object(c.c)((function(e){return e.user})),l=(Object(c.c)((function(e){return e.perfil})),Object(a.useState)("")),s=Object(Ge.a)(l,2),u=s[0],d=s[1],b=Object(a.useState)(!1),p=Object(Ge.a)(b,2),j=p[0],m=p[1],h=Object(a.useState)(0),O=Object(Ge.a)(h,2),f=O[0],v=O[1],g=Object(_e.g)(),x=Object(a.useRef)(null),y=Lr(),C=y.isLarge,w=(y.isMedium,y.isSmall),I=y.isXSmall;Object(a.useEffect)((function(){function t(){return(t=Object(Nt.a)(Et.a.mark((function t(){return Et.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=o,t.next=4,nO(i.user);case 4:t.t1=t.sent,(0,t.t0)(t.t1),e(Tl(!1)),t.next=12;break;case 9:t.prev=9,t.t2=t.catch(0),console.error(t.t2);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);var S=function(){var t=Object(Nt.a)(Et.a.mark((function t(){return Et.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(co(i.user)||io(i.user))&&(e(mh(new Wh)),e(sh(!1)),m(!j),e(lh(!j,x)));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),E=Object(a.useRef)(null);return Object(po.jsx)(po.Fragment,{children:Object(po.jsxs)("div",{className:"content-block dx-card",style:{borderColor:"#f4f9ff",borderWidth:"2px",margin:"0.3%",padding:"0.16%"},children:[Object(po.jsx)("h3",{style:{margin:0,padding:0},children:"Perfiles"}),void 0!=(null===r||void 0===r?void 0:r.Campos)&&(null===r||void 0===r?void 0:r.Campos.length)>0?Object(po.jsx)(Nl.a,{direction:"vertical",children:Object(po.jsx)("div",{style:{height:"75vh"},children:Object(po.jsx)(Vm.a,{dataGridModel:function(){var t,n=new qe.ButtonColumnModel({icon:"edit",text:"",hint:"Editar",cellRender:function(){var t=Object(Nt.a)(Et.a.mark((function t(n){return Et.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v(n.data),m(!j),t.next=4,Xh(i.user,n.data.Id);case 4:return t.sent,t.t0=e,t.t1=mh,t.next=9,Xh(i.user,n.data.Id);case 9:t.t2=t.sent,t.t3=(0,t.t1)(t.t2),(0,t.t0)(t.t3);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()});return I?"300":"600",w?"400":"600","600",t=C?"700":"600",new qe.DataGridModel({dataGridName:"perfilGridComponent",height:t,ref:E,rowFocused:u,columns:r.Campos,openRow:function(e){Object(Db.a)(e)},openRowEnterKey:function(e){Object(Db.a)(e)},focusEventChanged:function(e){e.row&&d(e.row.key)},focusEventChanging:function(e){Object(Db.a)(e)},openCreatePopup:S,user:i.user,url:"".concat("http://localhost:9606","/Perfil/Grid/FilterGroup"),urlAux:"".concat("http://localhost:9606","/Perfil/Grid"),buttonsColumns:[n],filterRow:!0,filterPanel:!0,columnChooser:!0,headerFilter:!1,exportData:!1,showSearchPanel:!0,showToolbar:!0,history:g,singularName:"Perfil",pluralName:"Perfiles",pageName:"Perfil",openedPopup:j})}()})})}):null,Object(po.jsx)(bo.Popup,{visible:j,ref:x,onHiding:function(t){Object(Db.a)(t),m(!j),e(lh(!1,x))},dragEnabled:!0,closeOnOutsideClick:!1,showTitle:!0,title:"Formulario Perfil",width:"60%",height:"50%",children:Object(po.jsx)(bv,{row:f,setShowForm:m,showForm:j})})]})})},jv=[{path:"/",component:Yb},{path:"/expedientePage",component:Rb},{path:"/login",component:Yb},{path:"/loader",component:np},{path:"/CambiarContrase\xf1a",component:Qb},{path:"/AccesoSoloCalculadoraPage",component:ep},{path:"/Administracion",component:ap},{path:"/createCompany",component:Mj},{path:"/editCompany",component:mO},{path:"/Companies",component:Af},{path:"/plantillas",component:oO},{path:"/tasks",component:function(){return Object(po.jsxs)(r.a.Fragment,{children:[Object(po.jsx)("h2",{className:"content-block",children:"Tasks"}),Object(po.jsxs)(us.a,{className:"dx-card wide-card",dataSource:Bp,showBorders:!1,focusedRowEnabled:!0,defaultFocusedRowIndex:0,columnAutoWidth:!0,columnHidingEnabled:!0,children:[Object(po.jsx)(ss.Paging,{defaultPageSize:10}),Object(po.jsx)(ss.Pager,{showPageSizeSelector:!0,showInfo:!0}),Object(po.jsx)(ss.FilterRow,{visible:!0}),Object(po.jsx)(ss.Column,{dataField:"Task_ID",width:90,hidingPriority:2}),Object(po.jsx)(ss.Column,{dataField:"Task_Subject",width:190,caption:"Subject",hidingPriority:8}),Object(po.jsx)(ss.Column,{dataField:"Task_Status",caption:"Status",hidingPriority:6}),Object(po.jsx)(ss.Column,{dataField:"Task_Priority",caption:"Priority",hidingPriority:5,children:Object(po.jsx)(ss.Lookup,{dataSource:Wp,valueExpr:"value",displayExpr:"name"})}),Object(po.jsx)(ss.Column,{dataField:"ResponsibleEmployee.Employee_Full_Name",caption:"Assigned To",allowSorting:!1,hidingPriority:7}),Object(po.jsx)(ss.Column,{dataField:"Task_Start_Date",caption:"Start Date",dataType:"date",hidingPriority:3}),Object(po.jsx)(ss.Column,{dataField:"Task_Due_Date",caption:"Due Date",dataType:"date",hidingPriority:4}),Object(po.jsx)(ss.Column,{dataField:"Task_Priority",caption:"Priority",name:"Priority",hidingPriority:1}),Object(po.jsx)(ss.Column,{dataField:"Task_Completion",caption:"Completion",hidingPriority:0})]})]})}},{path:"/profile",component:function(){var e=Object(a.useState)("Sandra is a CPA and has been our controller since 2008. She loves to interact with staff so if you`ve not met her, be certain to say hi.\r\n\r\nSandra has 2 daughters both of whom are accomplished gymnasts."),t=Object(Ge.a)(e,2),n=t[0],o=t[1],i={ID:7,FirstName:"Sandra",LastName:"Johnson",Prefix:"Mrs.",Position:"Controller",Picture:"images/employees/06.png",BirthDate:new Date("1974/11/15"),HireDate:new Date("2005/05/11"),Notes:n,Address:"4600 N Virginia Rd."};return Object(po.jsxs)(r.a.Fragment,{children:[Object(po.jsx)("h2",{className:"content-block",children:"Profile"}),Object(po.jsxs)("div",{className:"content-block dx-card responsive-paddings",children:[Object(po.jsx)("div",{className:"form-avatar",children:Object(po.jsx)("img",{alt:"",src:"https://js.devexpress.com/Demos/WidgetsGallery/JSDemos/".concat(i.Picture)})}),Object(po.jsx)("span",{children:n})]}),Object(po.jsx)("div",{className:"content-block dx-card responsive-paddings",children:Object(po.jsx)(os.a,{id:"form",defaultFormData:i,onFieldDataChanged:function(e){return"Notes"===e.dataField&&o(e.value)},labelLocation:"top",colCountByScreen:qp})})]})}},{path:"/sujetos",component:dO},{path:"/sujetoForm",component:sO},{path:"/usuarios",component:dv},{path:"/perfiles",component:pv}].map((function(e){return Object(d.a)(Object(d.a)({},e),{},{component:(t=e.component,function(e){var n=e.match.path,o=Ap().setNavigationData;return Object(a.useEffect)((function(){o({currentPath:n})}),[n,o]),r.a.createElement(t,e)})});var t})),mv=function(){var e=Object(c.c)((function(e){return e.config})),t=Object(c.c)((function(e){return e.user})),n=Object(c.c)((function(e){return e.enlace})),r=JSON.parse(localStorage.getItem("parentEnlaces"))[0],o=JSON.parse(localStorage.getItem("parentEnlaces"))[1],i=JSON.parse(localStorage.getItem("parentEnlaces"))[2],l=Object(a.useState)(),s=Object(Ge.a)(l,2),u=s[0],d=s[1],b=Object(a.useState)(),p=Object(Ge.a)(b,2),j=p[0],m=p[1],h=Object(a.useState)(),O=Object(Ge.a)(h,2),f=O[0],v=O[1];return Object(a.useEffect)((function(){var e,t,a;"Legal"==(null===n||void 0===n||null===(e=n.enlace)||void 0===e?void 0:e.CodigoTipoEnlace)&&void 0!=n.enlace.EnlaceValue?d(n.enlace.EnlaceValue):d(void 0!=r?r.EnlaceValue:""),"Cookies"==(null===n||void 0===n||null===(t=n.enlace)||void 0===t?void 0:t.CodigoTipoEnlace)&&void 0!=n.enlace.EnlaceValue?m(n.enlace.EnlaceValue):m(void 0!=o?o.EnlaceValue:""),"RGPD"==(null===n||void 0===n||null===(a=n.enlace)||void 0===a?void 0:a.CodigoTipoEnlace)&&void 0!=n.enlace.EnlaceValue?v(n.enlace.EnlaceValue):v(void 0!=i?i.EnlaceValue:"")}),[null===n||void 0===n?void 0:n.enlace,r,o,i]),Object(po.jsxs)("div",{children:[Object(po.jsx)(bo.LoadPanel,{shadingColor:"rgba(192,192,192,0.9)",position:"center",visible:e.visibleLoader,showIndicator:!0,shading:!0,showPane:!0,closeOnOutsideClick:!1}),Object(po.jsxs)(Vp,{title:Gp,children:[Object(po.jsxs)(_e.d,{children:[jv.map((function(e){var t=e.path,n=e.component;return Object(po.jsx)(_e.b,{exact:!0,path:t,component:n},t)})),Object(po.jsx)(_e.a,{to:"/expedientePage"})]}),Object(po.jsx)(Dp,{children:Object(po.jsxs)(Ve.a,{direction:"row",width:"100%",style:{textAlign:"center"},children:[Object(po.jsx)(Ue.Item,{ratio:1,children:Object(po.jsx)("div",{children:Object(po.jsx)("a",{href:j,target:"_blank",children:"Pol\xedtica de privacidad y cookies"})})}),Object(po.jsx)(Ue.Item,{ratio:1,children:Object(po.jsx)("div",{children:Object(po.jsx)("a",{href:u,target:"__blank",children:"Legal"})})}),Object(po.jsx)(Ue.Item,{ratio:1,children:Object(po.jsx)("div",{children:Object(po.jsx)("a",{href:f,target:"_blank",children:"Reglamento General de Protecci\xf3n de Datos"})})})]})})]}),Object(po.jsx)(sp,{user:null===t||void 0===t?void 0:t.user,isLoggedIn:null===t||void 0===t?void 0:t.isLoggedIn})]})},hv=n(126),Ov=(n(2810),function(e){var t=e.title,n=e.description,a=e.children;return Object(po.jsx)(Nl.a,{height:"100%",width:"100%",className:"with-footer single-card",children:Object(po.jsxs)("div",{className:"dx-card content",children:[Object(po.jsxs)("div",{className:"header",children:[Object(po.jsx)("div",{className:"title",children:t}),Object(po.jsx)("div",{className:"description",children:n})]}),a]})})});function fv(){return Object(po.jsx)(hv.a,{children:Object(po.jsxs)(_e.d,{children:[Object(po.jsx)(_e.b,{exact:!0,path:"/login",children:Object(po.jsx)(Yb,{})}),Object(po.jsx)(_e.b,{exact:!0,path:"/",children:Object(po.jsx)(Yb,{})}),Object(po.jsx)(_e.b,{exact:!0,path:"/ResetPassword",children:Object(po.jsx)(Ov,{title:"",description:"",children:Object(po.jsx)(Qb,{})})}),Object(po.jsx)(_e.b,{component:Yb})]})})}var vv=n(155),gv=function(){var e=Object(c.c)((function(e){return e.user})),t=Object(c.b)();Object(_e.g)();return(null===e||void 0===e?void 0:e.isLoggedIn)||!1===e.isLoggedIn&&Ze(0,0,t)?Object(po.jsx)(mv,{}):Object(po.jsx)(fv,{})},xv=function(){var e=function(){var e=Lr();return e.isLarge?"screen-large":e.isMedium?"screen-medium":e.isSmall?"screen-small":"screen-x-small"}();return Object(po.jsx)(_e.c,{history:Object(vv.a)(),children:Object(po.jsx)(Fp,{children:Object(po.jsx)(c.a,{store:ze,children:Object(po.jsx)("div",{className:"".concat(e),children:Object(po.jsx)(gv,{})})})})})};localStorage.removeItem("APP_VERSION"),po.Fragment,_e.c,Object(vv.a)(),localStorage.getItem("user")&&localStorage.getItem("recordarUsuario")&&(localStorage.recordarUsuario="true"),c.a,Ve.a,Ue.Item;var yv=window.localStorage.getItem("lenguage")||"es-ES";Object(mp.loadMessages)(pp),Object(mp.loadMessages)(jp),Object(mp.locale)(yv),bp.a.ready((function(){i.a.render(Object(po.jsx)(xv,{}),document.getElementById("root"))})),bp.a.current(window.localStorage.getItem("dx-theme")||"generic.light"),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},765:function(e,t,n){}},[[2811,1,2]]]);
//# sourceMappingURL=main.57700898.chunk.js.map